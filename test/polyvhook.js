!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=140)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(107)),i=n(81),a=s(n(197)),o=s(n(25));function s(e){return e&&e.__esModule?e:{default:e}}var l={getTime:function(){return Math.abs(Date.now())},getPid:function(){return this.getTime()+"X"+(parseInt(1e6*Math.random())+1e6).toString()},transUnit:function(e){return isNaN(e)||(e=String(e)+"px"),e},getFormatTime:function(e){var t,n,r;return e=isNaN(e)?0:e,r=parseInt(e%60),n=parseInt(e%3600/60),(t=parseInt(e/3600))?l.padZero(t)+":"+l.padZero(n)+":"+l.padZero(r):l.padZero(n)+":"+l.padZero(r)},padZero:function(e){return new RegExp(/^\d$/g).test(e)?"0"+e:e},getParams:function(e){var t={};return Object.keys(e).filter((function(e){return e.indexOf("param")>-1})).forEach((function(n){return t[n]=e[n]})),t},addHandler:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},removeHandler:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},getString:function(){for(var e="divcss".charCodeAt(),t=[12,11,8,21,18,8,5,18,1,44,45,46,47,48,49,50,10,11,12,3,7,8,17,2],n="",r=0;r<16;r+=1){var i;i=r>8?e-t[r]:e+t[r],n+=String.fromCharCode(i)}return n},stringToBytes:function(e){for(var t=void 0,n=void 0,r=[],i=0;i<e.length;i+=1){t=e.charCodeAt(i),n=[];do{n.push(255&t),t>>=8}while(t);r=r.concat(n.reverse())}return r},channelDescrypt:function(e){if(e.code>=200&&e.code<400){var t=l.aes128CbcDecrypt(e.body,this.getString(),"1111000011110010"),n=i.Base64.decode(t);return JSON.parse(n)}return null},channelLoad:function(e){var t=1===e.channelLoadTime?e.channelUrl:e.backUpChannelUrl;return!0===e.beta_live&&(t=e.betaChannelUrl),new Promise((function(n,r){!function(t){(0,o.default)({url:t,success:function(t){try{var i=l.channelDescrypt(t);!0===e.beta_live&&(i=t),n(i)}catch(e){r(e)}},error:function(e){r(e)}})}(t)}))},aes128CbcDecrypt:function(e,t,n){var r=a.default.utils.hex.toBytes(e),i=new a.default.ModeOfOperation.cbc(this.stringToBytes(t),this.stringToBytes(n)).decrypt(r);return a.default.utils.utf8.fromBytes(i)},formatImage:function(e){for(var t=[],n=/\[\[(?!\[)((http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#]*[\w\-\@?^=%&/~\+#])?)\]\]/g,r=e.length,i=void 0,a=0;null!=(i=n.exec(e));){var o=e.slice(a,i.index);o&&t.push({text:o}),t.push({url:i[1]}),a=n.lastIndex}return a!==r&&t.push({text:e.slice(a)}),t},turnUlrToImg:function(e){var t="",n=l.formatImage(e);if(n)for(var r=n.length,i=0;i<r;i+=1){var a=n[i],o=a.url,s=a.text;o&&(t+='<img src="'+o+'" width="24px" height="24px">'),s&&(t+=s)}return t},objMerger:function(e,t){for(var n in t)e[n]=t[n];return e},decode:function(e){var t=void 0,n=void 0,r=void 0,i=void 0;if(34===e.length)t=e;else for(e=e.substr(1),t="",n=0;n<e.length;n+=1)r=e.charAt(n),t+=-1===(i="lpmkenjibhuvgycftxdrzsoawq0126783459".indexOf(r))?r:"abcdofghijklnmepqrstuvwxyz0123456789".charAt(i);return t},replaceHttps:function(e){return e.replace("http://","https://")},getLanguageTxt:function(e,t){return decodeURIComponent(e[t])},getFileExt:function(e){if(e=e.split("#")[0].split("?")[0],/\.(\w+)$/.test(e))return RegExp.$1},parseColor:function(e){if(-1===e.indexOf("#")){for(var t=(e/1).toString(16),n=6-t.length,r=0;r<n;r+=1)t="0"+t;return"#"+t}return e},colorTransform:function(e){var t=e;return-1!==e.indexOf("#")&&(t=e.replace("#","0x")),t},parseOpacity:function(e){return isNaN(e)&&-1!==e.indexOf("%")?Number(e.split("%")[0]/100):e},randomString:function(e){for(var t="",n=0;n<e;n+=1)t+=String.fromCharCode(122-Math.floor(26*Math.random()));return t},createDOMFromString:function(e){var t=document.createElement("div");return t.innerHTML=e,t.children[0]},createDivFromString:function(e){var t=document.createElement("div");return t.className=e,t},getElement:function(e,t){return e.querySelector(t)},isObject:function(e){return!!e&&"object"===(void 0===e?"undefined":(0,r.default)(e))},supportStorage:window.localStorage,storageTest:function(e){if(!e)return!1;try{return e.setItem("pvkey","value"),e.removeItem("pvkey"),!0}catch(e){return!1}},getStorage:function(e){if(!l.supportStorage)return{};var t=JSON.parse(window.localStorage.getItem("polyvLivePlayerStorage"))||{};return e?t[e]:t},deleteStorage:function(e){if(l.supportStorage){var t=l.getStorage();delete t[e],l.setStorage(t)}},setStorage:function(e,t){if(l.supportStorage)if(t||!l.isObject(e)){var n=l.getStorage();n[e]=t,window.localStorage.setItem("polyvLivePlayerStorage",JSON.stringify(n))}else window.localStorage.setItem("polyvLivePlayerStorage",JSON.stringify(e))}};t.default=l},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(128));t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(e,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={MAJORVERSION:10,MAJORREVISION:3,FLASH:"FLASH",HTML:"HTML",INSTALLER:"INSTALLER",NO_SUPPORT:"NO_SUPPORT",LOADING:"LOADING",WAITING:"WAITING",PREAD:"PREAD",READY_PLAY:"READY_PLAY",PLAYING:"PLAYING",PAUSE:"PAUSE",ERROR:"ERROR",ENDED:"ENDED"}},function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,(function(){"use strict";var e=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};function n(e,t){return e(t={exports:{}},t.exports),t.exports}e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))},"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;var r=n((function(e,t){e.exports=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){return n&&!0===n.clone&&e(t)?r(function(e){return Array.isArray(e)?[]:{}}(t),t,n):t}function n(n,i,a){var o=n.slice();return i.forEach((function(i,s){void 0===o[s]?o[s]=t(i,a):e(i)?o[s]=r(n[s],i,a):-1===n.indexOf(i)&&o.push(t(i,a))})),o}function r(i,a,o){var s=Array.isArray(a),l=(o||{arrayMerge:n}).arrayMerge||n;return s?Array.isArray(i)?l(i,a,o):t(a,o):function(n,i,a){var o={};return e(n)&&Object.keys(n).forEach((function(e){o[e]=t(n[e],a)})),Object.keys(i).forEach((function(s){e(i[s])&&n[s]?o[s]=r(n[s],i[s],a):o[s]=t(i[s],a)})),o}(i,a,o)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return r(e,n,t)}))},r}()})),i=n((function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default})),a=i.svg,o=i.xlink,s={};s[a.name]=a.uri,s[o.name]=o.uri;return function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){return function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n}(function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(r(s,t||{}))+">"+e+"</svg>"}(this.stringify())).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(e)}))}).call(this,n(57))},function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,(function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;var n=e((function(e,t){e.exports=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){return n&&!0===n.clone&&e(t)?r(function(e){return Array.isArray(e)?[]:{}}(t),t,n):t}function n(n,i,a){var o=n.slice();return i.forEach((function(i,s){void 0===o[s]?o[s]=t(i,a):e(i)?o[s]=r(n[s],i,a):-1===n.indexOf(i)&&o.push(t(i,a))})),o}function r(i,a,o){var s=Array.isArray(a),l=(o||{arrayMerge:n}).arrayMerge||n;return s?Array.isArray(i)?l(i,a,o):t(a,o):function(n,i,a){var o={};return e(n)&&Object.keys(n).forEach((function(e){o[e]=t(n[e],a)})),Object.keys(i).forEach((function(s){e(i[s])&&n[s]?o[s]=r(n[s],i[s],a):o[s]=t(i[s],a)})),o}(i,a,o)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return r(e,n,t)}))},r}()})),r=e((function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default})),i=r.svg,a=r.xlink,o={};o[i.name]=i.uri,o[a.name]=a.uri;var s,l=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(n(o,t||{}))+">"+e+"</svg>"},u=r.svg,c=r.xlink,d={attrs:(s={style:["position: absolute","width: 0","height: 0"].join("; ")},s[u.name]=u.uri,s[c.name]=c.uri,s)},f=function(e){this.config=n(d,e||{}),this.symbols=[]};f.prototype.add=function(e){var t=this.symbols,n=this.find(e.id);return n?(t[t.indexOf(n)]=e,!1):(t.push(e),!0)},f.prototype.remove=function(e){var t=this.symbols,n=this.find(e);return!!n&&(t.splice(t.indexOf(n),1),n.destroy(),!0)},f.prototype.find=function(e){return this.symbols.filter((function(t){return t.id===e}))[0]||null},f.prototype.has=function(e){return null!==this.find(e)},f.prototype.stringify=function(){var e=this.config.attrs,t=this.symbols.map((function(e){return e.stringify()})).join("");return l(t,e)},f.prototype.toString=function(){return this.stringify()},f.prototype.destroy=function(){this.symbols.forEach((function(e){return e.destroy()}))};var h=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};h.prototype.stringify=function(){return this.content},h.prototype.toString=function(){return this.stringify()},h.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};var p=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},v=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return p(l(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(h),g={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},m=function(e){return Array.prototype.slice.call(e,0)},y=navigator.userAgent,A={isChrome:/chrome/i.test(y),isFirefox:/firefox/i.test(y),isIE:/msie/i.test(y)||/trident/i.test(y),isEdge:/edge/i.test(y)},_=function(e){var t=[];return m(e.querySelectorAll("style")).forEach((function(e){e.textContent+="",t.push(e)})),t},b=function(e){return(e||window.location.href).split("#")[0]},E=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",(function(t,n,r){!function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!1,!1,t),window.dispatchEvent(n)}(e,{oldUrl:r,newUrl:n})}))}])},w=function(e,t){return void 0===t&&(t="linearGradient, radialGradient, pattern"),m(e.querySelectorAll("symbol")).forEach((function(e){m(e.querySelectorAll(t)).forEach((function(t){e.parentNode.insertBefore(t,e)}))})),e},S=r.xlink.uri,k="xlink:href",C=/[{}|\\\^\[\]`"<>]/g;function T(e){return e.replace(C,(function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()}))}var I,x=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],R=x.map((function(e){return"["+e+"]"})).join(","),L={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"},O=function(e){function t(t){var r=this;void 0===t&&(t={}),e.call(this,n(g,t));var i=function(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).map((function(e){e(n)})),(e["*"]||[]).map((function(e){e(t,n)}))}}}();this._emitter=i,this.node=null;var a=this.config;if(a.autoConfigure&&this._autoConfigure(t),a.syncUrlsWithBaseTag){var o=document.getElementsByTagName("base")[0].getAttribute("href");i.on(L.MOUNT,(function(){return r.updateUrls("#",o)}))}var s=this._handleLocationChange.bind(this);this._handleLocationChange=s,a.listenLocationChangeEvent&&window.addEventListener(a.locationChangeEvent,s),a.locationChangeAngularEmitter&&E(a.locationChangeEvent),i.on(L.MOUNT,(function(e){a.moveGradientsOutsideSymbol&&w(e)})),i.on(L.SYMBOL_MOUNT,(function(e){a.moveGradientsOutsideSymbol&&w(e.parentNode),(A.isIE||A.isEdge)&&_(e)}))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},t.prototype._autoConfigure=function(e){var t=this.config;void 0===e.syncUrlsWithBaseTag&&(t.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(t.locationChangeAngularEmitter="angular"in window),void 0===e.moveGradientsOutsideSymbol&&(t.moveGradientsOutsideSymbol=A.isFirefox)},t.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,r=t.newUrl;this.updateUrls(n,r)},t.prototype.add=function(t){var n=e.prototype.add.call(this,t);return this.isMounted&&n&&(t.mount(this.node),this._emitter.emit(L.SYMBOL_MOUNT,t.node)),n},t.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e;return n.node=r,this.symbols.forEach((function(e){e.mount(n.node),t._emitter.emit(L.SYMBOL_MOUNT,e.node)})),m(r.querySelectorAll("symbol")).forEach((function(e){var t=v.createFromExistingNode(e);t.node=e,n.add(t)})),this._emitter.emit(L.MOUNT,r),r},t.prototype.destroy=function(){var e=this.config,t=this.symbols,n=this._emitter;t.forEach((function(e){return e.destroy()})),n.off("*"),window.removeEventListener(e.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},t.prototype.mount=function(e,t){if(void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1),this.isMounted)return this.node;var n="string"==typeof e?document.querySelector(e):e,r=this.render();return this.node=r,t&&n.childNodes[0]?n.insertBefore(r,n.childNodes[0]):n.appendChild(r),this._emitter.emit(L.MOUNT,r),r},t.prototype.render=function(){return p(this.stringify())},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},t.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return function(e,t,n,r){var i=T(n),a=T(r);(function(e,t){return m(e).reduce((function(e,n){if(!n.attributes)return e;var r=m(n.attributes),i=t?r.filter(t):r;return e.concat(i)}),[])})(e.querySelectorAll(R),(function(e){var t=e.localName,n=e.value;return-1!==x.indexOf(t)&&-1!==n.indexOf("url("+i)})).forEach((function(e){return e.value=e.value.replace(i,a)})),function(e,t,n){m(e).forEach((function(e){var r=e.getAttribute(k);if(r&&0===r.indexOf(t)){var i=r.replace(t,n);e.setAttributeNS(S,k,i)}}))}(t,i,a)}(this.node,n,b(e)+"#",b(t)+"#"),!0},Object.defineProperties(t.prototype,r),t}(f),D=e((function(e){
/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
e.exports=function(){var e,t=[],n=document,r=(n.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return r||n.addEventListener("DOMContentLoaded",e=function(){for(n.removeEventListener("DOMContentLoaded",e),r=1;e=t.shift();)e()}),function(e){r?setTimeout(e,0):t.push(e)}}()}));window.__SVG_SPRITE__?I=window.__SVG_SPRITE__:(I=new O({attrs:{id:"__SVG_SPRITE_NODE__"}}),window.__SVG_SPRITE__=I);var M=function(){var e=document.getElementById("__SVG_SPRITE_NODE__");e?I.attach(e):I.mount(document.body,!0)};return document.body?M():D(M),I}))}).call(this,n(57))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(14)),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"e",value:function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var r="["+t+"] > "+n;e.ENABLE_CALLBACK&&e.emitter.emit("log","error",r),e.ENABLE_ERROR&&(console.error?console.error(r):console.warn?console.warn(r):console.log(r))}},{key:"i",value:function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var r="["+t+"] > "+n;e.ENABLE_CALLBACK&&e.emitter.emit("log","info",r),e.ENABLE_INFO&&(console.info?console.info(r):console.log(r))}},{key:"w",value:function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var r="["+t+"] > "+n;e.ENABLE_CALLBACK&&e.emitter.emit("log","warn",r),e.ENABLE_WARN&&(console.warn?console.warn(r):console.log(r))}},{key:"d",value:function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var r="["+t+"] > "+n;e.ENABLE_CALLBACK&&e.emitter.emit("log","debug",r),e.ENABLE_DEBUG&&(console.debug?console.debug(r):console.log(r))}},{key:"v",value:function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var r="["+t+"] > "+n;e.ENABLE_CALLBACK&&e.emitter.emit("log","verbose",r),e.ENABLE_VERBOSE&&console.log(r)}}]),e}();a.GLOBAL_TAG="flv.js",a.FORCE_GLOBAL_TAG=!1,a.ENABLE_ERROR=!0,a.ENABLE_INFO=!0,a.ENABLE_WARN=!0,a.ENABLE_DEBUG=!0,a.ENABLE_VERBOSE=!0,a.ENABLE_CALLBACK=!1,a.emitter=new i.default,t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=t.RuntimeException=function(){function e(t){o(this,e),this._message=t}return r(e,[{key:"toString",value:function(){return this.name+": "+this.message}},{key:"name",get:function(){return"RuntimeException"}},{key:"message",get:function(){return this._message}}]),e}();t.IllegalStateException=function(e){function t(e){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,s),r(t,[{key:"name",get:function(){return"IllegalStateException"}}]),t}(),t.InvalidArgumentException=function(e){function t(e){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,s),r(t,[{key:"name",get:function(){return"InvalidArgumentException"}}]),t}(),t.NotImplementedException=function(e){function t(e){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,s),r(t,[{key:"name",get:function(){return"NotImplementedException"}}]),t}()},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(76)("wks"),i=n(54),a=n(8).Symbol,o="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r},function(e,t,n){var r=n(64)("wks"),i=n(34),a=n(13).Symbol,o="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r},function(e,t){var n=e.exports={version:"2.6.10"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CHANGE_LIVE_STATUS:"changeLiveStatus",CHANGE_MULTIRATE:"changeMultirate",SHOW_TIPS:"showTips",VIDEO_FROZE:"videoFroze",CHANGE_LEVEL:"changeLevel",ON_LEVEL_CHANGED:"onLevelsChanged",CHANGE_RATE_EVENT:"changeRateEvent",CHANGE_RATE:"changeRate",CHANGE_LINE:"changeLine",ON_LINE_CHANGED:"ON_LINE_CHANGED",API_CHANGE_LINE:"apiChangeLine",START_FIRST_LOADING:"START_FIRST_LOADING",END_FIRST_LOADING:"END_FIRST_LOADING",START_BUFFER:"START_BUFFER",END_BUFFER:"END_BUFFER",PLAYER_ERROR:"PLAYER_ERROR",AD_PLAY:"AD_PLAY",AD_ERROR:"AD_ERROR",ERROR_DESTROY:"ERROR_DESTROY"}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,a=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,a,o;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"==typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=u(e))>0&&o.length>i&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,function(e){console&&console.warn&&console.warn(e)}(s)}return e}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,a(this.listener,this.target,e))}.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)a(l,this,t);else{var u=l.length,c=p(l,u);for(n=0;n<u;++n)a(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,a,o;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){var r=n(23);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseLoader=t.LoaderErrors=t.LoaderStatus=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=t.LoaderStatus={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4};t.LoaderErrors={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},t.BaseLoader=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._type=t||"undefined",this._status=a.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return r(e,[{key:"destroy",value:function(){this._status=a.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}},{key:"isWorking",value:function(){return this._status===a.kConnecting||this._status===a.kBuffering}},{key:"open",value:function(e,t){throw new i.NotImplementedException("Unimplemented abstract function!")}},{key:"abort",value:function(){throw new i.NotImplementedException("Unimplemented abstract function!")}},{key:"type",get:function(){return this._type}},{key:"status",get:function(){return this._status}},{key:"needStashBuffer",get:function(){return this._needStash}},{key:"onContentLengthKnown",get:function(){return this._onContentLengthKnown},set:function(e){this._onContentLengthKnown=e}},{key:"onURLRedirect",get:function(){return this._onURLRedirect},set:function(e){this._onURLRedirect=e}},{key:"onDataArrival",get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e}},{key:"onError",get:function(){return this._onError},set:function(e){this._onError=e}},{key:"onComplete",get:function(){return this._onComplete},set:function(e){this._onComplete=e}}]),e}()},function(e,t,n){e.exports=!n(43)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(26),i=n(46);e.exports=n(17)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(15),i=n(109),a=n(73),o=Object.defineProperty;t.f=n(20)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),i)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(52)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(35),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(19),i=n(53);e.exports=n(20)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";e.exports=function(e){function t(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.push("v="+Math.floor(1e4*Math.random()+500)),t.join("&")}(e=e||{}).data=e.data||{},e.jsonp?function(e){var n=void 0,r=e.jsonp,i=document.getElementsByTagName("head")[0];e.data.callback=r;var a=t(e.data),o=document.createElement("script");i.appendChild(o),window[r]=function(t){e.success&&e.success(t),n=t,i.removeChild(o),clearTimeout(o.timer),window[r]=null},o.onload=o.onerror=o.onreadystatechange=function(t){if(!o.readyState||!/i/.test(o.readyState)){try{o.onclick&&o.onclick()}catch(e){}t=n,n=0,t?t[0]:e.error&&e.error({message:"超时"})}},e.url.indexOf("?")>-1?o.src=e.url+"&"+a:o.src=e.url+"?"+a,e.time&&(o.timer=setTimeout((function(){clearTimeout(o.timer),window[r]=null,i.removeChild(o),e.error&&e.error({message:"超时"})}),e.time))}(e):function(e){e.type=(e.type||"GET").toUpperCase(),e.data=t(e.data);var n=null;(n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObjcet("Microsoft.XMLHTTP")).onreadystatechange=function(){if(4==n.readyState){var t=n.status;if(t>=200&&t<300||304==n.status){var r,i=n.getResponseHeader("Content-type");return r=-1!==i.indexOf("xml")&&n.responseXML?n.responseXML:-1!=i.indexOf("application/json")?JSON.parse(n.responseText):n.responseText,e.success&&e.success(r),r}return e.error&&e.error(t),t}},"GET"==e.type?(e.url.indexOf("?")>-1?e.url=e.url+"&"+e.data:e.url=e.url+"?"+e.data,n.open(e.type,e.url,!0),n.timeout=e.time,n.withCredentials=e.withCredentials||!1,n.send(null)):(n.open(e.type,e.url,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.timeout=e.time,n.send(e.data))}(e)}},function(e,t,n){var r=n(45),i=n(91),a=n(62),o=Object.defineProperty;t.f=n(17)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),i)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(8),i=n(11),a=n(50),o=n(22),s=n(24),l=function(e,t,n){var u,c,d,f=e&l.F,h=e&l.G,p=e&l.S,v=e&l.P,g=e&l.B,m=e&l.W,y=h?i:i[t]||(i[t]={}),A=y.prototype,_=h?r:p?r[t]:(r[t]||{}).prototype;for(u in h&&(n=t),n)(c=!f&&_&&void 0!==_[u])&&s(y,u)||(d=c?_[u]:n[u],y[u]=h&&"function"!=typeof _[u]?n[u]:g&&c?a(d,r):m&&_[u]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):v&&"function"==typeof d?a(Function.call,d):d,v&&((y.virtual||(y.virtual={}))[u]=d,e&l.R&&A&&!A[u]&&o(A,u,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){e.exports={}},function(e,t,n){var r=n(180),i=n(71);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";e.exports={passwordInput:["%E8%A7%86%E9%A2%91%E5%B7%B2%E5%8A%A0%E5%AF%86%2C%E8%AF%B7%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81","Input%20password%20please%3A"],okBtn:["%E7%A1%AE%E5%AE%9A","ok"],danmu:["%E5%BC%B9%E5%B9%95","DanMu"],passwordFail:["%E8%AF%B7%E5%A1%AB%E5%86%99%E6%AD%A3%E7%A1%AE%E7%9A%84%E5%AF%86%E7%A0%81!","The%20password%20you%20entered%20is%20incorrect!"],channelError:["%E8%AF%B7%E5%88%B7%E6%96%B0%E9%A1%B5%E9%9D%A2%E9%87%8D%E8%AF%95","Please%20refresh%20the%20page%20and%20try%20again"],browserError:["%E8%AF%A5%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8D%E6%94%AF%E6%8C%81H5","This%20browser%20does%20not%20support%20H5"],errorMsg:["%E5%BD%93%E5%89%8D%E7%9B%B4%E6%92%AD%E6%97%A0%E6%B3%95%E6%92%AD%E6%94%BE \n %E8%AF%B7%E5%88%B7%E6%96%B0%E9%87%8D%E8%AF%95%E6%88%96%E5%90%91%E7%AE%A1%E7%90%86%E5%91%98%E5%8F%8D%E9%A6%88","Live%20streaming%20has%20failed%20 \n please%20refresh%20or%20contact%20admin"],popupErrorMsg:["%E5%BD%93%E5%89%8D%E7%A6%81%E6%AD%A2%E5%B0%8F%E7%AA%97%E6%92%AD%E6%94%BE \n %E8%AF%B7%E9%87%8D%E6%96%B0%E6%89%93%E5%BC%80%E9%A1%B5%E9%9D%A2%E6%88%96%E9%87%8D%E5%90%AF%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BB%A7%E7%BB%AD%E6%92%AD%E6%94%BE","Pop-up%20play%20is%20prohibited \n Please%20reopen%20the%20web%20page%20or%20browser%20to%20resume"],marqueeErrorMsg:["%E8%B7%91%E9%A9%AC%E7%81%AF%E5%BC%82%E5%B8%B8 \n %E6%82%A8%E6%97%A0%E6%9D%83%E8%A7%82%E7%9C%8B%E6%9C%AC%E7%9B%B4%E6%92%AD","The%20marquee%20is%20abnormal \n You%20are%20not%20authorized%20to%20watch%20this%20live%20broadcast"],tipsMsg:["%E6%98%AF%E5%90%A6%E5%85%81%E8%AE%B8%E6%B5%8F%E8%A7%88%E5%99%A8%E6%92%AD%E6%94%BE%E5%A3%B0%E9%9F%B3%20%3F","Do%20you%20allow%20the%20browser%20to%20play%20sound%3F"],tipsPlayAudioMsg:["%E6%92%AD%E6%94%BE%E5%A3%B0%E9%9F%B3","Yes"],tipsIgnoreMsg:["%E5%BF%BD%E7%95%A5","No"],testUserTipsMsg:["%E6%82%A8%E6%AD%A3%E5%9C%A8%E8%A7%82%E7%9C%8B%22Polyv%22%E7%9B%B4%E6%92%AD%E6%B5%8B%E8%AF%95%E8%A7%86%E9%A2%91%20http%3A%2F%2Flive.polyv.net","You%20are%20watching%20the%20%22Polyv%22%20live%20test%20video%20http%3A%2F%2Flive.polyv.net"]}},function(e,t){var n=e.exports={version:"2.6.10"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(101);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports={}},function(e,t){e.exports=!0},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};!function(){var e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(e)||[],n=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],i={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:n[0]||""},a={};if(i.browser){a[i.browser]=!0;var o=i.majorVersion.split(".");a.version={major:parseInt(i.majorVersion,10),string:i.version},o.length>1&&(a.version.minor=parseInt(o[1],10)),o.length>2&&(a.version.build=parseInt(o[2],10))}for(var s in i.platform&&(a[i.platform]=!0),(a.chrome||a.opr||a.safari)&&(a.webkit=!0),(a.rv||a.iemobile)&&(a.rv&&delete a.rv,i.browser="msie",a.msie=!0),a.edge&&(delete a.edge,i.browser="msedge",a.msedge=!0),a.opr&&(i.browser="opera",a.opera=!0),a.safari&&a.android&&(i.browser="android",a.android=!0),a.name=i.browser,a.platform=i.platform,r)r.hasOwnProperty(s)&&delete r[s];Object.assign(r,a)}(),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={hasClass:function(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){this.hasClass(e,t)||(e.className+=" "+t)},removeClass:function(e,t){if(this.hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/(^\s*)|(\s*$)/g,"")}},toggleClass:function(e,t){this.hasClass(e,t)?this.removeClass(e,t):this.addClass(e,t)}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},i=window.navigator&&window.navigator.userAgent||"";r.host=window.location&&window.location.host||"",r.protocol=window.location&&"http:"===window.location.protocol?"http:":"https:",r.isDesktop=/\b(Windows\sNT|Macintosh|Linux)\b/.test(i),r.isMobile=/mobile|android/i.test(i),r.isIe=/Trident/.test(i)||/MSIE/.test(i),t.default=r},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=!1},function(e,t,n){var r=n(33);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(100),i=n(101);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(35),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):a(e,t)}},function(e,t,n){"use strict";var r=n(177)(!0);n(108)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(51);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(19).f,i=n(24),a=n(9)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){n(184);for(var r=n(8),i=n(22),a=n(29),o=n(9)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=r[u],d=c&&c.prototype;d&&!d[o]&&i(d,o,u),a[u]=a.Array}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint",SEI_INFO:"sei_info",AVC_DECODER_CHANGE:"avc_decoder_change"}},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(128));t.default=function(e,t,n){return t in e?(0,r.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){!function(){var t=n(237),r=n(130).utf8,i=n(238),a=n(130).bin,o=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?a.stringToBytes(e):r.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var s=t.bytesToWords(e),l=8*e.length,u=1732584193,c=-271733879,d=-1732584194,f=271733878,h=0;h<s.length;h++)s[h]=16711935&(s[h]<<8|s[h]>>>24)|4278255360&(s[h]<<24|s[h]>>>8);s[l>>>5]|=128<<l%32,s[14+(l+64>>>9<<4)]=l;var p=o._ff,v=o._gg,g=o._hh,m=o._ii;for(h=0;h<s.length;h+=16){var y=u,A=c,_=d,b=f;c=m(c=m(c=m(c=m(c=g(c=g(c=g(c=g(c=v(c=v(c=v(c=v(c=p(c=p(c=p(c=p(c,d=p(d,f=p(f,u=p(u,c,d,f,s[h+0],7,-680876936),c,d,s[h+1],12,-389564586),u,c,s[h+2],17,606105819),f,u,s[h+3],22,-1044525330),d=p(d,f=p(f,u=p(u,c,d,f,s[h+4],7,-176418897),c,d,s[h+5],12,1200080426),u,c,s[h+6],17,-1473231341),f,u,s[h+7],22,-45705983),d=p(d,f=p(f,u=p(u,c,d,f,s[h+8],7,1770035416),c,d,s[h+9],12,-1958414417),u,c,s[h+10],17,-42063),f,u,s[h+11],22,-1990404162),d=p(d,f=p(f,u=p(u,c,d,f,s[h+12],7,1804603682),c,d,s[h+13],12,-40341101),u,c,s[h+14],17,-1502002290),f,u,s[h+15],22,1236535329),d=v(d,f=v(f,u=v(u,c,d,f,s[h+1],5,-165796510),c,d,s[h+6],9,-1069501632),u,c,s[h+11],14,643717713),f,u,s[h+0],20,-373897302),d=v(d,f=v(f,u=v(u,c,d,f,s[h+5],5,-701558691),c,d,s[h+10],9,38016083),u,c,s[h+15],14,-660478335),f,u,s[h+4],20,-405537848),d=v(d,f=v(f,u=v(u,c,d,f,s[h+9],5,568446438),c,d,s[h+14],9,-1019803690),u,c,s[h+3],14,-187363961),f,u,s[h+8],20,1163531501),d=v(d,f=v(f,u=v(u,c,d,f,s[h+13],5,-1444681467),c,d,s[h+2],9,-51403784),u,c,s[h+7],14,1735328473),f,u,s[h+12],20,-1926607734),d=g(d,f=g(f,u=g(u,c,d,f,s[h+5],4,-378558),c,d,s[h+8],11,-2022574463),u,c,s[h+11],16,1839030562),f,u,s[h+14],23,-35309556),d=g(d,f=g(f,u=g(u,c,d,f,s[h+1],4,-1530992060),c,d,s[h+4],11,1272893353),u,c,s[h+7],16,-155497632),f,u,s[h+10],23,-1094730640),d=g(d,f=g(f,u=g(u,c,d,f,s[h+13],4,681279174),c,d,s[h+0],11,-358537222),u,c,s[h+3],16,-722521979),f,u,s[h+6],23,76029189),d=g(d,f=g(f,u=g(u,c,d,f,s[h+9],4,-640364487),c,d,s[h+12],11,-421815835),u,c,s[h+15],16,530742520),f,u,s[h+2],23,-995338651),d=m(d,f=m(f,u=m(u,c,d,f,s[h+0],6,-198630844),c,d,s[h+7],10,1126891415),u,c,s[h+14],15,-1416354905),f,u,s[h+5],21,-57434055),d=m(d,f=m(f,u=m(u,c,d,f,s[h+12],6,1700485571),c,d,s[h+3],10,-1894986606),u,c,s[h+10],15,-1051523),f,u,s[h+1],21,-2054922799),d=m(d,f=m(f,u=m(u,c,d,f,s[h+8],6,1873313359),c,d,s[h+15],10,-30611744),u,c,s[h+6],15,-1560198380),f,u,s[h+13],21,1309151649),d=m(d,f=m(f,u=m(u,c,d,f,s[h+4],6,-145523070),c,d,s[h+11],10,-1120210379),u,c,s[h+2],15,718787259),f,u,s[h+9],21,-343485551),u=u+y>>>0,c=c+A>>>0,d=d+_>>>0,f=f+b>>>0}return t.endian([u,c,d,f])};o._ff=function(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},o._gg=function(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},o._hh=function(e,t,n,r,i,a,o){var s=e+(t^n^r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},o._ii=function(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+(i>>>0)+o;return(s<<a|s>>>32-a)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,n){if(null==e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(o(e,n));return n&&n.asBytes?r:n&&n.asString?a.bytesToString(r):t.bytesToHex(r)}}()},function(e,t,n){"use strict";var r=n(81),i=u(n(133)),a=u(n(3)),o=u(n(60)),s=u(n(25)),l=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var c={init:function(e){this.startRender(e)},startRender:function(e){var t=this;this.render=setInterval((function(){t.countPd(e),e.vodsrc||e.guide?(e.param3="vod",!0===e.guide&&(e.param3="live")):t.getApi(e),t.sendStat(e),"Y"!==e.h5LowLatency&&!0!==e.lowLatency||"Y"===e.useHls||t.resetStreamTime(e),e.ban_ui||e.skin_float||e.flowStatus===a.default.PAUSE||t.hideBar(e)}),100)},destroy:function(){clearInterval(this.render)},hideBar:function(e){var t=l.default.getTime();e.barHideTimeStampSt||(e.barHideTimeStampSt=t),l.default.getTime()-e.barHideTimeStampSt>1e3*e.barHideTime&&(e.barHideTimeStampSt=t,e.bar.dom.setAttribute("class","plv-live-player-bar"))},countPd:function(e){var t=l.default.getTime();e.playDurTimeStampSt||(e.playDurTimeStampSt=t),l.default.getTime()-e.playDurTimeStampSt>1e3&&(e.playDurTimeStampSt=t,e.currentTime>0&&e.currentTime!==e.oldTime&&(e.playDuration+=1),e.oldTime=e.currentTime),e.sendStatusTimeStampSt||(e.sendStatusTimeStampSt=t)},getApi:function(e){var t=l.default.getTime();e.apiTimeStampSt||(e.apiTimeStampSt=t),l.default.getTime()-e.apiTimeStampSt>6e3&&(e.apiTimeStampSt=t,(0,i.default)(e).load())},resetStreamTime:function(e){var t=l.default.getTime();e.streamTimeStampSt||(e.streamTimeStampSt=t),l.default.getTime()-e.streamTimeStampSt>15e3&&!1===e.isVodMode&&e.videoPanel&&e.flowStatus===a.default.PLAYING&&e.video&&e.video.buffered.length>0&&e.video.buffered.end(0)-e.video.currentTime>5&&(console.info("resetStream-----"),e.videoPanel.resetStream())},sendStat:function(e){var t=l.default.getTime();!e.banSendViewLog&&e.playDuration>0&&l.default.getTime()-e.sendStatusTimeStampSt>1e3*e.reportFreq&&(e.sendStatusTimeStampSt=t,e.flowStatus===a.default.PLAYING&&this.sendParam(e))},sendStat2:function(e){e.banSendViewLog||this.sendParam(e)},sendParam:function(e){var t=l.default.getTime(),n=e.playDuration||1,i=Math.floor((l.default.getTime()-e.initTimeStampSt)/1e3),a=window.location.href,s=e.MD5_SALT+e.pid+e.vid+0+n,u=(0,o.default)(s),c="pid="+e.pid+"&uid="+e.uid+"&cid="+e.vid+"&flow=0&pd="+n+"&sd="+i+"&ts="+t+"&href="+r.Base64.encodeURI(a)+"&pn="+e.pn+"&pv="+e.version+"&sign="+u+"&param1="+r.Base64.encodeURI(e.param1.trim())+"&param2="+r.Base64.encodeURI(e.param2.trim())+"&param3="+r.Base64.encodeURI(e.param3.trim())+"&param4="+r.Base64.encodeURI(e.param4.trim())+"&param5="+r.Base64.encodeURI(e.param5.trim())+"&session_id="+r.Base64.encodeURI(e.session_id.trim())+"&key1="+r.Base64.encodeURI(e.key1.trim())+"&key2="+r.Base64.encodeURI(e.key2.trim())+"&key3="+r.Base64.encodeURI(e.key3.trim())+"&ute="+e.ute.trim()+"&uted="+r.Base64.encodeURI(e.uted.trim())+"&cts="+e.currentTime;this.send(e.statSendPath,c)},send:function(e,t){""!==t&&(e+="?"+t),(0,s.default)({url:e,data:{}})}};e.exports=c},function(e,t,n){var r=n(33);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(13),i=n(18),a=n(27),o=n(34)("src"),s=n(144),l=(""+s).split("toString");n(32).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(a(n,"name")||i(n,"name",t)),e[t]!==n&&(u&&(a(n,o)||i(n,o,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[o]||s.call(this)}))},function(e,t,n){var r=n(32),i=n(13),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(44)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(93);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(64)("keys"),i=n(34);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(26).f,i=n(27),a=n(10)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(23),i=n(8).document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(23);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(112),i=n(77);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(76)("keys"),i=n(54);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(11),i=n(8),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(38)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){t.f=n(9)},function(e,t,n){var r=n(8),i=n(11),a=n(38),o=n(78),s=n(19).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t){t.f={}.propertyIsEnumerable},function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(global,factory){module.exports=function(global){"use strict";var _Base64=(global=global||{}).Base64,version="2.5.1",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),t>=2?"=":b64chars.charAt(n>>>6&63),t>=1?"=":b64chars.charAt(63&n)].join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return fromCharCode(55296+(t>>>10))+fromCharCode(56320+(1023&t));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,n=t%4,r=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),i=[fromCharCode(r>>>16),fromCharCode(r>>>8&255),fromCharCode(255&r)];return i.length-=[0,0,2,1][n],i.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum((function(){return decode(this)}))),Object.defineProperty(String.prototype,"toBase64",noEnum((function(e){return encode(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",noEnum((function(){return encode(this,!0)})))}}return global.Meteor&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}}(global)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this)}).call(this,__webpack_require__(57))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDefaultConfig=function(){return Object.assign({},r)};var r=t.defaultConfig={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",SEI_INFO:"sei_info",AVC_DECODER_CHANGE:"avc_decoder_change"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=o(n(14)),a=o(n(6));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"getConfig",value:function(){return{globalTag:a.default.GLOBAL_TAG,forceGlobalTag:a.default.FORCE_GLOBAL_TAG,enableVerbose:a.default.ENABLE_VERBOSE,enableDebug:a.default.ENABLE_DEBUG,enableInfo:a.default.ENABLE_INFO,enableWarn:a.default.ENABLE_WARN,enableError:a.default.ENABLE_ERROR,enableCallback:a.default.ENABLE_CALLBACK}}},{key:"applyConfig",value:function(e){a.default.GLOBAL_TAG=e.globalTag,a.default.FORCE_GLOBAL_TAG=e.forceGlobalTag,a.default.ENABLE_VERBOSE=e.enableVerbose,a.default.ENABLE_DEBUG=e.enableDebug,a.default.ENABLE_INFO=e.enableInfo,a.default.ENABLE_WARN=e.enableWarn,a.default.ENABLE_ERROR=e.enableError,a.default.ENABLE_CALLBACK=e.enableCallback}},{key:"_notifyChange",value:function(){var t=e.emitter;if(t.listenerCount("change")>0){var n=e.getConfig();t.emit("change",n)}}},{key:"registerListener",value:function(t){e.emitter.addListener("change",t)}},{key:"removeListener",value:function(t){e.emitter.removeListener("change",t)}},{key:"addLogListener",value:function(t){a.default.emitter.addListener("log",t),a.default.emitter.listenerCount("log")>0&&(a.default.ENABLE_CALLBACK=!0,e._notifyChange())}},{key:"removeLogListener",value:function(t){a.default.emitter.removeListener("log",t),0===a.default.emitter.listenerCount("log")&&(a.default.ENABLE_CALLBACK=!1,e._notifyChange())}},{key:"forceGlobalTag",get:function(){return a.default.FORCE_GLOBAL_TAG},set:function(t){a.default.FORCE_GLOBAL_TAG=t,e._notifyChange()}},{key:"globalTag",get:function(){return a.default.GLOBAL_TAG},set:function(t){a.default.GLOBAL_TAG=t,e._notifyChange()}},{key:"enableAll",get:function(){return a.default.ENABLE_VERBOSE&&a.default.ENABLE_DEBUG&&a.default.ENABLE_INFO&&a.default.ENABLE_WARN&&a.default.ENABLE_ERROR},set:function(t){a.default.ENABLE_VERBOSE=t,a.default.ENABLE_DEBUG=t,a.default.ENABLE_INFO=t,a.default.ENABLE_WARN=t,a.default.ENABLE_ERROR=t,e._notifyChange()}},{key:"enableDebug",get:function(){return a.default.ENABLE_DEBUG},set:function(t){a.default.ENABLE_DEBUG=t,e._notifyChange()}},{key:"enableVerbose",get:function(){return a.default.ENABLE_VERBOSE},set:function(t){a.default.ENABLE_VERBOSE=t,e._notifyChange()}},{key:"enableInfo",get:function(){return a.default.ENABLE_INFO},set:function(t){a.default.ENABLE_INFO=t,e._notifyChange()}},{key:"enableWarn",get:function(){return a.default.ENABLE_WARN},set:function(t){a.default.ENABLE_WARN=t,e._notifyChange()}},{key:"enableError",get:function(){return a.default.ENABLE_ERROR},set:function(t){a.default.ENABLE_ERROR=t,e._notifyChange()}}]),e}();s.emitter=new i.default,t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return r(e,[{key:"isComplete",value:function(){var e=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,t=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&null!=this.duration&&null!=this.metadata&&null!=this.hasKeyframesIndex&&e&&t}},{key:"isSeekable",value:function(){return!0===this.hasKeyframesIndex}},{key:"getNearestKeyframe",value:function(e){if(null==this.keyframesIndex)return null;var t=this.keyframesIndex,n=this._search(t.times,e);return{index:n,milliseconds:t.times[n],fileposition:t.filepositions[n]}}},{key:"_search",value:function(e,t){var n=0,r=e.length-1,i=0,a=0,o=r;for(t<e[0]&&(n=0,a=o+1);a<=o;){if((i=a+Math.floor((o-a)/2))===r||t>=e[i]&&t<e[i+1]){n=i;break}e[i]<t?a=i+1:o=i-1}return n}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},function(e,t,n){"use strict";var r=y(n(224)),i=y(n(227)),a=y(n(229)),o=y(n(231)),s=y(n(233)),l=y(n(235)),u=y(n(236)),c=y(n(240)),d=y(n(241)),f=y(n(282)),h=y(n(3)),p=y(n(284)),v=y(n(286)),g=y(n(288)),m=y(n(290));function y(e){return e&&e.__esModule?e:{default:e}}var A={plvContainer:null,init:function(e){e.wrapContainer.children.length>0&&(e.wrapContainer.innerHTML=""),e.plvContainerPanel=(0,c.default)(e).createDom(),e.wrapContainer.appendChild(e.plvContainerPanel),e.node=[],e.updateFlowStatus=function(t){e.flowStatus=t;for(var n=0;n<e.node.length;n++)"function"==typeof e.node[n].updateFlow&&e.node[n].updateFlow()},this.initErrorPanel(e),this.initVideoPanel(e),this.initDanmuPanel(e)},initErrorPanel:function(e){var t=(0,o.default)(e);e.plvContainerPanel.appendChild(t.createDom()),e.node.push(t)},initVideoPanel:function(e){var t=(0,f.default)(e);e.plvContainerPanel.appendChild(t.createDom()),e.node.push(t)},initDanmuPanel:function(e){var t=(0,r.default)(e);e.plvContainerPanel.appendChild(t.createDom()),e.node.push(t)},initPanel:function(e){for(var t=[p.default,l.default,u.default,s.default,i.default,a.default,d.default,m.default,v.default,g.default],n=document.createDocumentFragment(),r=0;r<t.length;r++){var o=t[r](e),c=o.createDom();c&&(n.appendChild(c),e.node.push(o))}e.plvContainerPanel.appendChild(n),e.updateFlowStatus(h.default.LOADING)},destroy:function(e){e.wrapContainer.children.length>0&&(e.wrapContainer.innerHTML="")}};e.exports=A},function(e,t,n){var r=n(39),i=n(9)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,n){"use strict";var r=n(51);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}(e)}},function(e,t,n){var r=n(13),i=n(32),a=n(18),o=n(63),s=n(65),l=function(e,t,n){var u,c,d,f,h=e&l.F,p=e&l.G,v=e&l.S,g=e&l.P,m=e&l.B,y=p?r:v?r[t]||(r[t]={}):(r[t]||{}).prototype,A=p?i:i[t]||(i[t]={}),_=A.prototype||(A.prototype={});for(u in p&&(n=t),n)d=((c=!h&&y&&void 0!==y[u])?y:n)[u],f=m&&c?s(d,r):g&&"function"==typeof d?s(Function.call,d):d,y&&o(y,u,d,e&l.U),A[u]!=d&&a(A,u,f),g&&_[u]!=d&&(_[u]=d)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){e.exports=!n(17)&&!n(43)((function(){return 7!=Object.defineProperty(n(92)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(33),i=n(13).document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){for(var r,i=n(13),a=n(18),o=n(34),s=o("typed_array"),l=o("view"),u=!(!i.ArrayBuffer||!i.DataView),c=u,d=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(r=i[f[d++]])?(a(r.prototype,s,!0),a(r.prototype,l,!0)):c=!1;e.exports={ABV:u,CONSTR:c,TYPED:s,VIEW:l}},function(e,t,n){var r=n(63);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(35),i=n(21);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r=n(99),i=n(68).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(27),i=n(47),a=n(102)(!1),o=n(67)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)n!=o&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~a(u,n)||u.push(n));return u}},function(e,t,n){var r=n(66);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(47),i=n(21),a=n(48);e.exports=function(e){return function(t,n,o){var s,l=r(t),u=i(l.length),c=a(o,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){"use strict";var r=n(36),i=n(48),a=n(21);e.exports=function(e){for(var t=r(this),n=a(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,u=void 0===l?n:i(l,n);u>s;)t[s++]=e;return t}},function(e,t,n){var r=n(66),i=n(10)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,n){var r=n(45),i=n(147),a=n(68),o=n(67)("IE_PROTO"),s=function(){},l=function(){var e,t=n(92)("iframe"),r=a.length;for(t.style.display="none",n(149).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[a[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[o]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(27),i=n(36),a=n(67)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(175)),i=o(n(187)),a="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function o(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===a(r.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":a(e)}},function(e,t,n){"use strict";var r=n(38),i=n(28),a=n(110),o=n(22),s=n(29),l=n(178),u=n(55),c=n(183),d=n(9)("iterator"),f=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,p,v,g,m){l(n,t,p);var y,A,_,b=function(e){if(!f&&e in k)return k[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",w="values"==v,S=!1,k=e.prototype,C=k[d]||k["@@iterator"]||v&&k[v],T=C||b(v),I=v?w?b("entries"):T:void 0,x="Array"==t&&k.entries||C;if(x&&(_=c(x.call(new e)))!==Object.prototype&&_.next&&(u(_,E,!0),r||"function"==typeof _[d]||o(_,d,h)),w&&C&&"values"!==C.name&&(S=!0,T=function(){return C.call(this)}),r&&!m||!f&&!S&&k[d]||o(k,d,T),s[t]=T,s[E]=h,v)if(y={values:w?T:b("values"),keys:g?T:b("keys"),entries:I},m)for(A in y)A in k||a(k,A,y[A]);else i(i.P+i.F*(f||S),t,y);return y}},function(e,t,n){e.exports=!n(20)&&!n(52)((function(){return 7!=Object.defineProperty(n(72)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){e.exports=n(22)},function(e,t,n){var r=n(15),i=n(179),a=n(77),o=n(75)("IE_PROTO"),s=function(){},l=function(){var e,t=n(72)("iframe"),r=a.length;for(t.style.display="none",n(114).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[a[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[o]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(24),i=n(30),a=n(181)(!1),o=n(75)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)n!=o&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~a(u,n)||u.push(n));return u}},function(e,t,n){var r=n(70),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(8).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(71);e.exports=function(e){return Object(r(e))}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(112),i=n(77).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=h(n(120)),a=h(n(202)),o=n(16),s=h(n(210)),l=h(n(222)),u=h(n(83)),c=n(127),d=h(n(84)),f=n(7);function h(e){return e&&e.__esModule?e:{default:e}}i.default.install();var p={createPlayer:function(e,t){var n=e;if(null==n||"object"!==(void 0===n?"undefined":r(n)))throw new f.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!n.hasOwnProperty("type"))throw new f.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(n.type){case"flv":return new s.default(n,t);default:return new l.default(n,t)}},isSupported:function(){return a.default.supportMSEH264Playback()},getFeatureList:function(){return a.default.getFeatureList()}};p.BaseLoader=o.BaseLoader,p.LoaderStatus=o.LoaderStatus,p.LoaderErrors=o.LoaderErrors,p.Events=u.default,p.ErrorTypes=c.ErrorTypes,p.ErrorDetails=c.ErrorDetails,p.FlvPlayer=s.default,p.NativePlayer=l.default,p.LoggingControl=d.default,Object.defineProperty(p,"version",{enumerable:!0,get:function(){return"__VERSION__"}}),t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"install",value:function(){Object.setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Object.assign=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t},"function"!=typeof self.Promise&&n(200).polyfill()}}]),e}();i.install(),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(6)),a=p(n(122)),o=n(16),s=p(n(203)),l=p(n(204)),u=(p(n(205)),p(n(206))),c=p(n(207)),d=p(n(208)),f=p(n(209)),h=n(7);function p(e){return e&&e.__esModule?e:{default:e}}var v=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="IOController",this._config=n,this._extraData=r,this._stashInitialSize=393216,null!=n.stashInitialSize&&n.stashInitialSize>0&&(this._stashInitialSize=n.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,!1===n.enableStashBuffer&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=t,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(t.url),this._refTotalLength=t.filesize?t.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new a.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return r(e,[{key:"destroy",value:function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null}},{key:"isWorking",value:function(){return this._loader&&this._loader.isWorking()&&!this._paused}},{key:"isPaused",value:function(){return this._paused}},{key:"_selectSeekHandler",value:function(){var e=this._config;if("range"===e.seekType)this._seekHandler=new d.default(this._config.rangeLoadZeroStart);else if("param"===e.seekType){var t=e.seekParamStart||"bstart",n=e.seekParamEnd||"bend";this._seekHandler=new f.default(t,n)}else{if("custom"!==e.seekType)throw new h.InvalidArgumentException("Invalid seekType in config: "+e.seekType);if("function"!=typeof e.customSeekHandler)throw new h.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new e.customSeekHandler}}},{key:"_selectLoader",value:function(){if(null!=this._config.customLoader)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=c.default;else if(s.default.isSupported())this._loaderClass=s.default;else if(l.default.isSupported())this._loaderClass=l.default;else{if(!u.default.isSupported())throw new h.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=u.default}}},{key:"_createLoader",value:function(){this._loader=new this._loaderClass(this._seekHandler,this._config),!1===this._loader.needStashBuffer&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)}},{key:"open",value:function(e){this._currentRange={from:0,to:-1},e&&(this._currentRange.from=e),this._speedSampler.reset(),e||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))}},{key:"abort",value:function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)}},{key:"pause",value:function(){this.isWorking()&&(this._loader.abort(),0!==this._stashUsed?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)}},{key:"resume",value:function(){if(this._paused){this._paused=!1;var e=this._resumeFrom;this._resumeFrom=0,this._internalSeek(e,!0)}}},{key:"seek",value:function(e){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(e,!0)}},{key:"_internalSeek",value:function(e,t){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(t),this._loader.destroy(),this._loader=null;var n={from:e,to:-1};this._currentRange={from:n.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,n),this._onSeeked&&this._onSeeked()}},{key:"updateUrl",value:function(e){if(!e||"string"!=typeof e||0===e.length)throw new h.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=e}},{key:"_expandBuffer",value:function(e){for(var t=this._stashSize;t+1048576<e;)t*=2;if((t+=1048576)!==this._bufferSize){var n=new ArrayBuffer(t);if(this._stashUsed>0){var r=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(n,0,t).set(r,0)}this._stashBuffer=n,this._bufferSize=t}}},{key:"_normalizeSpeed",value:function(e){var t=this._speedNormalizeList,n=t.length-1,r=0,i=0,a=n;if(e<t[0])return t[0];for(;i<=a;){if((r=i+Math.floor((a-i)/2))===n||e>=t[r]&&e<t[r+1])return t[r];t[r]<e?i=r+1:a=r-1}}},{key:"_adjustStashSize",value:function(e){var t=0;(t=this._config.isLive?e:e<512?e:e>=512&&e<=1024?Math.floor(1.5*e):2*e)>8192&&(t=8192);var n=1024*t+1048576;this._bufferSize<n&&this._expandBuffer(n),this._stashSize=1024*t}},{key:"_dispatchChunks",value:function(e,t){return this._currentRange.to=t+e.byteLength-1,this._onDataArrival(e,t)}},{key:"_onURLRedirect",value:function(e){this._redirectedURL=e,this._onRedirect&&this._onRedirect(e)}},{key:"_onContentLengthKnown",value:function(e){e&&this._fullRequestFlag&&(this._totalLength=e,this._fullRequestFlag=!1)}},{key:"_onLoaderChunkArrival",value:function(e,t,n){if(!this._onDataArrival)throw new h.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(e.byteLength);var r=this._speedSampler.lastSecondKBps;if(0!==r){var i=this._normalizeSpeed(r);this._speedNormalized!==i&&(this._speedNormalized=i,this._adjustStashSize(i))}if(this._enableStash)if(0===this._stashUsed&&0===this._stashByteStart&&(this._stashByteStart=t),this._stashUsed+e.byteLength<=this._stashSize)new Uint8Array(this._stashBuffer,0,this._stashSize).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;else{var a=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var o=this._stashBuffer.slice(0,this._stashUsed),s=this._dispatchChunks(o,this._stashByteStart);if(s<o.byteLength){if(s>0){var l=new Uint8Array(o,s);a.set(l,0),this._stashUsed=l.byteLength,this._stashByteStart+=s}}else this._stashUsed=0,this._stashByteStart+=s;this._stashUsed+e.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+e.byteLength),a=new Uint8Array(this._stashBuffer,0,this._bufferSize)),a.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else{var u=this._dispatchChunks(e,t);if(u<e.byteLength){var c=e.byteLength-u;c>this._bufferSize&&(this._expandBuffer(c),a=new Uint8Array(this._stashBuffer,0,this._bufferSize)),a.set(new Uint8Array(e,u),0),this._stashUsed+=c,this._stashByteStart=t+u}}}else if(0===this._stashUsed){var d=this._dispatchChunks(e,t);if(d<e.byteLength){var f=e.byteLength-d;f>this._bufferSize&&this._expandBuffer(f),new Uint8Array(this._stashBuffer,0,this._bufferSize).set(new Uint8Array(e,d),0),this._stashUsed+=f,this._stashByteStart=t+d}}else{this._stashUsed+e.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+e.byteLength);var p=new Uint8Array(this._stashBuffer,0,this._bufferSize);p.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;var v=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(v<this._stashUsed&&v>0){var g=new Uint8Array(this._stashBuffer,v);p.set(g,0)}this._stashUsed-=v,this._stashByteStart+=v}}}},{key:"_flushStashBuffer",value:function(e){if(this._stashUsed>0){var t=this._stashBuffer.slice(0,this._stashUsed),n=this._dispatchChunks(t,this._stashByteStart),r=t.byteLength-n;if(n<t.byteLength){if(!e){if(n>0){var a=new Uint8Array(this._stashBuffer,0,this._bufferSize),o=new Uint8Array(t,n);a.set(o,0),this._stashUsed=o.byteLength,this._stashByteStart+=n}return 0}i.default.w(this.TAG,r+" bytes unconsumed data remain when flush buffer, dropped")}return this._stashUsed=0,this._stashByteStart=0,r}return 0}},{key:"_onLoaderComplete",value:function(e,t){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)}},{key:"_onLoaderError",value:function(e,t){switch(i.default.e(this.TAG,"Loader error, code = "+t.code+", msg = "+t.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,e=o.LoaderErrors.UNRECOVERABLE_EARLY_EOF),e){case o.LoaderErrors.EARLY_EOF:if(!this._config.isLive&&this._totalLength){var n=this._currentRange.to+1;return void(n<this._totalLength&&(i.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(n,!1)))}e=o.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break;case o.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case o.LoaderErrors.CONNECTING_TIMEOUT:case o.LoaderErrors.HTTP_STATUS_CODE_INVALID:case o.LoaderErrors.EXCEPTION:}if(!this._onError)throw new h.RuntimeException("IOException: "+t.msg);this._onError(e,t)}},{key:"status",get:function(){return this._loader.status}},{key:"extraData",get:function(){return this._extraData},set:function(e){this._extraData=e}},{key:"onDataArrival",get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e}},{key:"onSeeked",get:function(){return this._onSeeked},set:function(e){this._onSeeked=e}},{key:"onError",get:function(){return this._onError},set:function(e){this._onError=e}},{key:"onComplete",get:function(){return this._onComplete},set:function(e){this._onComplete=e}},{key:"onRedirect",get:function(){return this._onRedirect},set:function(e){this._onRedirect=e}},{key:"onRecoveredEarlyEof",get:function(){return this._onRecoveredEarlyEof},set:function(e){this._onRecoveredEarlyEof=e}},{key:"currentURL",get:function(){return this._dataSource.url}},{key:"hasRedirect",get:function(){return null!=this._redirectedURL||null!=this._dataSource.redirectedURL}},{key:"currentRedirectedURL",get:function(){return this._redirectedURL||this._dataSource.redirectedURL}},{key:"currentSpeed",get:function(){return this._loaderClass===u.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps}},{key:"loaderType",get:function(){return this._loader.type}}]),e}();t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return r(e,[{key:"reset",value:function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0}},{key:"addBytes",value:function(e){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=e,this._totalBytes+=e):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=e,this._totalBytes+=e):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=e,this._totalBytes+=e,this._lastCheckpoint=this._now())}},{key:"currentKBps",get:function(){this.addBytes(0);var e=(this._now()-this._lastCheckpoint)/1e3;return 0==e&&(e=1),this._intervalBytes/e/1024}},{key:"lastSecondKBps",get:function(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0}},{key:"averageKBps",get:function(){var e=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/e/1024}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=h(n(14)),a=h(n(6)),o=h(n(40)),s=h(n(85)),l=h(n(212)),u=h(n(216)),c=h(n(86)),d=h(n(121)),f=h(n(58));function h(e){return e&&e.__esModule?e:{default:e}}n(16);var p=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="TransmuxingController",this._emitter=new i.default,this._config=n,t.segments||(t.segments=[{duration:t.duration,filesize:t.filesize,url:t.url}]),"boolean"!=typeof t.cors&&(t.cors=!0),"boolean"!=typeof t.withCredentials&&(t.withCredentials=!1),this._mediaDataSource=t,this._currentSegmentIndex=0;var r=0;this._mediaDataSource.segments.forEach((function(e){e.timestampBase=r,r+=e.duration,e.cors=t.cors,e.withCredentials=t.withCredentials,n.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy)})),isNaN(r)||this._mediaDataSource.duration===r||(this._mediaDataSource.duration=r),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return r(e,[{key:"destroy",value:function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(e,t){this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"start",value:function(){this._loadSegment(0),this._enableStatisticsReporter()}},{key:"_loadSegment",value:function(e,t){this._currentSegmentIndex=e;var n=this._mediaDataSource.segments[e],r=this._ioctl=new d.default(n,this._config,e);r.onError=this._onIOException.bind(this),r.onSeeked=this._onIOSeeked.bind(this),r.onComplete=this._onIOComplete.bind(this),r.onRedirect=this._onIORedirect.bind(this),r.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),t?this._demuxer.bindDataSource(this._ioctl):r.onDataArrival=this._onInitChunkArrival.bind(this),r.open(t)}},{key:"stop",value:function(){this._internalAbort(),this._disableStatisticsReporter()}},{key:"_internalAbort",value:function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)}},{key:"pause",value:function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())}},{key:"resume",value:function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())}},{key:"seek",value:function(e){if(null!=this._mediaInfo&&this._mediaInfo.isSeekable()){var t=this._searchSegmentIndexContains(e);if(t===this._currentSegmentIndex){var n=this._mediaInfo.segments[t];if(null==n)this._pendingSeekTime=e;else{var r=n.getNearestKeyframe(e);this._remuxer.seek(r.milliseconds),this._ioctl.seek(r.fileposition),this._pendingResolveSeekPoint=r.milliseconds}}else{var i=this._mediaInfo.segments[t];if(null==i)this._pendingSeekTime=e,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(t);else{var a=i.getNearestKeyframe(e);this._internalAbort(),this._remuxer.seek(e),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[t].timestampBase,this._loadSegment(t,a.fileposition),this._pendingResolveSeekPoint=a.milliseconds,this._reportSegmentMediaInfo(t)}}this._enableStatisticsReporter()}}},{key:"_searchSegmentIndexContains",value:function(e){for(var t=this._mediaDataSource.segments,n=t.length-1,r=0;r<t.length;r++)if(e<t[r].timestampBase){n=r-1;break}return n}},{key:"_onInitChunkArrival",value:function(e,t){var n=this,r=null,i=0;if(t>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,i=this._demuxer.parseChunks(e,t);else if((r=l.default.probe(e)).match){this._demuxer=new l.default(r,this._config),this._remuxer||(this._remuxer=new u.default(this._config));var o=this._mediaDataSource;null==o.duration||isNaN(o.duration)||(this._demuxer.overridedDuration=o.duration),"boolean"==typeof o.hasAudio&&(this._demuxer.overridedHasAudio=o.hasAudio),"boolean"==typeof o.hasVideo&&(this._demuxer.overridedHasVideo=o.hasVideo),this._demuxer.timestampBase=o.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._demuxer.onSEIInfo=this._onSEIInfo.bind(this),this._demuxer.onAVCDecoderChange=this._onAVCDecoderChange.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),i=this._demuxer.parseChunks(e,t)}else r=null,a.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then((function(){n._internalAbort()})),this._emitter.emit(f.default.DEMUX_ERROR,c.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),i=0;return i}},{key:"_onMediaInfo",value:function(e){var t=this;null==this._mediaInfo&&(this._mediaInfo=Object.assign({},e),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,s.default.prototype));var n=Object.assign({},e);Object.setPrototypeOf(n,s.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=n,this._reportSegmentMediaInfo(this._currentSegmentIndex),null!=this._pendingSeekTime&&Promise.resolve().then((function(){var e=t._pendingSeekTime;t._pendingSeekTime=null,t.seek(e)}))}},{key:"_onMetaDataArrived",value:function(e){this._emitter.emit(f.default.METADATA_ARRIVED,e)}},{key:"_onScriptDataArrived",value:function(e){this._emitter.emit(f.default.SCRIPTDATA_ARRIVED,e)}},{key:"_onSEIInfo",value:function(e){this._emitter.emit(f.default.SEI_INFO,e)}},{key:"_onAVCDecoderChange",value:function(e){this._emitter.emit(f.default.AVC_DECODER_CHANGE,e)}},{key:"_onIOSeeked",value:function(){this._remuxer.insertDiscontinuity()}},{key:"_onIOComplete",value:function(e){var t=e+1;t<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(t)):(this._remuxer.flushStashedSamples(),this._emitter.emit(f.default.LOADING_COMPLETE),this._disableStatisticsReporter())}},{key:"_onIORedirect",value:function(e){var t=this._ioctl.extraData;this._mediaDataSource.segments[t].redirectedURL=e}},{key:"_onIORecoveredEarlyEof",value:function(){this._emitter.emit(f.default.RECOVERED_EARLY_EOF)}},{key:"_onIOException",value:function(e,t){a.default.e(this.TAG,"IOException: type = "+e+", code = "+t.code+", msg = "+t.msg),this._emitter.emit(f.default.IO_ERROR,e,t),this._disableStatisticsReporter()}},{key:"_onDemuxException",value:function(e,t){a.default.e(this.TAG,"DemuxException: type = "+e+", info = "+t),this._emitter.emit(f.default.DEMUX_ERROR,e,t)}},{key:"_onRemuxerInitSegmentArrival",value:function(e,t){this._emitter.emit(f.default.INIT_SEGMENT,e,t)}},{key:"_onRemuxerMediaSegmentArrival",value:function(e,t){if(null==this._pendingSeekTime&&(this._emitter.emit(f.default.MEDIA_SEGMENT,e,t),null!=this._pendingResolveSeekPoint&&"video"===e)){var n=t.info.syncPoints,r=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,o.default.safari&&n.length>0&&n[0].originalDts===r&&(r=n[0].pts),this._emitter.emit(f.default.RECOMMEND_SEEKPOINT,r)}}},{key:"_enableStatisticsReporter",value:function(){null==this._statisticsReporter&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))}},{key:"_disableStatisticsReporter",value:function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"_reportSegmentMediaInfo",value:function(e){var t=this._mediaInfo.segments[e],n=Object.assign({},t);n.duration=this._mediaInfo.duration,n.segmentCount=this._mediaInfo.segmentCount,delete n.segments,delete n.keyframesIndex,this._emitter.emit(f.default.MEDIA_INFO,n)}},{key:"_reportStatisticsInfo",value:function(){var e={};e.url=this._ioctl.currentURL,e.hasRedirect=this._ioctl.hasRedirect,e.hasRedirect&&(e.redirectedURL=this._ioctl.currentRedirectedURL),e.speed=this._ioctl.currentSpeed,e.loaderType=this._ioctl.loaderType,e.currentSegmentIndex=this._currentSegmentIndex,e.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(f.default.STATISTICS_INFO,e)}}]),e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="ExpGolomb",this._buffer=t,this._buffer_index=0,this._total_bytes=t.byteLength,this.bytesAvailable=t.byteLength,this._total_bits=8*t.byteLength,this._current_word=0,this._current_word_bits_left=0}return r(e,[{key:"destroy",value:function(){this._buffer=null}},{key:"_fillCurrentWord",value:function(){var e=this._total_bytes-this._buffer_index;if(e<=0)throw new i.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var t=Math.min(4,e),n=new Uint8Array(4);n.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(n.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t}},{key:"readBits",value:function(e){if(e>32)throw new i.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(e<=this._current_word_bits_left){var t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}var n=this._current_word_bits_left?this._current_word:0;n>>>=32-this._current_word_bits_left;var r=e-this._current_word_bits_left;this._fillCurrentWord();var a=Math.min(r,this._current_word_bits_left),o=this._current_word>>>32-a;return this._current_word<<=a,this._current_word_bits_left-=a,n<<a|o}},{key:"readBool",value:function(){return 1===this.readBits(1)}},{key:"readByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"_skipLeadingZero",value:function(){var e=void 0;for(e=0;e<this._current_word_bits_left;e++)if(0!=(this._current_word&2147483648>>>e))return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()}},{key:"readUEG",value:function(){var e=this._skipLeadingZero();return this.readBits(e+1)-1}},{key:"readSEG",value:function(){var e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.SampleInfo=function e(t,n,r,a,o){i(this,e),this.dts=t,this.pts=n,this.duration=r,this.originalDts=a,this.isSyncPoint=o,this.fileposition=null},t.MediaSegmentInfo=function(){function e(){i(this,e),this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return r(e,[{key:"appendSyncPoint",value:function(e){e.isSyncPoint=!0,this.syncPoints.push(e)}}]),e}(),t.IDRSampleList=function(){function e(){i(this,e),this._list=[]}return r(e,[{key:"clear",value:function(){this._list=[]}},{key:"appendArray",value:function(e){var t=this._list;0!==e.length&&(t.length>0&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))}},{key:"getLastSyncPointBeforeDts",value:function(e){if(0==this._list.length)return null;var t=this._list,n=0,r=t.length-1,i=0,a=0,o=r;for(e<t[0].dts&&(n=0,a=o+1);a<=o;){if((i=a+Math.floor((o-a)/2))===r||e>=t[i].dts&&e<t[i+1].dts){n=i;break}t[i].dts<e?a=i+1:o=i-1}return this._list[n]}}]),e}(),t.MediaSegmentInfoList=function(){function e(t){i(this,e),this._type=t,this._list=[],this._lastAppendLocation=-1}return r(e,[{key:"isEmpty",value:function(){return 0===this._list.length}},{key:"clear",value:function(){this._list=[],this._lastAppendLocation=-1}},{key:"_searchNearestSegmentBefore",value:function(e){var t=this._list;if(0===t.length)return-2;var n=t.length-1,r=0,i=0,a=n,o=0;if(e<t[0].originalBeginDts)return-1;for(;i<=a;){if((r=i+Math.floor((a-i)/2))===n||e>t[r].lastSample.originalDts&&e<t[r+1].originalBeginDts){o=r;break}t[r].originalBeginDts<e?i=r+1:a=r-1}return o}},{key:"_searchNearestSegmentAfter",value:function(e){return this._searchNearestSegmentBefore(e)+1}},{key:"append",value:function(e){var t=this._list,n=e,r=this._lastAppendLocation,i=0;-1!==r&&r<t.length&&n.originalBeginDts>=t[r].lastSample.originalDts&&(r===t.length-1||r<t.length-1&&n.originalBeginDts<t[r+1].originalBeginDts)?i=r+1:t.length>0&&(i=this._searchNearestSegmentBefore(n.originalBeginDts)+1),this._lastAppendLocation=i,this._list.splice(i,0,n)}},{key:"getLastSegmentBefore",value:function(e){var t=this._searchNearestSegmentBefore(e);return t>=0?this._list[t]:null}},{key:"getLastSampleBefore",value:function(e){var t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null}},{key:"getLastSyncPointBefore",value:function(e){for(var t=this._searchNearestSegmentBefore(e),n=this._list[t].syncPoints;0===n.length&&t>0;)t--,n=this._list[t].syncPoints;return n.length>0?n[n.length-1]:null}},{key:"type",get:function(){return this._type}},{key:"length",get:function(){return this._list.length}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorDetails=t.ErrorTypes=void 0;var r=n(16),i=function(e){return e&&e.__esModule?e:{default:e}}(n(86));t.ErrorTypes={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},t.ErrorDetails={NETWORK_EXCEPTION:r.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:r.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:r.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:r.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:i.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:i.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:i.default.CODEC_UNSUPPORTED}},function(e,t,n){e.exports={default:n(225),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/width|height|top|left|right|bottom|margin|padding/i,i=1,a={},o=void 0;function s(e){return e._amId||(e._amId=i++)}o="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}:function(){throw new Error("requestAnimationFrame is not supported, maybe you are running in the server side")},t.default={addClass:function(e,t){var n=this;"string"==typeof e&&(e=document.querySelectorAll(e)),(e instanceof NodeList?[].slice.call(e):[e]).forEach((function(e){n.hasClass(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t)}))},removeClass:function(e,t){var n=this;"string"==typeof e&&(e=document.querySelectorAll(e)),(e instanceof NodeList?[].slice.call(e):[e]).forEach((function(e){n.hasClass(e,t)&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))}))},hasClass:function(e,t){return"string"==typeof e&&(e=document.querySelector(e)),e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},toggleClass:function(e,t){"string"==typeof e&&(e=document.querySelector(e));var n=this.hasClass(e,t);return n?this.removeClass(e,t):this.addClass(e,t),n},insertAfter:function(e,t){var n=t.parentNode;n.lastChild===t?n.appendChild(e):n.insertBefore(e,t.nextSibling)},remove:function(e){if("string"==typeof e)[].forEach.call(document.querySelectorAll(e),(function(e){e.parentNode.removeChild(e)}));else if(e.parentNode)e.parentNode.removeChild(e);else{if(!(e instanceof NodeList))throw new Error("you can only pass Element, array of Elements or query string as argument");[].forEach.call(e,(function(e){e.parentNode.removeChild(e)}))}},forceReflow:function(e){e.offsetHeight},getDocumentScrollTop:function(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop},setDocumentScrollTop:function(e){return window.scrollTo(0,e),e},outerHeight:function(e){return e.offsetHeight},outerHeightWithMargin:function(e){var t=e.offsetHeight,n=getComputedStyle(e);return t+((parseFloat(n.marginTop)||0)+(parseFloat(n.marginBottom)||0))},outerWidth:function(e){return e.offsetWidth},outerWidthWithMargin:function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+((parseFloat(n.marginLeft)||0)+(parseFloat(n.marginRight)||0))},getComputedStyles:function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},getOffset:function(e){var t=e.ownerDocument.documentElement,n={top:0,left:0};return void 0!==e.getBoundingClientRect&&(n=e.getBoundingClientRect()),{top:n.top+window.pageYOffset-t.clientTop,left:n.left+window.pageXOffset-t.clientLeft}},getPosition:function(e){return e?{left:e.offsetLeft,top:e.offsetTop}:{left:0,top:0}},setStyle:function(e,t,n,i){(i=i||e.style)&&(null===n||""===n?n="":!isNaN(Number(n))&&r.test(t)&&(n+="px"),""===t&&(t="cssText",n=""),i[t]=n)},setStyles:function(e,t){var n=this,r=void 0!==e.style.cssText;function i(e){return e.replace(/^\s+|\s+$/g,"")}var a={};(r?e.style.cssText:e.getAttribute("style")).split(";").forEach((function(e){if(-1!==e.indexOf(":")){var t=e.split(":");a[i(t[0])]=i(t[1])}}));var o={};Object.keys(t).forEach((function(r){n.setStyle(e,r,t[r],o)}));var s=Object.assign({},a,o),l=Object.keys(s).map((function(e){return e+": "+s[e]+";"})).join(" ");r?e.style.cssText=l:e.setAttribute("style",l)},getStyle:function(e,t,n){var r="";return(n=n||e.style)&&""===(r=n[t])&&(r=this.getComputedStyle(e,t)),r},getComputedStyle:function(e,t){var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n},getPageSize:function(){var e=void 0,t=void 0;window.innerHeight&&window.scrollMaxY?(e=window.innerWidth+window.scrollMaxX,t=window.innerHeight+window.scrollMaxY):document.body.scrollHeight>document.body.offsetHeight?(e=document.body.scrollWidth,t=document.body.scrollHeight):(e=document.body.offsetWidth,t=document.body.offsetHeight);var n=void 0,r=void 0;self.innerHeight?(n=document.documentElement.clientWidth?document.documentElement.clientWidth:self.innerWidth,r=self.innerHeight):document.documentElement&&document.documentElement.clientHeight?(n=document.documentElement.clientWidth,r=document.documentElement.clientHeight):document.body&&(n=document.body.clientWidth,r=document.body.clientHeight);return{pageWidth:e<n?e:n,pageHeight:t<r?r:t,windowWidth:n,windowHeight:r}},get:function(e){return document.querySelector(e)||{}},getAll:function(e){return document.querySelectorAll(e)},parentsUntil:function(e,t,n){var r=[],i=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;for(e=e.parentElement;e&&!i.call(e,t);)n?i.call(e,n)&&r.push(e):r.push(e),e=e.parentElement;return r},closest:function(e,t){for(var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e;){if(n.call(e,t))return e;e=e.parentElement}return null},_showHide:function(e,t){"string"==typeof e&&(e=document.querySelectorAll(e));var n=e instanceof NodeList?[].slice.call(e):[e],r=void 0,i=[];0!==n.length&&(n.forEach((function(e,n){e.style&&(r=e.style.display,t?"none"===r&&(i[n]=function(e){var t=s(e);return a["_am_"+t]}(e)||""):"none"!==r&&(i[n]="none",function(e,t){var n=s(e);a["_am_"+n]=t}(e,r)))})),n.forEach((function(e,t){null!==i[t]&&(n[t].style.display=i[t])})))},show:function(e){this._showHide(e,!0)},hide:function(e){this._showHide(e,!1)},toggle:function(e){"none"===e.style.display?this.show(e):this.hide(e)},scrollTo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;if(!(n<0)){var r=t-this.getDocumentScrollTop();if(0!==r){var i=r/n*10;o((function(){Math.abs(i)>Math.abs(r)?e.setDocumentScrollTop(e.getDocumentScrollTop()+r):(e.setDocumentScrollTop(e.getDocumentScrollTop()+i),r>0&&e.getDocumentScrollTop()>=t||r<0&&e.getDocumentScrollTop()<=t||e.scrollTo(t,n-16))}))}}},is:function(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)},width:function(e){var t=this.getComputedStyles(e),n=parseFloat(-1!==t.width.indexOf("px")?t.width:0);if("border-box"===(t.boxSizing||"content-box"))return n;var r=parseFloat(t.borderLeftWidth);return n-parseFloat(t.borderRightWidth)-r-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)},height:function(e){var t=this.getComputedStyles(e),n=parseFloat(-1!==t.height.indexOf("px")?t.height:0);if("border-box"===(t.boxSizing||"content-box"))return n;var r=parseFloat(t.borderTopWidth);return n-parseFloat(t.borderBottomWidth)-r-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)}}},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){var r=n(88),i=n(9)("iterator"),a=n(29);e.exports=n(11).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[r(e)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(1)),i=s(n(2)),a=s(n(0)),o=s(n(41));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.default)(this,e),this.setting=t,this.emitter=t.event,this.tipsContent=n.tipsContent||"",this.created=n.created||function(){},this.duration=n.duration||5e3,this.dom=null,this.timer=null}return(0,i.default)(e,[{key:"init",value:function(e){this._createDom(),this._created(),"function"==typeof e&&e()}},{key:"_createDom",value:function(){if(this.setting.plvContainerPanel){var e=this.tipsContent,t=a.default.createDOMFromString('\n        <p class="plv-skin-tips js-skin-tips">\n          <span class="plv-skin-tips__content js-content">'+e+'</span>\n          <span class="plv-skin-tips__close js-close">&times;</span>\n        </p>\n      ');this.dom=t,this.setting.plvContainerPanel.appendChild(t)}}},{key:"_created",value:function(){this.bindClose(),this.created(this.dom)}},{key:"bindClose",value:function(){var e=this;a.default.addHandler(this.dom,"click",(function(t){o.default.hasClass(t.target,"js-close")&&e.destroy()}))}},{key:"destroy",value:function(e){this.dom&&(this.dom.parentElement&&this.dom.parentElement.removeChild(this.dom),this.dom=null,"function"==typeof e&&e())}},{key:"show",value:function(){var e=this,t=this.setting.wrapContainer.querySelector(".js-skin-tips");t&&t!==this.dom&&t.parentElement&&t.parentElement.removeChild(t),this.dom?(setTimeout((function(){o.default.addClass(e.dom,"plv-active")})),this.timer=setTimeout((function(){e.destroy(),clearTimeout(e.timer),e.timer=null}),this.duration)):this.init((function(){e.show()}))}}]),e}();t.default=l},function(e,t,n){"use strict";var r=s(n(25)),i=s(n(0)),a=s(n(12)),o=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=function(e){return{emitter:e.event,load:function(){var t=this;if(!0!==e.guide){if(e.vodsrc)return e.isVodMode=!0,e.vodUrl=e.vodsrc,t.changeMode("vod"),e.progress.dom.style.display="",e.time.dom.style.display="",this.emitter.emit(a.default.CHANGE_LIVE_STATUS,{liveSatus:!1}),e.event.emit("__initPreAd"),void e.s2j_onStartPlay();var n=e.apiHttp+e.stream;(0,r.default)({url:n,jsonp:"jsonCallback"+Math.floor(9999999*Math.random()),success:function(e){t.done(e)}})}},done:function(t){var n=this;"live"===t?(this.emitter.emit(a.default.CHANGE_LIVE_STATUS,{liveSatus:!0}),e.apiEndTime=0,(e.flowStatus!==o.default.PLAYING&&e.flowStatus!==o.default.PAUSE&&e.flowStatus!==o.default.PREAD&&e.flowStatus!==o.default.READY_PLAY||e.isVodMode)&&(e.isVodMode=!1,n.changeMode("live"),e.progress.dom.style.display="none",e.time.dom.style.display="none",e.event.emit("__initPreAd"),e.s2j_onStartPlay())):(this.emitter.emit(a.default.CHANGE_LIVE_STATUS,{liveSatus:!1}),e.apiEndTime++,e.isVodMode||(!0===e.isAutoChange?i.default.channelLoad(e).then((function(t){n.channelJsonComplete(e,t)})).catch((function(e){console.info(e)})):n.updateFlowEnd())),e.onApiStatus(t)},channelJsonComplete:function(e,t){t.recordFileM3u8Url&&""!==t.recordFileM3u8Url||t.recordFileUrl&&""!==t.recordFileUrl?(e.isVodMode=!0,this.emitter.emit(a.default.CHANGE_LIVE_STATUS,{liveSatus:!1}),e.vodUrl=t.recordFileM3u8Url||t.recordFileUrl,"https://"===e.httpHead&&(e.vodUrl=i.default.replaceHttps(e.vodUrl)),e.event.emit("__initPreAd"),this.changeMode("vod"),e.progress.dom.style.display="",e.time.dom.style.display="",e.s2j_onStartPlay()):this.updateFlowEnd()},updateFlowEnd:function(){e.flowStatus!==o.default.ENDED&&(e.videoPanel.pause(),e.updateFlowStatus(o.default.ENDED))},changeMode:function(t){e.pid=i.default.getPid(),e.param3=t,e.playDuration=0,e.initTimeStampSt=Date.now()}}}},function(e,t,n){e.exports=n(301)},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(303));t.default=function(e){return function(){var t=e.apply(this,arguments);return new r.default((function(e,n){return function i(a,o){try{var s=t[a](o),l=s.value}catch(e){return void n(e)}if(!s.done)return r.default.resolve(l).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(l)}("next")}))}}},function(e,t,n){var r=n(15),i=n(51),a=n(9)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[a])?t:i(n)}},function(e,t,n){var r,i,a,o=n(50),s=n(310),l=n(114),u=n(72),c=n(8),d=c.process,f=c.setImmediate,h=c.clearImmediate,p=c.MessageChannel,v=c.Dispatch,g=0,m={},y=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},A=function(e){y.call(e.data)};f&&h||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},h=function(e){delete m[e]},"process"==n(39)(d)?r=function(e){d.nextTick(o(y,e,1))}:v&&v.now?r=function(e){v.now(o(y,e,1))}:p?(a=(i=new p).port2,i.port1.onmessage=A,r=o(a.postMessage,a,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",A,!1)):r="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(o(y,e,1),0)}),e.exports={set:f,clear:h}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(15),i=n(23),a=n(89);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.polyvLivePlayer=void 0,n(141);var r=function(e){return e&&e.__esModule?e:{default:e}}(n(166));t.polyvLivePlayer=r.default},function(e,t,n){n(142),e.exports=n(32).Uint8Array},function(e,t,n){n(143)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){"use strict";if(n(17)){var r=n(44),i=n(13),a=n(43),o=n(90),s=n(94),l=n(145),u=n(65),c=n(96),d=n(46),f=n(18),h=n(95),p=n(35),v=n(21),g=n(97),m=n(48),y=n(62),A=n(27),_=n(104),b=n(33),E=n(36),w=n(146),S=n(105),k=n(106),C=n(98).f,T=n(150),I=n(34),x=n(10),R=n(151),L=n(102),O=n(155),D=n(156),M=n(37),P=n(161),N=n(162),F=n(103),B=n(163),U=n(26),j=n(164),G=U.f,H=j.f,V=i.RangeError,z=i.TypeError,q=i.Uint8Array,W=Array.prototype,Y=l.ArrayBuffer,K=l.DataView,X=R(0),Q=R(2),J=R(3),Z=R(4),$=R(5),ee=R(6),te=L(!0),ne=L(!1),re=D.values,ie=D.keys,ae=D.entries,oe=W.lastIndexOf,se=W.reduce,le=W.reduceRight,ue=W.join,ce=W.sort,de=W.slice,fe=W.toString,he=W.toLocaleString,pe=x("iterator"),ve=x("toStringTag"),ge=I("typed_constructor"),me=I("def_constructor"),ye=s.CONSTR,Ae=s.TYPED,_e=s.VIEW,be=R(1,(function(e,t){return Ce(O(e,e[me]),t)})),Ee=a((function(){return 1===new q(new Uint16Array([1]).buffer)[0]})),we=!!q&&!!q.prototype.set&&a((function(){new q(1).set({})})),Se=function(e,t){var n=p(e);if(n<0||n%t)throw V("Wrong offset!");return n},ke=function(e){if(b(e)&&Ae in e)return e;throw z(e+" is not a typed array!")},Ce=function(e,t){if(!(b(e)&&ge in e))throw z("It is not a typed array constructor!");return new e(t)},Te=function(e,t){return Ie(O(e,e[me]),t)},Ie=function(e,t){for(var n=0,r=t.length,i=Ce(e,r);r>n;)i[n]=t[n++];return i},xe=function(e,t,n){G(e,t,{get:function(){return this._d[n]}})},Re=function(e){var t,n,r,i,a,o,s=E(e),l=arguments.length,c=l>1?arguments[1]:void 0,d=void 0!==c,f=T(s);if(null!=f&&!w(f)){for(o=f.call(s),r=[],t=0;!(a=o.next()).done;t++)r.push(a.value);s=r}for(d&&l>2&&(c=u(c,arguments[2],2)),t=0,n=v(s.length),i=Ce(this,n);n>t;t++)i[t]=d?c(s[t],t):s[t];return i},Le=function(){for(var e=0,t=arguments.length,n=Ce(this,t);t>e;)n[e]=arguments[e++];return n},Oe=!!q&&a((function(){he.call(new q(1))})),De=function(){return he.apply(Oe?de.call(ke(this)):ke(this),arguments)},Me={copyWithin:function(e,t){return B.call(ke(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Z(ke(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return F.apply(ke(this),arguments)},filter:function(e){return Te(this,Q(ke(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return $(ke(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(ke(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){X(ke(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(ke(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(ke(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ue.apply(ke(this),arguments)},lastIndexOf:function(e){return oe.apply(ke(this),arguments)},map:function(e){return be(ke(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(ke(this),arguments)},reduceRight:function(e){return le.apply(ke(this),arguments)},reverse:function(){for(var e,t=ke(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return J(ke(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ce.call(ke(this),e)},subarray:function(e,t){var n=ke(this),r=n.length,i=m(e,r);return new(O(n,n[me]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,v((void 0===t?r:m(t,r))-i))}},Pe=function(e,t){return Te(this,de.call(ke(this),e,t))},Ne=function(e){ke(this);var t=Se(arguments[1],1),n=this.length,r=E(e),i=v(r.length),a=0;if(i+t>n)throw V("Wrong length!");for(;a<i;)this[t+a]=r[a++]},Fe={entries:function(){return ae.call(ke(this))},keys:function(){return ie.call(ke(this))},values:function(){return re.call(ke(this))}},Be=function(e,t){return b(e)&&e[Ae]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ue=function(e,t){return Be(e,t=y(t,!0))?d(2,e[t]):H(e,t)},je=function(e,t,n){return!(Be(e,t=y(t,!0))&&b(n)&&A(n,"value"))||A(n,"get")||A(n,"set")||n.configurable||A(n,"writable")&&!n.writable||A(n,"enumerable")&&!n.enumerable?G(e,t,n):(e[t]=n.value,e)};ye||(j.f=Ue,U.f=je),o(o.S+o.F*!ye,"Object",{getOwnPropertyDescriptor:Ue,defineProperty:je}),a((function(){fe.call({})}))&&(fe=he=function(){return ue.call(this)});var Ge=h({},Me);h(Ge,Fe),f(Ge,pe,Fe.values),h(Ge,{slice:Pe,set:Ne,constructor:function(){},toString:fe,toLocaleString:De}),xe(Ge,"buffer","b"),xe(Ge,"byteOffset","o"),xe(Ge,"byteLength","l"),xe(Ge,"length","e"),G(Ge,ve,{get:function(){return this[Ae]}}),e.exports=function(e,t,n,l){var u=e+((l=!!l)?"Clamped":"")+"Array",d="get"+e,h="set"+e,p=i[u],m=p||{},y=p&&k(p),A=!p||!s.ABV,E={},w=p&&p.prototype,T=function(e,n){G(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[d](n*t+r.o,Ee)}(this,n)},set:function(e){return function(e,n,r){var i=e._d;l&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[h](n*t+i.o,r,Ee)}(this,n,e)},enumerable:!0})};A?(p=n((function(e,n,r,i){c(e,p,u,"_d");var a,o,s,l,d=0,h=0;if(b(n)){if(!(n instanceof Y||"ArrayBuffer"==(l=_(n))||"SharedArrayBuffer"==l))return Ae in n?Ie(p,n):Re.call(p,n);a=n,h=Se(r,t);var m=n.byteLength;if(void 0===i){if(m%t)throw V("Wrong length!");if((o=m-h)<0)throw V("Wrong length!")}else if((o=v(i)*t)+h>m)throw V("Wrong length!");s=o/t}else s=g(n),a=new Y(o=s*t);for(f(e,"_d",{b:a,o:h,l:o,e:s,v:new K(a)});d<s;)T(e,d++)})),w=p.prototype=S(Ge),f(w,"constructor",p)):a((function(){p(1)}))&&a((function(){new p(-1)}))&&P((function(e){new p,new p(null),new p(1.5),new p(e)}),!0)||(p=n((function(e,n,r,i){var a;return c(e,p,u),b(n)?n instanceof Y||"ArrayBuffer"==(a=_(n))||"SharedArrayBuffer"==a?void 0!==i?new m(n,Se(r,t),i):void 0!==r?new m(n,Se(r,t)):new m(n):Ae in n?Ie(p,n):Re.call(p,n):new m(g(n))})),X(y!==Function.prototype?C(m).concat(C(y)):C(m),(function(e){e in p||f(p,e,m[e])})),p.prototype=w,r||(w.constructor=p));var I=w[pe],x=!!I&&("values"==I.name||null==I.name),R=Fe.values;f(p,ge,!0),f(w,Ae,u),f(w,_e,!0),f(w,me,p),(l?new p(1)[ve]==u:ve in w)||G(w,ve,{get:function(){return u}}),E[u]=p,o(o.G+o.W+o.F*(p!=m),E),o(o.S,u,{BYTES_PER_ELEMENT:t}),o(o.S+o.F*a((function(){m.of.call(p,1)})),u,{from:Re,of:Le}),"BYTES_PER_ELEMENT"in w||f(w,"BYTES_PER_ELEMENT",t),o(o.P,u,Me),N(u),o(o.P+o.F*we,u,{set:Ne}),o(o.P+o.F*!x,u,Fe),r||w.toString==fe||(w.toString=fe),o(o.P+o.F*a((function(){new p(1).slice()})),u,{slice:Pe}),o(o.P+o.F*(a((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!a((function(){w.toLocaleString.call([1,2])}))),u,{toLocaleString:De}),M[u]=x?I:R,r||x||f(w,pe,R)}}else e.exports=function(){}},function(e,t,n){e.exports=n(64)("native-function-to-string",Function.toString)},function(e,t,n){"use strict";var r=n(13),i=n(17),a=n(44),o=n(94),s=n(18),l=n(95),u=n(43),c=n(96),d=n(35),f=n(21),h=n(97),p=n(98).f,v=n(26).f,g=n(103),m=n(69),y="prototype",A="Wrong index!",_=r.ArrayBuffer,b=r.DataView,E=r.Math,w=r.RangeError,S=r.Infinity,k=_,C=E.abs,T=E.pow,I=E.floor,x=E.log,R=E.LN2,L=i?"_b":"buffer",O=i?"_l":"byteLength",D=i?"_o":"byteOffset";function M(e,t,n){var r,i,a,o=new Array(n),s=8*n-t-1,l=(1<<s)-1,u=l>>1,c=23===t?T(2,-24)-T(2,-77):0,d=0,f=e<0||0===e&&1/e<0?1:0;for((e=C(e))!=e||e===S?(i=e!=e?1:0,r=l):(r=I(x(e)/R),e*(a=T(2,-r))<1&&(r--,a*=2),(e+=r+u>=1?c/a:c*T(2,1-u))*a>=2&&(r++,a/=2),r+u>=l?(i=0,r=l):r+u>=1?(i=(e*a-1)*T(2,t),r+=u):(i=e*T(2,u-1)*T(2,t),r=0));t>=8;o[d++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;o[d++]=255&r,r/=256,s-=8);return o[--d]|=128*f,o}function P(e,t,n){var r,i=8*n-t-1,a=(1<<i)-1,o=a>>1,s=i-7,l=n-1,u=e[l--],c=127&u;for(u>>=7;s>0;c=256*c+e[l],l--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=t;s>0;r=256*r+e[l],l--,s-=8);if(0===c)c=1-o;else{if(c===a)return r?NaN:u?-S:S;r+=T(2,t),c-=o}return(u?-1:1)*r*T(2,c-t)}function N(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function F(e){return[255&e]}function B(e){return[255&e,e>>8&255]}function U(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function j(e){return M(e,52,8)}function G(e){return M(e,23,4)}function H(e,t,n){v(e[y],t,{get:function(){return this[n]}})}function V(e,t,n,r){var i=h(+n);if(i+t>e[O])throw w(A);var a=e[L]._b,o=i+e[D],s=a.slice(o,o+t);return r?s:s.reverse()}function z(e,t,n,r,i,a){var o=h(+n);if(o+t>e[O])throw w(A);for(var s=e[L]._b,l=o+e[D],u=r(+i),c=0;c<t;c++)s[l+c]=u[a?c:t-c-1]}if(o.ABV){if(!u((function(){_(1)}))||!u((function(){new _(-1)}))||u((function(){return new _,new _(1.5),new _(NaN),"ArrayBuffer"!=_.name}))){for(var q,W=(_=function(e){return c(this,_),new k(h(e))})[y]=k[y],Y=p(k),K=0;Y.length>K;)(q=Y[K++])in _||s(_,q,k[q]);a||(W.constructor=_)}var X=new b(new _(2)),Q=b[y].setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||l(b[y],{setInt8:function(e,t){Q.call(this,e,t<<24>>24)},setUint8:function(e,t){Q.call(this,e,t<<24>>24)}},!0)}else _=function(e){c(this,_,"ArrayBuffer");var t=h(e);this._b=g.call(new Array(t),0),this[O]=t},b=function(e,t,n){c(this,b,"DataView"),c(e,_,"DataView");var r=e[O],i=d(t);if(i<0||i>r)throw w("Wrong offset!");if(i+(n=void 0===n?r-i:f(n))>r)throw w("Wrong length!");this[L]=e,this[D]=i,this[O]=n},i&&(H(_,"byteLength","_l"),H(b,"buffer","_b"),H(b,"byteLength","_l"),H(b,"byteOffset","_o")),l(b[y],{getInt8:function(e){return V(this,1,e)[0]<<24>>24},getUint8:function(e){return V(this,1,e)[0]},getInt16:function(e){var t=V(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=V(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return N(V(this,4,e,arguments[1]))},getUint32:function(e){return N(V(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return P(V(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return P(V(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){z(this,1,e,F,t)},setUint8:function(e,t){z(this,1,e,F,t)},setInt16:function(e,t){z(this,2,e,B,t,arguments[2])},setUint16:function(e,t){z(this,2,e,B,t,arguments[2])},setInt32:function(e,t){z(this,4,e,U,t,arguments[2])},setUint32:function(e,t){z(this,4,e,U,t,arguments[2])},setFloat32:function(e,t){z(this,4,e,G,t,arguments[2])},setFloat64:function(e,t){z(this,8,e,j,t,arguments[2])}});m(_,"ArrayBuffer"),m(b,"DataView"),s(b[y],o.VIEW,!0),t.ArrayBuffer=_,t.DataView=b},function(e,t,n){var r=n(37),i=n(10)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[i]===e)}},function(e,t,n){var r=n(26),i=n(45),a=n(148);e.exports=n(17)?Object.defineProperties:function(e,t){i(e);for(var n,o=a(t),s=o.length,l=0;s>l;)r.f(e,n=o[l++],t[n]);return e}},function(e,t,n){var r=n(99),i=n(68);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(13).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(104),i=n(10)("iterator"),a=n(37);e.exports=n(32).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[r(e)]}},function(e,t,n){var r=n(65),i=n(100),a=n(36),o=n(21),s=n(152);e.exports=function(e,t){var n=1==e,l=2==e,u=3==e,c=4==e,d=6==e,f=5==e||d,h=t||s;return function(t,s,p){for(var v,g,m=a(t),y=i(m),A=r(s,p,3),_=o(y.length),b=0,E=n?h(t,_):l?h(t,0):void 0;_>b;b++)if((f||b in y)&&(g=A(v=y[b],b,m),e))if(n)E[b]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return b;case 2:E.push(v)}else if(c)return!1;return d?-1:u||c?c:E}}},function(e,t,n){var r=n(153);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(33),i=n(154),a=n(10)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(66);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(45),i=n(93),a=n(10)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[a])?t:i(n)}},function(e,t,n){"use strict";var r=n(157),i=n(158),a=n(37),o=n(47);e.exports=n(159)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(10)("unscopables"),i=Array.prototype;null==i[r]&&n(18)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(44),i=n(90),a=n(63),o=n(18),s=n(37),l=n(160),u=n(69),c=n(106),d=n(10)("iterator"),f=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,p,v,g,m){l(n,t,p);var y,A,_,b=function(e){if(!f&&e in k)return k[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",w="values"==v,S=!1,k=e.prototype,C=k[d]||k["@@iterator"]||v&&k[v],T=C||b(v),I=v?w?b("entries"):T:void 0,x="Array"==t&&k.entries||C;if(x&&(_=c(x.call(new e)))!==Object.prototype&&_.next&&(u(_,E,!0),r||"function"==typeof _[d]||o(_,d,h)),w&&C&&"values"!==C.name&&(S=!0,T=function(){return C.call(this)}),r&&!m||!f&&!S&&k[d]||o(k,d,T),s[t]=T,s[E]=h,v)if(y={values:w?T:b("values"),keys:g?T:b("keys"),entries:I},m)for(A in y)A in k||a(k,A,y[A]);else i(i.P+i.F*(f||S),t,y);return y}},function(e,t,n){"use strict";var r=n(105),i=n(46),a=n(69),o={};n(18)(o,n(10)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var r=n(10)("iterator"),i=!1;try{var a=[7][r]();a.return=function(){i=!0},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a=[7],o=a[r]();o.next=function(){return{done:n=!0}},a[r]=function(){return o},e(a)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(13),i=n(26),a=n(17),o=n(10)("species");e.exports=function(e){var t=r[e];a&&t&&!t[o]&&i.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(36),i=n(48),a=n(21);e.exports=[].copyWithin||function(e,t){var n=r(this),o=a(n.length),s=i(e,o),l=i(t,o),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?o:i(u,o))-l,o-s),d=1;for(l<s&&s<l+c&&(d=-1,l+=c-1,s+=c-1);c-- >0;)l in n?n[s]=n[l]:delete n[s],s+=d,l+=d;return n}},function(e,t,n){var r=n(165),i=n(46),a=n(47),o=n(62),s=n(27),l=n(91),u=Object.getOwnPropertyDescriptor;t.f=n(17)?u:function(e,t){if(e=a(e),t=o(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(14));n(167);var i=s(n(174)),a=s(n(0)),o=s(n(198));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=new r.default;e.vid&&e.uid||console.error("lost uid or vid!","vid",e.vid,"uid",e.uid),e.pageDomain=window.location.origin,e.httpHead="http://","https:"===window.location.protocol&&(e.httpHead="https://");var n=Object.assign({},(0,i.default)(e),e),s=["session_id","param1","param2","param3","param4","param5","key1","key2","key3"];for(var l in n)-1!==s.indexOf(l)&&(n[l]?n[l]=String(n[l]):n[l]="");return n.params=a.default.getParams(n),n.event=t,n.on=function(e,t){n.event.on(e,t)},n.emit=function(e,t){n.event.emit(e,t)},o.default.init(n),n}},function(e,t,n){var r=n(168);"string"==typeof r&&(r=[[e.i,r,""]]);n(172)(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(169)(!1);var r=n(170)(n(171));t.push([e.i,".plv-live-player-media {\n  z-index: 1; }\n  .plv-live-player-media-pre {\n    position: absolute;\n    width: 100%;\n    height: 100%; }\n    .plv-live-player-media-pre > a {\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      top: 0;\n      left: 0; }\n    .plv-live-player-media-pre > img,\n    .plv-live-player-media-pre > video {\n      width: 100%;\n      height: 100%; }\n    .plv-live-player-media-pre-time {\n      text-align: center;\n      line-height: 40px;\n      background-color: #fff;\n      width: 150px;\n      height: 40px;\n      background: #262727;\n      -webkit-border-radius: 20px;\n              border-radius: 20px;\n      color: #fff;\n      position: absolute;\n      top: 30px;\n      left: 30px;\n      font-size: 12px; }\n      .plv-live-player-media-pre-time > span {\n        color: #FF5722;\n        font-size: 16px; }\n    .plv-live-player-media-pre-volume {\n      position: absolute;\n      top: 30px;\n      left: 200px;\n      height: 40px;\n      width: 40px;\n      background-color: #262727;\n      text-align: center;\n      line-height: 48px;\n      -webkit-border-radius: 100%;\n              border-radius: 100%;\n      z-index: 1;\n      cursor: pointer; }\n  .plv-live-player-media-pause {\n    position: absolute;\n    width: 50%;\n    height: 50%;\n    left: 25%;\n    top: 25%;\n    display: block;\n    z-index: 1; }\n    .plv-live-player-media-pause > a {\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      top: 0;\n      left: 0; }\n    .plv-live-player-media-pause-closeBtn {\n      width: 20px;\n      height: 20px;\n      background-color: #ffffff;\n      background-color: rgba(255, 255, 255, .8);\n      -webkit-border-radius: 100%;\n              border-radius: 100%;\n      position: absolute;\n      top: -9px;\n      right: -9px;\n      text-align: center;\n      line-height: 20px;\n      cursor: pointer; }\n\n.plv-multirate {\n  margin-right: 10px;\n  height: 100%;\n  position: relative;\n  padding: 13px 0;\n  -webkit-box-sizing: border-box;\n     -moz-box-sizing: border-box;\n          box-sizing: border-box;\n  font-size: 12px;\n  color: #fff;\n  text-align: center;\n  cursor: pointer; }\n  .plv-multirate:hover .plv-multirate-btn {\n    background-color: #03a9f4; }\n  .plv-multirate:hover .plv-multirate-slide {\n    display: block; }\n  .plv-multirate-btn {\n    width: 60px;\n    height: 24px;\n    background-color: #000000;\n    background-color: rgba(0, 0, 0, .6);\n    -webkit-border-radius: 12px;\n            border-radius: 12px;\n    line-height: 24px; }\n  .plv-multirate-slide {\n    position: absolute;\n    bottom: 100%;\n    z-index: 9;\n    padding-bottom: 8px;\n    display: none; }\n  .plv-multirate-list {\n    -webkit-border-radius: 4px;\n            border-radius: 4px;\n    overflow: hidden;\n    width: 64px; }\n    .plv-multirate-list > div {\n      background: #000000;\n      background: rgba(0, 0, 0, .6);\n      line-height: 30px; }\n      .plv-multirate-list > div:hover, .plv-multirate-list > div.plv-on {\n        color: #03a9f4; }\n      .plv-multirate-list > div + div {\n        margin-top: 1px; }\n\n.plv-live-player-bar {\n  position: absolute;\n  z-index: 5;\n  bottom: 0;\n  width: 100%;\n  height: 50px;\n  opacity: 0;\n  -webkit-transition: opacity .4s;\n  -o-transition: opacity .4s;\n  transition: opacity .4s; }\n  .plv-live-player-bar-hide {\n    opacity: 1; }\n  .plv-live-player-bar-bg {\n    opacity: .6;\n    background-color: black; }\n\n.plv-live-player-btn {\n  position: relative;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n     -moz-box-orient: horizontal;\n     -moz-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  height: 100%;\n  cursor: pointer;\n  text-align: center;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n     -moz-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n\n.plv-icon {\n  width: 20px;\n  height: 20px;\n  cursor: pointer; }\n\n.plv-live-player-bar-leftModule,\n.plv-live-player-bar-rightModule {\n  position: relative;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  float: left;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n     -moz-box-orient: horizontal;\n     -moz-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  height: 100%;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n     -moz-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n     -moz-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  z-index: 3; }\n\n.plv-live-player-bar-leftModule {\n  margin-left: 8px; }\n\n.plv-live-player-btn-play {\n  margin-left: 4px; }\n\n.plv-live-player-btn-play .plv-svg-symbol {\n  visibility: hidden;\n  opacity: 0; }\n\n.plv-live-player-btn-play[data-status=pause] .plv-svg-pause,\n.plv-live-player-btn-play[data-status=play] .plv-svg-play {\n  visibility: visible;\n  opacity: 1; }\n\n.plv-time-wrap {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n     -moz-box-orient: horizontal;\n     -moz-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  margin: 0 6px;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  color: #fff;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n     -moz-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n     -moz-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center; }\n\n.plv-time-wrap span {\n  font-size: 16px; }\n\n.plv-live-player-bar-leftModule .plv-time-wrap {\n  margin-left: 20px; }\n\n.plv-time-separator {\n  margin: 0 4px; }\n\n.plv-live-player-bar-rightModule {\n  float: right; }\n  .plv-live-player-bar-rightModule .plv-live-player-btn {\n    margin-right: 20px; }\n\n.plv-live-player-volume {\n  height: 100%; }\n  .plv-live-player-volume-slide {\n    position: relative;\n    z-index: 9;\n    bottom: 353%;\n    left: -6px;\n    display: none;\n    width: 32px;\n    height: 130px; }\n    .plv-live-player-volume-slide-square {\n      position: absolute;\n      display: inline-block;\n      padding: 9px 13px;\n      cursor: pointer;\n      -webkit-border-radius: 4px;\n              border-radius: 4px;\n      background-color: #00101b;\n      background-color: rgba(0, 16, 27, .7); }\n      .plv-live-player-volume-slide-square-bg {\n        position: relative;\n        width: 6px;\n        height: 100px;\n        -webkit-border-radius: 3px;\n                border-radius: 3px;\n        background-color: #ffffff;\n        background-color: rgba(255, 255, 255, .35); }\n        .plv-live-player-volume-slide-square-bg-progress {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          width: 100%;\n          height: 0;\n          -webkit-border-radius: 3px;\n                  border-radius: 3px;\n          background-color: #03a9f4; }\n      .plv-live-player-volume-slide-square-touch {\n        position: absolute;\n        z-index: 10;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: transparent; }\n    .plv-live-player-volume-slide-progress-dot {\n      left: -3px; }\n  .plv-live-player-volume:hover .plv-live-player-volume-slide {\n    display: block; }\n\n.plv-live-player-volume-slide-progress-dot,\n.plv-live-player-bar-progress-dot {\n  position: absolute;\n  top: -6px;\n  width: 12px;\n  height: 12px;\n  background-color: #fff;\n  -webkit-border-radius: 100%;\n          border-radius: 100%; }\n\n.plv-live-player-btn-danmu {\n  margin-right: 12px !important; }\n  .plv-live-player-btn-danmu-dot {\n    position: absolute;\n    width: 16px;\n    height: 16px;\n    -webkit-border-radius: 100%;\n            border-radius: 100%;\n    background-color: #fff; }\n  .plv-live-player-btn-danmu-bg {\n    width: 32px;\n    height: 16px;\n    -webkit-border-radius: 8px;\n            border-radius: 8px;\n    background-color: #868686; }\n  .plv-live-player-btn-danmu-txt {\n    margin-left: 4px;\n    margin-right: 4px;\n    color: #fff;\n    font-size: 12px; }\n  .plv-live-player-btn-danmu .plv-icon-danmu {\n    margin-top: -2px;\n    width: 40px;\n    height: 40px; }\n\n.plv-live-player-btn-danmu[data-status=danmu-off] .plv-live-player-btn-danmu-bg {\n  background-color: #868686; }\n\n.plv-live-player-btn-danmu[data-status=danmu-on] .plv-live-player-btn-danmu-bg {\n  background-color: #289ed9; }\n\n.plv-live-player-btn-danmu[data-status=danmu-off] .plv-live-player-btn-danmu-dot {\n  -webkit-transform: translateX(0px);\n      -ms-transform: translateX(0px);\n       -o-transform: translateX(0px);\n          transform: translateX(0px); }\n\n.plv-live-player-btn-danmu[data-status=danmu-on] .plv-live-player-btn-danmu-dot {\n  -webkit-transform: translateX(16px);\n      -ms-transform: translateX(16px);\n       -o-transform: translateX(16px);\n          transform: translateX(16px); }\n\n.plv-live-player-bar-progress {\n  position: absolute;\n  top: -8px;\n  left: 0;\n  width: 100%;\n  height: 8px;\n  padding: 0;\n  cursor: pointer;\n  vertical-align: top; }\n  .plv-live-player-bar-progress-time {\n    display: none; }\n  .plv-live-player-bar-progress-touch:hover + .plv-live-player-bar-progress-time {\n    display: block; }\n  .plv-live-player-bar-progress-current {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    top: 0;\n    left: 0;\n    font-size: 0; }\n  .plv-live-player-bar-progress-touch {\n    position: absolute;\n    top: -100%;\n    left: 0;\n    width: 100%;\n    height: 300%;\n    cursor: pointer;\n    background-color: transparent; }\n  .plv-live-player-bar-progress-bg {\n    width: 100%;\n    height: 100%;\n    background-color: #ffffff;\n    background-color: rgba(255, 255, 255, .3); }\n  .plv-live-player-bar-progress-dot {\n    top: 50%;\n    margin-left: -7px;\n    margin-top: -7px;\n    border: solid 1px #ebebeb; }\n  .plv-live-player-bar-progress-load, .plv-live-player-bar-progress-play {\n    position: relative;\n    display: inline-block;\n    width: 2px;\n    height: 100%;\n    -webkit-transform: translateZ(0);\n            transform: translateZ(0);\n    background-color: #03a9f4; }\n  .plv-live-player-bar-progress-load {\n    position: absolute;\n    top: 0;\n    left: 0;\n    background-color: #ffffff;\n    background-color: rgba(255, 255, 255, .3); }\n  .plv-live-player-bar-progress-time {\n    position: absolute;\n    top: -29px;\n    left: 0;\n    color: #fff;\n    background-color: #000000;\n    background-color: rgba(0, 0, 0, .6);\n    -webkit-border-radius: 4px;\n            border-radius: 4px;\n    padding: 0 4px; }\n\n.plv-live-player-big-play-btn {\n  width: 100%;\n  height: 100%;\n  background: url("+r+") no-repeat;\n  background-position: center center;\n  -webkit-background-size: 128px 128px;\n          background-size: 128px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  opacity: 1; }\n  .plv-live-player-big-play-btn.plv-hide {\n    -webkit-background-size: 256px 256px;\n            background-size: 256px;\n    opacity: 0;\n    -webkit-transition: all 200ms;\n    -o-transition: all 200ms;\n    transition: all 200ms; }\n\n.plv-skin-tips {\n  display: inline-block;\n  width: auto;\n  background-color: #000000;\n  background-color: rgba(0, 0, 0, .75);\n  color: #fff;\n  font-size: 12px;\n  letter-spacing: 0px;\n  line-height: 32px;\n  position: absolute;\n  bottom: 60px;\n  left: -100%;\n  margin: 0;\n  padding: 0 15px;\n  -webkit-border-radius: 200px;\n          border-radius: 200px;\n  -webkit-transition: left 200ms;\n  -o-transition: left 200ms;\n  transition: left 200ms; }\n  .plv-skin-tips.plv-active {\n    left: 8px; }\n  .plv-skin-tips__close {\n    font-size: 18px;\n    vertical-align: top;\n    cursor: pointer;\n    margin-left: 5px; }\n  .plv-skin-tips__content span {\n    color: #03a9f4;\n    padding: 0 5px;\n    cursor: pointer; }\n\n.plv-rate {\n  color: #FFFFFF;\n  text-align: center;\n  font-size: 12px;\n  position: relative;\n  padding: 13px 0;\n  -webkit-box-sizing: border-box;\n     -moz-box-sizing: border-box;\n          box-sizing: border-box;\n  height: 100%;\n  margin-right: 10px;\n  cursor: pointer; }\n  .plv-rate:hover .plv-rate-btn {\n    color: #29a7f4; }\n  .plv-rate-btn {\n    width: 60px;\n    height: 100%;\n    text-align: center;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -moz-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n       -moz-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: Center;\n    -webkit-align-items: Center;\n       -moz-box-align: Center;\n        -ms-flex-align: Center;\n            align-items: Center; }\n  .plv-rate-select {\n    display: none;\n    height: 155px;\n    width: 60px;\n    padding-bottom: 8px;\n    position: absolute;\n    bottom: 100%; }\n  .plv-rate:hover .plv-rate-select {\n    display: block; }\n  .plv-rate-select > div {\n    height: 31px;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -moz-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n       -moz-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: Center;\n    -webkit-align-items: Center;\n       -moz-box-align: Center;\n        -ms-flex-align: Center;\n            align-items: Center;\n    cursor: pointer;\n    background: #000000;\n    background: rgba(0, 0, 0, .6); }\n  .plv-rate-select > div:first-child {\n    -webkit-border-top-right-radius: 4px;\n            border-top-right-radius: 4px;\n    -webkit-border-top-left-radius: 4px;\n            border-top-left-radius: 4px; }\n  .plv-rate-select > div:last-child {\n    -webkit-border-bottom-right-radius: 4px;\n            border-bottom-right-radius: 4px;\n    -webkit-border-bottom-left-radius: 4px;\n            border-bottom-left-radius: 4px; }\n  .plv-rate-select > div:hover,\n  .plv-rate-select > div.current {\n    color: #29a7f4; }\n\n.plv-live-player-muteTips {\n  height: 72px;\n  width: auto;\n  background-color: #ffffff;\n  -webkit-border-radius: 4px;\n          border-radius: 4px;\n  border: solid 1px #d6d6d6;\n  margin-top: 16px;\n  position: relative;\n  left: 50%;\n  -webkit-transform: translate(-50%, 0);\n      -ms-transform: translate(-50%, 0);\n       -o-transform: translate(-50%, 0);\n          transform: translate(-50%, 0);\n  font-family: MicrosoftYaHei;\n  font-size: 18px;\n  font-weight: normal;\n  font-stretch: normal;\n  letter-spacing: 0px;\n  color: #333333;\n  text-align: center;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n     -moz-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n     -moz-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  z-index: 6;\n  cursor: default;\n  white-space: nowrap;\n  display: inline-block;\n  line-height: 72px; }\n  .plv-live-player-muteTips-none {\n    display: none; }\n  .plv-live-player-muteTips span {\n    padding: 0 24px; }\n  .plv-live-player-muteTips-btn {\n    height: 36px;\n    border: #ffffff 1px solid;\n    -webkit-border-radius: 48px;\n            border-radius: 48px;\n    font-size: 16px;\n    line-height: 36px;\n    display: inline-block;\n    color: #333333; }\n    .plv-live-player-muteTips-btn-play-audio {\n      width: 112px;\n      margin-right: 16px;\n      color: #2196f3;\n      border: #2196f3 1px solid; }\n      .plv-live-player-muteTips-btn-play-audio:hover {\n        background-color: #d8eaf9; }\n      .plv-live-player-muteTips-btn-play-audio:active {\n        background-color: #bbdefb; }\n    .plv-live-player-muteTips-btn-ignore {\n      width: 64px;\n      border: #B0BEC5 1px solid;\n      margin-right: 24px; }\n      .plv-live-player-muteTips-btn-ignore:hover {\n        background-color: #ebeef1; }\n      .plv-live-player-muteTips-btn-ignore:active {\n        background-color: #d9dee0; }\n\n.plv-live-player-password {\n  z-index: 10;\n  color: white;\n  background-color: #212121; }\n  .plv-live-player-password-wrap {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 225px;\n    height: 73px;\n    margin-top: -36px;\n    margin-left: -112px; }\n    .plv-live-player-password-wrap-p {\n      margin: 10px 0; }\n    .plv-live-player-password-wrap-i {\n      width: 173px;\n      height: 32px;\n      margin: 0;\n      padding-left: 12px;\n      border: none;\n      outline: none; }\n    .plv-live-player-password-wrap-s {\n      line-height: 32px;\n      position: absolute;\n      left: 190px;\n      width: 42px;\n      height: 32px;\n      padding: 0;\n      cursor: pointer;\n      text-align: center;\n      border: none;\n      -webkit-border-radius: 2px;\n              border-radius: 2px;\n      background: #2b73b0; }\n    .plv-live-player-password-wrap-error {\n      font-size: 14px;\n      color: darkorange; }\n\n.plv-live-player-rightMenu {\n  z-index: 10;\n  background: #1c1c1c;\n  background: rgba(28, 28, 28, .9);\n  border: none;\n  text-shadow: 0 0 2px rgba(0, 0, 0, .5);\n  -webkit-box-shadow: none;\n          box-shadow: none;\n  cursor: default;\n  width: 220px;\n  overflow: hidden;\n  -webkit-border-radius: 6px;\n          border-radius: 6px;\n  display: none;\n  position: fixed;\n  font-size: 12px; }\n  .plv-live-player-rightMenu ul > li {\n    color: #FFFFFF;\n    list-style: none;\n    height: 30px;\n    line-height: 30px;\n    text-align: left; }\n    .plv-live-player-rightMenu ul > li:first-child {\n      padding-left: 20px; }\n    .plv-live-player-rightMenu ul > li a {\n      padding: 0px 12px 0px 20px;\n      display: block;\n      -o-text-overflow: ellipsis;\n         text-overflow: ellipsis;\n      overflow: hidden;\n      text-align: left;\n      -webkit-transition: all .3s ease-in-out;\n      -o-transition: all .3s ease-in-out;\n      transition: all .3s ease-in-out;\n      font-size: 100%;\n      white-space: nowrap;\n      cursor: pointer;\n      color: #fff; }\n  .plv-live-player-rightMenu ul a:hover {\n    color: #fff;\n    background-color: #ffffff;\n    background-color: rgba(255, 255, 255, .1); }\n  .plv-live-player-rightMenu ul > li + li {\n    border-top: 1px solid rgba(255, 255, 255, .12); }\n\n.plv-live-player-line {\n  margin-right: 10px;\n  height: 100%;\n  position: relative;\n  padding: 13px 0;\n  -webkit-box-sizing: border-box;\n     -moz-box-sizing: border-box;\n          box-sizing: border-box;\n  font-size: 12px;\n  color: #fff;\n  text-align: center;\n  cursor: pointer; }\n  .plv-live-player-line:hover .plv-live-player-line__btn {\n    background-color: #03a9f4; }\n  .plv-live-player-line:hover .plv-live-player-line__slide {\n    display: block; }\n  .plv-live-player-line__btn {\n    width: 60px;\n    height: 24px;\n    background-color: #000000;\n    background-color: rgba(0, 0, 0, .6);\n    -webkit-border-radius: 12px;\n            border-radius: 12px;\n    line-height: 24px; }\n  .plv-live-player-line__slide {\n    position: absolute;\n    bottom: 100%;\n    z-index: 9;\n    padding-bottom: 8px;\n    display: none; }\n  .plv-live-player-line__list {\n    -webkit-border-radius: 4px;\n            border-radius: 4px;\n    overflow: hidden;\n    width: 64px; }\n    .plv-live-player-line__list > div {\n      background: #000000;\n      background: rgba(0, 0, 0, .6);\n      line-height: 30px; }\n      .plv-live-player-line__list > div:hover, .plv-live-player-line__list > div.plv-on {\n        color: #03a9f4; }\n      .plv-live-player-line__list > div + div {\n        margin-top: 1px; }\n\n.plv-live-player-mask,\n.plv-live-player-video,\n.plv-live-player-bar-bg,\n.plv-live-player-loading,\n.plv-live-player-cutOff,\n.plv-live-player-cutOff-bg,\n.plv-live-player-cutOff-icon,\n.plv-live-player-password,\n.plv-live-player-danmu,\n.plv-live-player-audio,\n.plv-live-player-audio-bg,\n.plv-live-player-audio-icon {\n  position: absolute;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  width: 100%;\n  height: 100%; }\n\n.plv-live-player-container {\n  background-color: #212121;\n  overflow: hidden;\n  position: relative;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none; }\n  .plv-live-player-container a,\n  .plv-live-player-container li,\n  .plv-live-player-container ul {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    vertical-align: baseline;\n    text-decoration: none; }\n  .plv-live-player-container video {\n    width: 100%;\n    height: 100%; }\n  .plv-live-player-container .plv-live-player-btn {\n    cursor: pointer; }\n  .plv-live-player-container .plv-live-player-video {\n    display: block; }\n    .plv-live-player-container .plv-live-player-video-none {\n      display: none; }\n\n.plv-live-player-danmu {\n  z-index: 4;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  overflow: hidden;\n  color: #fff; }\n  .plv-live-player-danmu-item {\n    position: absolute;\n    top: 20px;\n    background-color: #ffffff;\n    background-color: rgba(255, 255, 255, .01);\n    padding: 4px 4px;\n    font-size: 22px;\n    line-height: 24px;\n    white-space: nowrap;\n    text-shadow: 0 0 2px rgba(0, 0, 0, .8), 0 1px 0 rgba(0, 0, 0, .8), 0 0 2px rgba(0, 0, 0, .8), 0 0 1px rgba(0, 0, 0, .8);\n    pointer-events: none;\n    stroke-width: 1px;\n    stroke: rgba(0, 0, 0, .5);\n    -webkit-transition: -webkit-transform 10s linear 0s;\n    transition: -webkit-transform 10s linear 0s;\n    -o-transition: -o-transform 10s linear 0s;\n    transition: transform 10s linear 0s;\n    transition: transform 10s linear 0s, -webkit-transform 10s linear 0s, -o-transform 10s linear 0s;\n    will-change: transform; }\n  .plv-live-player-danmu img {\n    max-width: none; }\n\n.plv-live-player-btn-volume .plv-svg-symbol,\n.plv-live-player-cutOff .plv-svg-symbol,\n.plv-live-player-btn-fullscreen .plv-svg-symbol,\n.plv-live-player-btn-danmu .plv-svg-symbol,\n.plv-live-player-media .plv-svg-symbol,\n.plv-live-player-media-pre .plv-svg-symbol {\n  display: none; }\n\n.plv-live-player-btn-volume[data-status=un-mute] .plv-svg-volume-on,\n.plv-live-player-btn-volume[data-status=mute] .plv-svg-volume-off,\n.plv-live-player-cutOff[data-status=un-mute] .plv-svg-volume-on,\n.plv-live-player-cutOff[data-status=mute] .plv-svg-volume-off,\n.plv-live-player-media[data-status=un-mute] .plv-svg-volume-on,\n.plv-live-player-media[data-status=mute] .plv-svg-volume-off,\n.plv-live-player-media-pre-volume[data-status=un-mute] .plv-svg-volume-on,\n.plv-live-player-media-pre-volume[data-status=mute] .plv-svg-volume-off,\n.plv-live-player-btn-fullscreen[data-status=fullscreen] .plv-svg-fullscreen,\n.plv-live-player-btn-fullscreen[data-status=exitfullscreen] .plv-svg-exitfullscreen,\n.plv-live-player-btn-danmu[data-status=danmu-on] .plv-svg-danmu-on,\n.plv-live-player-btn-danmu[data-status=danmu-off] .plv-svg-danmu-off {\n  display: block; }\n\n.plv_install {\n  cursor: pointer;\n  background-color: #212121;\n  background-repeat: no-repeat;\n  background-position: 50%;\n  -webkit-background-size: contain;\n          background-size: contain; }\n\n.plv-live-player-loading {\n  z-index: 2;\n  text-align: center;\n  color: white;\n  background-color: #000000;\n  background-color: rgba(0, 0, 0, .5);\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n     -moz-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n     -moz-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex; }\n  .plv-live-player-loading__round {\n    width: 100px;\n    height: 100px; }\n\n.plv-live-player-cutOff {\n  z-index: 3;\n  display: none; }\n  .plv-live-player-cutOff .plv-icon-volume {\n    position: absolute; }\n  .plv-live-player-cutOff .plv-cutoff-volume {\n    top: 20px;\n    right: 20px; }\n  .plv-live-player-cutOff .plv-ppt-cutoff-volume {\n    bottom: 20px;\n    left: 15px; }\n  .plv-live-player-cutOff-icon {\n    right: 0;\n    left: 0;\n    max-width: 600px;\n    margin: auto; }\n  .plv-live-player-cutOff > a {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 1; }\n\n.plv-live-player-error {\n  width: 100%;\n  height: 100%;\n  background-color: black;\n  text-align: center;\n  color: white;\n  position: relative;\n  z-index: 9;\n  display: table; }\n  .plv-live-player-error-none {\n    display: none; }\n  .plv-live-player-error-wrap {\n    display: table-cell;\n    vertical-align: middle; }\n    .plv-live-player-error-wrap > p {\n      white-space: pre-line; }\n\n.plv-live-player-logo {\n  position: absolute;\n  z-index: 3; }\n  .plv-live-player-logo-img {\n    max-width: 200px;\n    max-height: 200px; }\n  .plv-live-player-logo > a {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 0; }\n",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=function(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t);return"/*# ".concat(n," */")}(r),a=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot).concat(e," */")}));return[n].concat(a).concat([i]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var o=0;o<e.length;o++){var s=e[o];null!=s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="(".concat(s[2],") and (").concat(n,")")),t.push(s))}},t}},function(e,t,n){"use strict";e.exports=function(e,t){return"string"!=typeof(e=e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAQAAAEeMJnWAAAABGdBTUEAALGPC/xhBQAAHSJJREFUeNrVXXl4HMWV/73untEIW5HvE3EbO+aMLfkCY8eBmMsmkFhik03CBhwggYUE9iPHQhYc8iX5YIGEJRCT3Xx8OZDMsdgcNnYAY/CBJDA2JjYGjG0sYyRZErKume5++0dXd1dXV480sgzZnk/SzPRR9V69esfvvSoB6kFIOCg7jbl6e3FN7T5mGP6F/vXELtXAgAGAwXC4igwwYHmnb1xHy5BGCiYIDBs5WuY6hgm2xN3LUIQM0jBhwIWNHvQYj7FLZAHZCqpBGhlk+Byg5PVDDhyYAJiqQQaQ2gQDKaSRBoD2KVwBC2mkYcFg1wBqdsCACROmTxCXbzkVFkwYgAG6YgsACgkDgNMGg7zPBvjls8BguGCJKa+Bvc8GUD4ODBs2nOB0LRzYsOECBkAmHOTQg+zuLoBq6TWPTNhwyaCAD2kUoShgVA96kOVKIgsAk+E6xmNwYQcX2MhxJRnRsagWYwG4cP2xkAeX2A3eGjJNfTyImXnOc5esZmYOn0zipCOkgQAwnAy69tC/AUIe2KUaWEghBQOAA7s7R2XcRCMAC+BhVI0UMigKLsihB920BgQ2ADTDQhEyKOZz+GxkUIxiFCMNk13AAlE1Mkih6K5jvKEG6DW4SMOmapDBP4EBAxbMm44O5GEaLJgwQYCB2wCQP/rBJTN9+gx8AyxeMlM2iG/YoMfBcGAjd+tu7+RX3qHXhDR4Y8FMjyGDYmT4rKH1rS5c5NCNTvTwIiIDIAMOsuhCJ61t7UQ3utGFbmThkgFvqvEC5NCDTnSgAx04hE50w8ndB/YuAA2y/1Q5NLikCz17zsPXUxvU0VzO4rAXJSuBcJQJxD/lLdzDr/LX4pxKUifEQ9EMULV4iOArAE5TTyVAhvgcewCB2Nm4b+YrMMQrbNUVQ+GA4XIVOmmw/xAraNnZ2EA1MJASs94MBBRguHDheC9aBpddZ4H1TDhpwjllIQULlngICQkHXDhwvekIGw6cyhHV88gAk3S7BRMppIRimhHSWbGtrgsMBw5y4mXDqT6j8h26hAL96t2c8hQpT4vz+7r3/6sRDnLIIocsbLhcSYYB8JtzV4JAMALKDd2A3X8CT5+QkVgsxB1oH2JFrsyjMnZm1W8sgM5ml2rAcGDAgQEDrlZk6uDAEaPhBvPJO5mG4LJgEm0Mb3y0keqpjl4TZ7NCF7utlziV0jAW13QTDDGE0WH05MAfRhs5OHD3zC/bSdO8YfQe8WvcLGTBFK/oA1y4XstwwFxFpkdEVPs2YjhVC4NjRMyOK6yMC+Yqe1Zqo89qik8udoGaHVWbI+cYaL2kNIM6mpY0mfSzlCIDW7hN6F1x5FEofBqv5CbexY9wJkmdQCO0BOIWdtk9sP5fispePmPrzydxJ7vs8oO6x1CMhQ5o8dqHPwJJZxkAb557xmgspauTmUh11tTsbzbfsAMEQ1Fp4tX91SIrqtTCaUT2BeYzVA0KdBEFCoWFKHHm8bEpdskMHxFK4iS8LYRIVWieGDlwwN408n0A+QEGO1QNAyQsX9gLiPYdIcoOXNO1L/cfYfkq1XxUzANL/JhCpDnoge0356C2gRtppG+ayL4AcElMI0uoNgtpWELJpiLvTNC0dRjuPc4CAPMZqhZ0W+JS01Oqde0VO8BgyQcBXBjAwtXskCHczsDIm6L7gU4uL+FygOqCEWMwTLjgFQd9SSTet3B1oFJN8TuqJMsfP17SFCF7yePBmBUHA61sCEWiHJcN54rIeQP48vP8njwXSDwk0Q5zRaBqCACtbsFx8QdQ8gMAni6uC5Wd3oQUoB9IfUBvOkf1udiKqE0OLtHeTJukKzhKAkvKW/uA63ZRredO+w/4z4l43FMhf37w1Gu3S9bZgsnTFVLrhUnLwUYWOeQ82wy2APomO9dul7wQZRSoPtAHDhxhXCCT4NPliAts2LQBAFa3UC3V+q4N7OB2F+7G2ViDcB6wQ9VCUFPixxRqzWea7T/cewhXkSmCG49p90wMuhjYaOmVFY6N6AFXOYs9IqKhC0UmVOijhQQ6cOE+8YVLJ0Q1EgAy2KVqwR4D7M16SaUFr9tPCG+POZoLV69oCaTdkNS6P/5u48UjBsmK3ZKFmEx2AKoGgUGSo+PrRXAVmqlEFjQrOg/IyE7nDYGvLJ07d8jq+YDvVuSzvgRwGt2x73NUpJts+f0DisxRHhj7T71O+AE/Qj1n2Ffxfs5//Ll9ZMQyHyY9BAD2BeYz3sc9rdfV+gZFd6TpvknXnC4+rKfZ+ZjfpzHklzAbAM5d+be2YOYn38XyeL88a3YZAHQfW7y3UBkggCfhbcBx0zUuBb4ShfZQ6QhLWk1+j3sm3ngmgL10rL4TlMzy32+9+m1JAgzF8qn3csRcsFAqokNcBcCmIolHSS5mnTU1KxonxVbLbp++AxzYNjd0CiUtAmygs6OdIIXxazHbca1lAcBlSD6H8Cgk54E0A+DCFbbPleMTMHjBsOXnATAIGg8V8Bxs4SN7rlbYdDSSNxKHIGxSfYnh4CogNzO9ye8CRUOkeStfbJNiLUN4fDIHaOXEs0qbcmtabmk46MZmACsdcOKd4CrAnpd6STVoBzFEhBc+7WbEXzdBoL+ecPno+OSbvf2VTkUIox2w411AhrISbGFfaS7d03rsKkG91wEZ/zBggjJGV0WySul2St/MulIX2LfAsMFBJ4IueFZRWF1zKXDsKmm2h26sxP6dp+dTmhmzZwqXc8VgK7jHDBwECp5HALCpAXC+H3h2fCpw4FBE78uCFzjlRxf1xXS0T+GK509Sum9Ic4pAM9YBxm9D1/Iu4Ja6SLCheutUmOU8bxhPW3GS5okxteexZCrwt5aI9Yu+p/4Y7otHODO0ypui7j0DaAeGWQNv359t7j1c8IZgHbBoTEyrI/CfkkOGPIexacFOxUZAbwuIi9DFbNQEKsiMYEdBXMgVfWv6w+6yrUIdhXrAn5IOGDyIDi2CS5YIkKiHQZSmrKpMZI1vADs7JxyVv+lDTsnmiDaMK2WAwU2XAtnTpOjk0CigpzLihXsImR0Ary7ck7cmN/3QR1RP9SVvRBoLwwFHNkznDsmkkCv6ezgNuaQJvwc2z40oUr8LdhhXXf+u2vBte6iO6qjumr1Sg05wnx12PzRIq+cDvpMtG6NXMGvd3nPWR4A/QzJFUWQ7ySMKmS9QRoV+cJUcIFDEG3gIi3vszOOBzfftoWwdox4vSV6gbJBdqROhj8CTi7ctjMYnikPSVZbZDYx7Yn8ucD6MwDZQpHnSBB6qL+TK7gi48eIRg9BMI6FxSGS3ZDfKpEyE6pQhoQOsdCFguffp9hNvKwe6yo7a1xv06mmGHliA9agjN6bSTtoOIO6SPjHl0gmA83Xr0bhmpeSogF/FTKC2Ydq6AE4gJf1FisJmVXd6Yx5QXkBw6Ysl0IjhALBw9YqDMVA63oGAHxtnTx8PAM5i6w/5bEqfQjNQbo71gv/VpoZb31rdEr90kLFkwrWnZFLi4xqanz8u7m+IajjX8S5tWOrwYz2Te4PsjkTk/Jkeh92BzxygoP5cy0W4GAtxIsZhHNrRgAasw3J660ihJIH4tY/kP/eCj+y3r1LU9UAgJACIH8DVAYFcv3/lvrq2XV07u4dbJxYfn7lg7JzxowcHd7Xm5qdr+8YN6osW4HWY5X3x4JYbtmfzPHLBsPsrjhkiUhwXWc/13gXq7Qw/hMUA8OaBaWuzHNOF0OnCq8YsnSM+jaCW/J3IixF5xhl4ee+c9RH12xtGxMCXStec73ncNLdwnNAzRr/GzUCPPeSJbo7YP0rkAEfd+vsm/uuZALi+qNxO6gIlNr8bZcC9m3+wQ4mP8jtkcgTAgMHZStMAMJm297UDnj/QjqOEZ4QADzFiXUnuQPjCxrOnjweci6yV8bBEj5IJdyTiEyHmjJFmAKRmQ0cMeGjyd09LmhW6bHYjhjMbNTGIzlDguqQOuMpfgG88+p6z9ANBMepfwcyAer9hQ/IMe+8ASzFAwAePC/XpcjtPJhmwLzJXRHxBIxIlRJ1ySmw+ClWJcxvOnjEeTFY00DWiDpi5Ali4Wtt8CFaZEnylvtQ0p+/OA5j5iuOC+KUo2aSOfm3DtHURoCYemEATmMj+sA9QsQJXssHO5QCGU0s0dSYelJ2O4YDSvI5uK0Kxf87SXKkEdC79ZjOAJpl0aQhSG4CqF4IORdkfBZoMDYRrREp71FhS8OyGHX7iPSYDuTkAUNOoQFRqF8wrRjSVd057aeI/DZMebkTAXVKalyNKzFsJ+OmPiH/PrvD9DelRVvBb4MZLxv37sfLk++Hue5q04akTwUodKVL00OLp6Vo5OiYvUUbVCkpoKWwluWrLP55vmf++gpdz0AUn0gUHDL5qzNI5aKVhQe0oCMAyoGZHDKqkKHB90yid6fzyUJ764klKGj+eXwheD38EYEhY3SpcGaBqcyQMlUEK8aCfH5vkVswdwlN/MUbhH4kpbKpe4p5WwP6OLIQUc0ENCaQIfmfMfM7Vj4/mqSMsSU8aCe9xXS1gLglrMeB8z4OPleRUNAvcJx+38cxHj4M+pJdU3oqDAMZIHDBuAm59K5gRFKvsIBDorKP64sNXjej6QoC4a2VAV1h1HLC6RUN/xAM6t6RvYUTG5IpBRv6GDxzyMHp9LUnU+Qx+zhzU91jmUPkwMxY9SsSs3QdgoTwNdSGnYqpHpQoJp5rLYxyVYez9AM6JcyAOrEviN9IqLKLLTosXOfhvP+gGMBaBw9mn0GVEqrAOpIzSxKe/1wVgnK4cKM9RWiAHgAs+lzhANoASjwO9VyCJ46BdaAcebU16+oQMgIYwYZEnxAqPplxhzX9/Z3JAdnyx6IAihBzDtaRYp7mgDvz1wAPNWhgTAFBeCuA9uZpJn4iPdOpAAUPw6w+//oHmGUHUeP54AMtDDrjAICOB8qA7dYf62vy0t25p0ARpEqFTxwJ4OuzAk8CSCbESBIUTz7f3pfFOh+pqu3Qxojy4RAD1BB3I3gZce0qkECFaB+GCwfVdvTd/0+5Bb2goV4YgLWkHCwCK/s4QECvHuuGCIhQkHru6Tng7wkU39tvHDSYB+Iv33p8FOeDcIbEiDCXhcKAnUe26ozaL5qOhmRwnBnJwzenAoRsjbrnzDeCxOUo9SOwh335X17jtTtpa9EajrQydEpyGEuANQElzOAQMsh5jlGZimQ+vpC0YsVWfqI3v7T797VY34pTHyxdkngD82lwAD0krqnx4Hdg4OxZku5H0I0+o9y/vcm54n2qP2drqxChV80WuVE/DwBmjAfpeRAjBIJrPzvTx3nvxGCPgA2B65X3vdtOGXsuY3FjXJe3y8iwA60OBllVxHbDn/EiMGz7CCTKhamGKyiUnVr4iCWKGZpcBNFuZhiKHOZ2dstLJxW93ASC4MJSC23BNYHLeUO26I9dTAq2XAVgqT2qZA+wsBrYtFKoHSvotDLR0PHEiGePwrywduGdikQXQ1XqMyEMHGzG8qWPk00pcoANpEMsbRqegI6UwARc8NtVwWVBbp5EBT0ePAkYMemJKhHJHeYUFuvK7aAWwHeMCGi4DcFe0eU3mtHN88V7gjrqfvRdBCI28ZS3RsmsNRiZK2TRFfRqcMDfDWh90AZHytaRyvrgYKqbIrSRCJw3uHaj0wLrLzb8AT+687HUNVgotB1iLljIYbLJ9eVI1YRJWLLjQ1DHyaQWg1sOUPl2uClYHJXzNNEpvURPRck8WgFOWC71AWh0AjREPO4PXZleMA7CBzioErg9h248xHNjbdsxKKW6ixPuimDkqR1bPAwBngfVssj/RS8rGvtJcCgCb9s1YF0tW6FPXAAOC8UAzRlK/UjYygLUJ5QDQ1v21tWta897FAFB9ZuVE4eV4lZP97oAM4q3Cud5X3bnfbbt1Z4dmjd95Q5ecOn1c4KbMS60dqNy5mIj2Is5yX47lXDTwGfRAAfVM5sfZ0Ta8y7mukKryw8gdaz7x4SSw/5+l7we2+586xz4tBlA/z/HAVUZ8NgzQ2NaeSdY8Yy6m4pg+r29zsQf17kv2C0XbNWQz/uEOxVXiInsRL++j0uzLkeXl9iJJuQ6gkqUButfzoeZYP/ENVnh057Y2vvLxcx+vb+tw+/bgQcas0gtGnT3qtJGZODC6xv5Fam1MEvjTZYBiELLTUr/13AX/aOtetXvpB8Jx6F9LEknnDll83PxjSzOR83W569OvHb75ocMhn+Fcaf7SqzT0jk0Nd25b0ZxQY0O9tMu92lVeMPynp4TuDoBm50fmH+gwWED9upoA+0LzjyHpe9turq9p1F0Xj3wLGv04YgwAqBx519SyUokNV1jPol/7DVDh13WOL67BTP9TbcMVdW93xRwT0mZf+i4BOqRerk4CAEwu/mN5RSgPG7oqRclsAWyggq6h3HRrhT/uTR3fWS+WHMZru0iTKOtreyqhrM0cBN8sGPbfs0YMCjIwC1KbYkw7LAYEJNhV5iM+lPXkzkX1DmlGOJpz1QdwyRVoqhCzNs3BcQkxednUSyf4kZDzLau6r9OB+nY2N8Nag6MAgHlJ/c/e04wyJaYaddOAep35rEuvaNfcBPfefuKtU8l7cqd9bmpjX+SAej/TOb54Pcq893fUScRThAkqyQS5IoES5ECj6TUawEV8wRFrslAAvKUDnmbumiXphALr2cMC2l/hZl/sL3s9QcwpxoR4/T/lIV7HBNbiPByvk4xPD28JAwDgLrol/2SgfN91lWVe91ReU8fpq/bnYsiQjmgDUOShb5MgaQKov10tM5T61bGpLfOFYmzuniKWWmuZYCSTb1+Z2e2Rf+/mkU/HyDcia10MTSFZdFOTaEVbvMgses6M7N6Q9PToahuJ2ftzI5++dzMAYHhmt31l8oBTIhb2oFdB3WNPeVbYeYqNfbgiVVemo58C1AsewAlTQJfBdWNn5Xswufj1C4s8u7WUrtFDZJSAwgkocG/byatEGbVayWzEant1tb6QsjqFWwEEueKkVfRyNlmz1D9D78wXHmMdTYdmjY2WAX7xvihhR2w8w9muskG3JYBO/VEvKhAajR8vkHYj2aw4Ns8AsHbWOZ4Ne5XOyc8An3yBwW7aN+OVyMySkyXRsTYixdYSC0w8fNwVY1VKHX6rY0XL/zS/n+vVFMbrJtzYlgZxZiglH14pO7yVVgoLYgzgB/FdAHjzwJkvxoycugIbscRVZPRPKtp6Rv56Q6Ddrmm6p3Fbj8YjjPuBnJCNhzYrJUnQ5i+e4e0Q8Hu6Rs8Af8X/V80aL54ftTzL4dpeZWSN2NhryC81G6YcZfY9Lnu57ef7V3dovIHeWOBqUnPypAA4TR8v9PAEp9J6PFK4IjOgfcTgfUgBwHmr1rQqbo5e5A1l/kuFnmsnnjOkcLDB5ceaf9SwK5fHIXYVPeAmTImIq+Rt/AMgd2h8SVPIgIgfMPhej/wHt/SJfCNSTK5IwsWl/SEfMKhyxPun89T3J1/8uZihVduP90OdooEKXtP64BYAQGrwvVrDB/R8Pr3Nw/BKn8xyTPf74xvff8XQWf/nTzxv2OFDlh9nr9u9rC3RIsh6QF1U7Kr2IE1tl3oYY/YUb327XK8EIL3E+/u7bcrSMdJ4+3E+RxgxxDxv6EBgtqPSNRO4/N1TphQnboFhJLhepK5DzvLvtglK79C5PkXogAEwlzzW4SriH9X2Rqw62lDt/jeHPnLSQGPvS/df/SGzdt2SXA4TtQ4RTTDIaP8aEQAXg6hHlYCLvff1+yPgtQptJRlFxUmeW4IBPxaPdSu2TB5u6TIRunrzuKHvcOv3C7t2sRoMkVfNDazcpzGQpIkCo0kRhVll6SOTgTltcNPUzZNLzF76keiBBtQtjC8lEiJb26bBdkmL8unY5Jeap3DEjjNKPqm4bUxiP0gZtsjQBNSdFA+HhcP6QVdfQHGFGTHvfsQRZAAA3H7c4yfEkOjeAZeQurEhA/zbBby8s7sfecHYcaQZAFw26qKSwvODAXXj/L6HEiDqoodbA9E998hncLmuq/CbAuraQwnwYQRvHRNOLC44h6chtjl3ZKnvcU5644Bd+C5MAXUNft9DCRAMOD6jCU5ZSVQgirzEMFo02keS/Pv3ZWrf69H2In+PQ+oaVCXI8HZzwQVj8451fNNcjjUMcOMRk4CH99Om6z/UthzbrDd+BNSti9cML/f+zBmfgMvocnSchOR80D3wpHc5395JtYv3aoATjiE9rKx3YIW65TEzSG/hAwAYPTjw4hlJ61k4z1ITBsAvHhpY4pc3D339qNcfae2l5fhilQgV5w0Vm4B8EG6HIgVD7t3e3yWnJsJR+kiMlepwBp5qc9yBIX3jJ5/fSnWX7Gp1oBaGu4k1ytCv27nz1CilCgPMB/ARAEwft2CYBpqCdl2OqyC14qpud/nBwyV9ZcsJW6h+5jvbe7Qwl5tYoM36PPKCYSKV/pH5gMoAcZFzq9CyFZo5JuMvUWg6uk5IfH9nQ38Jb7fv2Fv0OtVf8P6urIYwVwuGhRBYbLGQzw6fKufWREgMxP+LBYD4VxGIBcXq7mdyXsZQ6tpRc8KiUYUQ7vATzT9ueC+nyRCwsmY+BMbcxA09FEgsKGJeQV/RMcBHBdL4CEMAYPHahz+K5HOioCgS8IBIbvCd0yf0YQ12h1PddOcBAZHrSyF0oh/HA6CRCPET7PrTijGUzQuLZytSosg72GBNzgrI+I+cHjEC7C7CrPWTZg5J8uVWtv6x6al2TsoM6RJkck4AEtGyLCCmkcL6eW87h8S8gF/tN9ff2m3eyhfbNCnweCrMSAYnhpn3HXN26diiHrfN2dH5Zserh5471M15nC1V+yTnB2N6R5cRkLZb8jYe7ktqzD7f33uj6gVR+6WTA0ODyZEmNwgkrJBPyAxGM/5uYlZAhr9d/diHSzekTY56ZQCA7PTUeu/TbzZ7+6Ek6gPKywCVDfmrUqI6wM2DButNn6vmEsQ+VwDnZgXrN/qw6SQAHop3vOqA2oYZL7v6bQbUnLDKnDhgpsfr9HlhvY/vRtZKQi/23g5bG88Rlr8ZJ1OLvkQiT4UIA2u9rfAd99K/SQVxupIYPURqSKm1/tUIuYEsIF/uL8YALBj25JdMf3PjOZRYIdLLfwOwLzSXe+837jt7nRMvdtGNd9KeaL1VCeXPCaprBGWZUO4y+VWx5SfYWSiWbRW4cCvoaJ05da1fFyr+PUB8DZmhKaEgzXWF6ACl6ke7KN7VXCc2VQMAbKifU+4UXiQVnwyTsM7TB8w/XH/vh5o5rRbF6cD0w2GAIuCSgozojB+U3T1TVAo2YzZtz0d6AQwQpvEpv040kASdeBva76kfVoA1PxqB98mTRt52LglM3mExQFFa9vnmMgjnduO+yzbtz2kzB8hbG0i96ABO0AiIbUoRRH1jU09Mn+FDHZ3OImslMDClsprreBJW+XWjjvvbLTdtd0mRBp3R62+NUPI2K5648d2Trj/d9IP6vZgfiP0AVovHrqyzpv4CN/nf9NgPvXXLO4F7q2NHIWsGOOGdwp4M/erkq08tCvchuLv+J+V2gmc5IAyIhU5dR2f+BGlPhJf3/se2F9sSCe7vkpkYQ75Yevsps8ukK9d1/3Pxh/1dQXRYS2aEx/hLXCV/9+aB+7c/ckDaGZcKajFhFVCavjX6uklnjI6cexg/opY8dx8hBmjlwT7f/Km/NbB/7Gl9ds+zB1a1ZPuZJ0rT/KEXjr7wmGPUkHq9c2dEy3/qq8aS76dseepKVEKDAjB/3LH3k/fb3/nk3Y4Wu81uyR20m21guDXMGpoqtYZZJw46+XMnlJR9btQg0vWrFTW5P6TrNNtADSABA/UUAtqHF19ifhHzMOYwnvwRXnBe7HqqpFlLKB+JruMIsQRchAmYiImYiNEowWCUoAQlANrRjnYcQjsOYAd2YAd2Uk+v2uHIdfQfrAX+x+7ewLT+GS6H/j+ILom5K3oP9AAAAABJRU5ErkJggg=="},function(e,t,n){var r={},i=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}((function(){return window&&document&&document.all&&!window.atob})),a=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),o=null,s=0,l=[],u=n(173);function c(e,t){for(var n=0;n<e.length;n++){var i=e[n],a=r[i.id];if(a){a.refs++;for(var o=0;o<a.parts.length;o++)a.parts[o](i.parts[o]);for(;o<i.parts.length;o++)a.parts.push(g(i.parts[o],t))}else{var s=[];for(o=0;o<i.parts.length;o++)s.push(g(i.parts[o],t));r[i.id]={id:i.id,refs:1,parts:s}}}}function d(e,t){for(var n=[],r={},i=0;i<e.length;i++){var a=e[i],o=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[o]?r[o].parts.push(s):n.push(r[o]={id:o,parts:[s]})}return n}function f(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function p(e){var t=document.createElement("style");return e.attrs.type="text/css",v(t,e.attrs),f(e,t),t}function v(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function g(e,t){var n,r,i,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var l=s++;n=o||(o=p(t)),r=y.bind(null,n,l,!1),i=y.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",v(t,e.attrs),f(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||a)&&(r=u(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,n,t),i=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=p(t),r=function(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){h(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=d(e,t);return c(n,t),function(e){for(var i=[],a=0;a<n.length;a++){var o=n[a];(s=r[o.id]).refs--,i.push(s)}for(e&&c(d(e,t),t),a=0;a<i.length;a++){var s;if(0===(s=i[a]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete r[s.id]}}}};var m=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function y(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=m(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,a=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(i=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3)),i="//livestatic.videocc.net/assets/wimages/";e.exports=function(e){var t={version:"v1.19.0",date:"2020-01-13",pn:"PCH5Live",uid:null,vid:null,pid:"",width:"100%",height:"auto",wrap:null,wrapContainer:null,pageDomain:null,httpHead:"http://",flowStatus:r.default.LOADING,m3u8Url:null,mute:!1,vol:.5,oldVolume:.5,autoPlay:!0,language:0,showControls:!1,errorCode:"",restrictLoadTime:1,restrictUrl:"//livejson.polyv.net/service/v3/restrict_"+e.uid+"_"+e.vid+".json",backUpRestrictUrl:"//live.polyv.net/service/v3/restrict_"+e.uid+"_"+e.vid+".json",channelLoadTime:1,channelUrl:"//player.polyv.net/service/lts3/enc_"+e.uid+"_"+e.vid+".json",backUpChannelUrl:"//live.polyv.net/service/lts3/enc_"+e.uid+"_"+e.vid+".json",betaChannelUrl:"//live.polyv.net/test/service/v1/channel.json?vid="+e.vid,assetsUrl:i,installGifUrl:i+"wimages/install_flash_player.png",noSupportGifUrl:i+"wimages/upgrade_flash_player.png",swfLink:"//player.polyv.net/live/player.swf",flashParams:{allowScriptAccess:"always",allowFullScreen:"true",quality:"high",bgcolor:"#ffffff",wmode:""},apiHttp:"//api.polyv.net/live_status/query?stream=",apiHttps:"//api.polyv.net/live_status/query?stream=",defaultBlue:"//livestatic.videocc.net/v_66/assets/wimages/default_blue.png",noliveBlue:"//player.polyv.net/live_player/image/noLiving3.png",noliveImage:i+"player/ppt/nolive_ppt_white.png",loadingImage:"http://livestatic.videocc.net/v_1000/assets/wimages/new-loading.gif",errorImage:"//livestatic.videocc.net/v_84/assets/wimages/icon.png",audioImage:"//player.polyv.net/live_player/image/audio2.png",statSendPath:"//rtas.videocc.net/v2/view",MD5_SALT:"rtas.net",apiEndTime:0,isFirstGetApi:!0,hasGetChannelJson:!1,initTimeStampSt:Date.now(),currentTime:0,oldTime:0,playDuration:0,stayDuration:0,param1:"",param2:"",param3:"",param4:"",param5:"",session_id:"",key1:"",key2:"",key3:"",ute:"",uted:"",code:"",output:{},barHideTime:3,supportAutoplay:!1,line:0,marqueeCheck:!0,showDanmu:!0};return 1===e.language&&(t.noliveImage=i+"player/ppt/en/nolive_ppt_white.png",t.audioImage="//player.polyv.net/live_player/image/audio3.png"),console.info("h5-live-player/"+t.version+"/"+t.date),t}},function(e,t,n){e.exports={default:n(176),__esModule:!0}},function(e,t,n){n(49),n(56),e.exports=n(78).f("iterator")},function(e,t,n){var r=n(70),i=n(71);e.exports=function(e){return function(t,n){var a,o,s=String(i(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(a=s.charCodeAt(l))<55296||a>56319||l+1===u||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):a:e?s.slice(l,l+2):o-56320+(a-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(111),i=n(53),a=n(55),o={};n(22)(o,n(9)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var r=n(19),i=n(15),a=n(74);e.exports=n(20)?Object.defineProperties:function(e,t){i(e);for(var n,o=a(t),s=o.length,l=0;s>l;)r.f(e,n=o[l++],t[n]);return e}},function(e,t,n){var r=n(39);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(30),i=n(113),a=n(182);e.exports=function(e){return function(t,n,o){var s,l=r(t),u=i(l.length),c=a(o,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(70),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):a(e,t)}},function(e,t,n){var r=n(24),i=n(115),a=n(75)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,n){"use strict";var r=n(185),i=n(186),a=n(29),o=n(30);e.exports=n(108)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(188),__esModule:!0}},function(e,t,n){n(189),n(118),n(195),n(196),e.exports=n(11).Symbol},function(e,t,n){"use strict";var r=n(8),i=n(24),a=n(20),o=n(28),s=n(110),l=n(190).KEY,u=n(52),c=n(76),d=n(55),f=n(54),h=n(9),p=n(78),v=n(79),g=n(191),m=n(192),y=n(15),A=n(23),_=n(115),b=n(30),E=n(73),w=n(53),S=n(111),k=n(193),C=n(194),T=n(116),I=n(19),x=n(74),R=C.f,L=I.f,O=k.f,D=r.Symbol,M=r.JSON,P=M&&M.stringify,N=h("_hidden"),F=h("toPrimitive"),B={}.propertyIsEnumerable,U=c("symbol-registry"),j=c("symbols"),G=c("op-symbols"),H=Object.prototype,V="function"==typeof D&&!!T.f,z=r.QObject,q=!z||!z.prototype||!z.prototype.findChild,W=a&&u((function(){return 7!=S(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=R(H,t);r&&delete H[t],L(e,t,n),r&&e!==H&&L(H,t,r)}:L,Y=function(e){var t=j[e]=S(D.prototype);return t._k=e,t},K=V&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof D},X=function(e,t,n){return e===H&&X(G,t,n),y(e),t=E(t,!0),y(n),i(j,t)?(n.enumerable?(i(e,N)&&e[N][t]&&(e[N][t]=!1),n=S(n,{enumerable:w(0,!1)})):(i(e,N)||L(e,N,w(1,{})),e[N][t]=!0),W(e,t,n)):L(e,t,n)},Q=function(e,t){y(e);for(var n,r=g(t=b(t)),i=0,a=r.length;a>i;)X(e,n=r[i++],t[n]);return e},J=function(e){var t=B.call(this,e=E(e,!0));return!(this===H&&i(j,e)&&!i(G,e))&&(!(t||!i(this,e)||!i(j,e)||i(this,N)&&this[N][e])||t)},Z=function(e,t){if(e=b(e),t=E(t,!0),e!==H||!i(j,t)||i(G,t)){var n=R(e,t);return!n||!i(j,t)||i(e,N)&&e[N][t]||(n.enumerable=!0),n}},$=function(e){for(var t,n=O(b(e)),r=[],a=0;n.length>a;)i(j,t=n[a++])||t==N||t==l||r.push(t);return r},ee=function(e){for(var t,n=e===H,r=O(n?G:b(e)),a=[],o=0;r.length>o;)!i(j,t=r[o++])||n&&!i(H,t)||a.push(j[t]);return a};V||(s((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(G,n),i(this,N)&&i(this[N],e)&&(this[N][e]=!1),W(this,e,w(1,n))};return a&&q&&W(H,e,{configurable:!0,set:t}),Y(e)}).prototype,"toString",(function(){return this._k})),C.f=Z,I.f=X,n(117).f=k.f=$,n(80).f=J,T.f=ee,a&&!n(38)&&s(H,"propertyIsEnumerable",J,!0),p.f=function(e){return Y(h(e))}),o(o.G+o.W+o.F*!V,{Symbol:D});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)h(te[ne++]);for(var re=x(h.store),ie=0;re.length>ie;)v(re[ie++]);o(o.S+o.F*!V,"Symbol",{for:function(e){return i(U,e+="")?U[e]:U[e]=D(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),o(o.S+o.F*!V,"Object",{create:function(e,t){return void 0===t?S(e):Q(S(e),t)},defineProperty:X,defineProperties:Q,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:ee});var ae=u((function(){T.f(1)}));o(o.S+o.F*ae,"Object",{getOwnPropertySymbols:function(e){return T.f(_(e))}}),M&&o(o.S+o.F*(!V||u((function(){var e=D();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(A(t)||void 0!==e)&&!K(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!K(t))return t}),r[1]=t,P.apply(M,r)}}),D.prototype[F]||n(22)(D.prototype,F,D.prototype.valueOf),d(D,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(54)("meta"),i=n(23),a=n(24),o=n(19).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(52)((function(){return l(Object.preventExtensions({}))})),c=function(e){o(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!a(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return u&&d.NEED&&l(e)&&!a(e,r)&&c(e),e}}},function(e,t,n){var r=n(74),i=n(116),a=n(80);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var o,s=n(e),l=a.f,u=0;s.length>u;)l.call(e,o=s[u++])&&t.push(o);return t}},function(e,t,n){var r=n(39);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(30),i=n(117).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(80),i=n(53),a=n(30),o=n(73),s=n(24),l=n(109),u=Object.getOwnPropertyDescriptor;t.f=n(20)?u:function(e,t){if(e=a(e),t=o(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){n(79)("asyncIterator")},function(e,t,n){n(79)("observable")},function(e,t,n){
/*! MIT License. Copyright 2015-2018 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */
!function(t){"use strict";function n(e){return parseInt(e)===e}function r(e){if(!n(e.length))return!1;for(var t=0;t<e.length;t++)if(!n(e[t])||e[t]<0||e[t]>255)return!1;return!0}function i(e,t){if(e.buffer&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!r(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(n(e.length)&&r(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function a(e){return new Uint8Array(e)}function o(e,t,n,r,i){null==r&&null==i||(e=e.slice?e.slice(r,i):Array.prototype.slice.call(e,r,i)),t.set(e,n)}var s={toBytes:function(e){var t=[],n=0;for(e=encodeURI(e);n<e.length;){var r=e.charCodeAt(n++);37===r?(t.push(parseInt(e.substr(n,2),16)),n+=2):t.push(r)}return i(t)},fromBytes:function(e){for(var t=[],n=0;n<e.length;){var r=e[n];r<128?(t.push(String.fromCharCode(r)),n++):r>191&&r<224?(t.push(String.fromCharCode((31&r)<<6|63&e[n+1])),n+=2):(t.push(String.fromCharCode((15&r)<<12|(63&e[n+1])<<6|63&e[n+2])),n+=3)}return t.join("")}},l=function(){var e="0123456789abcdef";return{toBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},fromBytes:function(t){for(var n=[],r=0;r<t.length;r++){var i=t[r];n.push(e[(240&i)>>4]+e[15&i])}return n.join("")}}}(),u={16:10,24:12,32:14},c=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],d=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],f=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],h=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],p=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],v=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],g=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],m=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],y=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],A=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],_=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],b=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],E=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],w=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],S=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function k(e){for(var t=[],n=0;n<e.length;n+=4)t.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return t}var C=function(e){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(e,!0)}),this._prepare()};C.prototype._prepare=function(){var e=u[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var n,r=4*(e+1),i=this.key.length/4,a=k(this.key);for(t=0;t<i;t++)n=t>>2,this._Ke[n][t%4]=a[t],this._Kd[e-n][t%4]=a[t];for(var o,s=0,l=i;l<r;){if(o=a[i-1],a[0]^=d[o>>16&255]<<24^d[o>>8&255]<<16^d[255&o]<<8^d[o>>24&255]^c[s]<<24,s+=1,8!=i)for(t=1;t<i;t++)a[t]^=a[t-1];else{for(t=1;t<i/2;t++)a[t]^=a[t-1];for(o=a[i/2-1],a[i/2]^=d[255&o]^d[o>>8&255]<<8^d[o>>16&255]<<16^d[o>>24&255]<<24,t=i/2+1;t<i;t++)a[t]^=a[t-1]}for(t=0;t<i&&l<r;)f=l>>2,h=l%4,this._Ke[f][h]=a[t],this._Kd[e-f][h]=a[t++],l++}for(var f=1;f<e;f++)for(var h=0;h<4;h++)o=this._Kd[f][h],this._Kd[f][h]=b[o>>24&255]^E[o>>16&255]^w[o>>8&255]^S[255&o]},C.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,n=[0,0,0,0],r=k(e),i=0;i<4;i++)r[i]^=this._Ke[0][i];for(var o=1;o<t;o++){for(i=0;i<4;i++)n[i]=h[r[i]>>24&255]^p[r[(i+1)%4]>>16&255]^v[r[(i+2)%4]>>8&255]^g[255&r[(i+3)%4]]^this._Ke[o][i];r=n.slice()}var s,l=a(16);for(i=0;i<4;i++)s=this._Ke[t][i],l[4*i]=255&(d[r[i]>>24&255]^s>>24),l[4*i+1]=255&(d[r[(i+1)%4]>>16&255]^s>>16),l[4*i+2]=255&(d[r[(i+2)%4]>>8&255]^s>>8),l[4*i+3]=255&(d[255&r[(i+3)%4]]^s);return l},C.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,n=[0,0,0,0],r=k(e),i=0;i<4;i++)r[i]^=this._Kd[0][i];for(var o=1;o<t;o++){for(i=0;i<4;i++)n[i]=m[r[i]>>24&255]^y[r[(i+3)%4]>>16&255]^A[r[(i+2)%4]>>8&255]^_[255&r[(i+1)%4]]^this._Kd[o][i];r=n.slice()}var s,l=a(16);for(i=0;i<4;i++)s=this._Kd[t][i],l[4*i]=255&(f[r[i]>>24&255]^s>>24),l[4*i+1]=255&(f[r[(i+3)%4]>>16&255]^s>>16),l[4*i+2]=255&(f[r[(i+2)%4]>>8&255]^s>>8),l[4*i+3]=255&(f[255&r[(i+1)%4]]^s);return l};var T=function(e){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new C(e)};T.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),n=a(16),r=0;r<e.length;r+=16)o(e,n,0,r,r+16),o(n=this._aes.encrypt(n),t,r);return t},T.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),n=a(16),r=0;r<e.length;r+=16)o(e,n,0,r,r+16),o(n=this._aes.decrypt(n),t,r);return t};var I=function(e,t){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=a(16);this._lastCipherblock=i(t,!0),this._aes=new C(e)};I.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),n=a(16),r=0;r<e.length;r+=16){o(e,n,0,r,r+16);for(var s=0;s<16;s++)n[s]^=this._lastCipherblock[s];this._lastCipherblock=this._aes.encrypt(n),o(this._lastCipherblock,t,r)}return t},I.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),n=a(16),r=0;r<e.length;r+=16){o(e,n,0,r,r+16),n=this._aes.decrypt(n);for(var s=0;s<16;s++)t[r+s]=n[s]^this._lastCipherblock[s];o(e,this._lastCipherblock,0,r,r+16)}return t};var x=function(e,t,n){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=a(16);n||(n=1),this.segmentSize=n,this._shiftRegister=i(t,!0),this._aes=new C(e)};x.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,n=i(e,!0),r=0;r<n.length;r+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var a=0;a<this.segmentSize;a++)n[r+a]^=t[a];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(n,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return n},x.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,n=i(e,!0),r=0;r<n.length;r+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var a=0;a<this.segmentSize;a++)n[r+a]^=t[a];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(e,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return n};var R=function(e,t){if(!(this instanceof R))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=a(16);this._lastPrecipher=i(t,!0),this._lastPrecipherIndex=16,this._aes=new C(e)};R.prototype.encrypt=function(e){for(var t=i(e,!0),n=0;n<t.length;n++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[n]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},R.prototype.decrypt=R.prototype.encrypt;var L=function(e){if(!(this instanceof L))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=a(16),this.setValue(e)):this.setBytes(e)};L.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");if(e>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var t=15;t>=0;--t)this._counter[t]=e%256,e=parseInt(e/256)},L.prototype.setBytes=function(e){if(16!=(e=i(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},L.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var O=function(e,t){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof L||(t=new L(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new C(e)};O.prototype.encrypt=function(e){for(var t=i(e,!0),n=0;n<t.length;n++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[n]^=this._remainingCounter[this._remainingCounterIndex++];return t},O.prototype.decrypt=O.prototype.encrypt;var D={AES:C,Counter:L,ModeOfOperation:{ecb:T,cbc:I,cfb:x,ofb:R,ctr:O},utils:{hex:l,utf8:s},padding:{pkcs7:{pad:function(e){var t=16-(e=i(e,!0)).length%16,n=a(e.length+t);o(e,n);for(var r=e.length;r<n.length;r++)n[r]=t;return n},strip:function(e){if((e=i(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var n=e.length-t,r=0;r<t;r++)if(e[n+r]!==t)throw new Error("PKCS#7 invalid padding byte");var s=a(n);return o(e,s,0,0,n),s}}},_arrayTest:{coerceArray:i,createArray:a,copyArray:o}};e.exports=D}()},function(e,t,n){"use strict";var r=f(n(199)),i=f(n(298)),a=f(n(323)),o=f(n(324)),s=f(n(327)),l=f(n(330)),u=f(n(331)),c=f(n(332)),d=f(n(333));function f(e){return e&&e.__esModule?e:{default:e}}var h={init:function(e){this.addEvent(e),e.event.emit("__startPlayInit")},addEvent:function(e){(0,r.default)(e).addEvent("__startPlayInit");var t=(0,i.default)(e);t.addEvent("__restrictJsonInit"),t.addEvent("__channelJsonInit"),new s.default(e);var n=(0,l.default)(e);n.addEvent("__initPassword"),n.addEvent("__passwordDone"),(0,u.default)(e).addEvent("__initCutOff"),(0,a.default)(e).addEvent("__initPreAd"),new o.default(e),new c.default(e),new d.default(e)}};e.exports=h},function(e,t,n){"use strict";var r=l(n(119)),i=l(n(223)),a=l(n(296)),o=l(n(42)),s=l(n(297));function l(e){return e&&e.__esModule?e:{default:e}}e.exports=function(e){return{addEvent:function(t){switch(t){case"__startPlayInit":e.event.on("__startPlayInit",this.startPlayInit)}},startPlayInit:function(){!function(e){if(function(e){"string"==typeof e.wrap?e.wrap.indexOf("#")>-1?e.wrapContainer=document.getElementById(e.wrap.split("#")[1]):e.wrapContainer=document.getElementsByClassName(e.wrap.split(".")[1])[0]:e.wrapContainer=e.wrap}(e),!r.default.isSupported()||o.default.isMobile||o.default.isIe){var t=a.default.createScript(a.default.url);window.polyvObject?e.multiPlayer=a.default._init(e.wrap,e):document.querySelector("head").appendChild(t);var n=[];t.onload=function(){n.forEach((function(e){return e()})),e.multiPlayer=a.default._init(e.wrap,e),Object.assign(e,s.default)}}else i.default.init(e),Object.assign(e,s.default)}(e)}}}},function(e,t,n){(function(t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
!function(t,n){e.exports=n()}(0,(function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,a=void 0,o=void 0,s=function(e,t){p[i]=e,p[i+1]=t,2===(i+=2)&&(o?o(v):g())},l="undefined"!=typeof window?window:void 0,u=l||{},c=u.MutationObserver||u.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(v,1)}}var p=new Array(1e3);function v(){for(var e=0;e<i;e+=2)(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0;i=0}var g=void 0;function m(e,t){var n=this,r=new this.constructor(_);void 0===r[A]&&D(r);var i=n._state;if(i){var a=arguments[i-1];s((function(){return L(i,r,a,n._result)}))}else x(n,r,e,t);return r}function y(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(_);return k(t,e),t}g=d?function(){return t.nextTick(v)}:c?function(){var e=0,t=new c(v),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():f?function(){var e=new MessageChannel;return e.port1.onmessage=v,function(){return e.port2.postMessage(0)}}():void 0===l?function(){try{var e=Function("return this")().require("vertx");return void 0!==(a=e.runOnLoop||e.runOnContext)?function(){a(v)}:h()}catch(e){return h()}}():h();var A=Math.random().toString(36).substring(2);function _(){}var b=void 0,E=1,w=2;function S(t,n,r){n.constructor===t.constructor&&r===m&&n.constructor.resolve===y?function(e,t){t._state===E?T(e,t._result):t._state===w?I(e,t._result):x(t,void 0,(function(t){return k(e,t)}),(function(t){return I(e,t)}))}(t,n):void 0===r?T(t,n):e(r)?function(e,t,n){s((function(e){var r=!1,i=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?k(e,n):T(e,n))}),(function(t){r||(r=!0,I(e,t))}),e._label);!r&&i&&(r=!0,I(e,i))}),e)}(t,n,r):T(t,n)}function k(e,t){if(e===t)I(e,new TypeError("You cannot resolve a promise with itself"));else if(function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}(t)){var n=void 0;try{n=t.then}catch(t){return void I(e,t)}S(e,t,n)}else T(e,t)}function C(e){e._onerror&&e._onerror(e._result),R(e)}function T(e,t){e._state===b&&(e._result=t,e._state=E,0!==e._subscribers.length&&s(R,e))}function I(e,t){e._state===b&&(e._state=w,e._result=t,s(C,e))}function x(e,t,n,r){var i=e._subscribers,a=i.length;e._onerror=null,i[a]=t,i[a+E]=n,i[a+w]=r,0===a&&e._state&&s(R,e)}function R(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,a=e._result,o=0;o<t.length;o+=3)r=t[o],i=t[o+n],r?L(n,r,i,a):i(a);e._subscribers.length=0}}function L(t,n,r,i){var a=e(r),o=void 0,s=void 0,l=!0;if(a){try{o=r(i)}catch(e){l=!1,s=e}if(n===o)return void I(n,new TypeError("A promises callback cannot return that same promise."))}else o=i;n._state!==b||(a&&l?k(n,o):!1===l?I(n,s):t===E?T(n,o):t===w&&I(n,o))}var O=0;function D(e){e[A]=O++,e._state=void 0,e._result=void 0,e._subscribers=[]}var M=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(_),this.promise[A]||D(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&T(this.promise,this._result))):I(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===b&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===y){var i=void 0,a=void 0,o=!1;try{i=e.then}catch(e){o=!0,a=e}if(i===m&&e._state!==b)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===P){var s=new n(_);o?I(s,a):S(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===b&&(this._remaining--,e===w?I(r,n):this._result[t]=n),0===this._remaining&&T(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;x(e,void 0,(function(e){return n._settledAt(E,t,e)}),(function(e){return n._settledAt(w,t,e)}))},e}(),P=function(){function t(e){this[A]=O++,this._result=this._state=void 0,this._subscribers=[],_!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){k(e,t)}),(function(t){I(e,t)}))}catch(t){I(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return P.prototype.then=m,P.all=function(e){return new M(this,e).promise},P.race=function(e){var t=this;return r(e)?new t((function(n,r){for(var i=e.length,a=0;a<i;a++)t.resolve(e[a]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},P.resolve=y,P.reject=function(e){var t=new this(_);return I(t,e),t},P._setScheduler=function(e){o=e},P._setAsap=function(e){s=e},P._asap=s,P.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=P},P.Promise=P,P}))}).call(this,n(201),n(57))},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&h())}function h(){if(!c){var e=s(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(121)),a=n(82),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"supportMSEH264Playback",value:function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}},{key:"supportNetworkStreamIO",value:function(){var e=new i.default({},(0,a.createDefaultConfig)()),t=e.loaderType;return e.destroy(),"fetch-stream-loader"==t||"xhr-moz-chunked-loader"==t}},{key:"getNetworkLoaderTypeName",value:function(){var e=new i.default({},(0,a.createDefaultConfig)()),t=e.loaderType;return e.destroy(),t}},{key:"supportNativeMediaPlayback",value:function(t){null==e.videoElement&&(e.videoElement=window.document.createElement("video"));var n=e.videoElement.canPlayType(t);return"probably"===n||"maybe"==n}},{key:"getFeatureList",value:function(){var t={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return t.mseFlvPlayback=e.supportMSEH264Playback(),t.networkStreamIO=e.supportNetworkStreamIO(),t.networkLoaderName=e.getNetworkLoaderTypeName(),t.mseLiveFlvPlayback=t.mseFlvPlayback&&t.networkStreamIO,t.nativeMP4H264Playback=e.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),t.nativeWebmVP8Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),t.nativeWebmVP9Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp9"'),t}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(l(n(6)),l(n(40))),o=n(16),s=n(7);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"fetch-stream-loader"));return r.TAG="FetchStreamLoader",r._seekHandler=e,r._config=n,r._needStash=!0,r._requestAbort=!1,r._contentLength=null,r._receivedLength=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.BaseLoader),i(t,null,[{key:"isSupported",value:function(){try{var e=a.default.msedge&&a.default.version.minor>=15048,t=!a.default.msedge||e;return self.fetch&&self.ReadableStream&&t}catch(e){return!1}}}]),i(t,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"open",value:function(e,t){var n=this;this._dataSource=e,this._range=t;var i=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(i=e.redirectedURL);var a=this._seekHandler.getConfig(i,t),l=new self.Headers;if("object"===r(a.headers)){var u=a.headers;for(var c in u)u.hasOwnProperty(c)&&l.append(c,u[c])}var d={method:"GET",headers:l,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if("object"===r(this._config.headers))for(var f in this._config.headers)l.append(f,this._config.headers[f]);!1===e.cors&&(d.mode="same-origin"),e.withCredentials&&(d.credentials="include"),e.referrerPolicy&&(d.referrerPolicy=e.referrerPolicy),this._status=o.LoaderStatus.kConnecting,self.fetch(a.url,d).then((function(e){if(n._requestAbort)return n._requestAbort=!1,void(n._status=o.LoaderStatus.kIdle);if(e.ok&&e.status>=200&&e.status<=299){if(e.url!==a.url&&n._onURLRedirect){var t=n._seekHandler.removeURLParameters(e.url);n._onURLRedirect(t)}var r=e.headers.get("Content-Length");return null!=r&&(n._contentLength=parseInt(r),0!==n._contentLength&&n._onContentLengthKnown&&n._onContentLengthKnown(n._contentLength)),n._pump.call(n,e.body.getReader())}if(n._status=o.LoaderStatus.kError,!n._onError)throw new s.RuntimeException("FetchStreamLoader: Http code invalid, "+e.status+" "+e.statusText);n._onError(o.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:e.status,msg:e.statusText})})).catch((function(e){if(n._status=o.LoaderStatus.kError,!n._onError)throw e;n._onError(o.LoaderErrors.EXCEPTION,{code:-1,msg:e.message})}))}},{key:"abort",value:function(){this._requestAbort=!0}},{key:"_pump",value:function(e){var t=this;return e.read().then((function(n){if(n.done)if(null!==t._contentLength&&t._receivedLength<t._contentLength){t._status=o.LoaderStatus.kError;var r=o.LoaderErrors.EARLY_EOF,i={code:-1,msg:"Fetch stream meet Early-EOF"};if(!t._onError)throw new s.RuntimeException(i.msg);t._onError(r,i)}else t._status=o.LoaderStatus.kComplete,t._onComplete&&t._onComplete(t._range.from,t._range.from+t._receivedLength-1);else{if(!0===t._requestAbort)return t._requestAbort=!1,t._status=o.LoaderStatus.kComplete,e.cancel();t._status=o.LoaderStatus.kBuffering;var a=n.value.buffer,l=t._range.from+t._receivedLength;t._receivedLength+=a.byteLength,t._onDataArrival&&t._onDataArrival(a,l,t._receivedLength),t._pump(e)}})).catch((function(e){if(11!==e.code||!a.default.msedge){t._status=o.LoaderStatus.kError;var n=0,r=null;if(19!==e.code&&"network error"!==e.message||!(null===t._contentLength||null!==t._contentLength&&t._receivedLength<t._contentLength)?(n=o.LoaderErrors.EXCEPTION,r={code:e.code,msg:e.message}):(n=o.LoaderErrors.EARLY_EOF,r={code:e.code,msg:"Fetch stream meet Early-EOF"}),!t._onError)throw new s.RuntimeException(r.msg);t._onError(n,r)}}))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),o=n(16),s=n(7),l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"xhr-moz-chunked-loader"));return r.TAG="MozChunkedLoader",r._seekHandler=e,r._config=n,r._needStash=!0,r._xhr=null,r._requestAbort=!1,r._contentLength=null,r._receivedLength=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.BaseLoader),i(t,null,[{key:"isSupported",value:function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(e){return a.default.w("MozChunkedLoader",e.message),!1}}}]),i(t,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"open",value:function(e,t){this._dataSource=e,this._range=t;var n=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(n=e.redirectedURL);var i=this._seekHandler.getConfig(n,t);this._requestURL=i.url;var a=this._xhr=new XMLHttpRequest;if(a.open("GET",i.url,!0),a.responseType="moz-chunked-arraybuffer",a.onreadystatechange=this._onReadyStateChange.bind(this),a.onprogress=this._onProgress.bind(this),a.onloadend=this._onLoadEnd.bind(this),a.onerror=this._onXhrError.bind(this),e.withCredentials&&(a.withCredentials=!0),"object"===r(i.headers)){var s=i.headers;for(var l in s)s.hasOwnProperty(l)&&a.setRequestHeader(l,s[l])}if("object"===r(this._config.headers)){var u=this._config.headers;for(var c in u)u.hasOwnProperty(c)&&a.setRequestHeader(c,u[c])}this._status=o.LoaderStatus.kConnecting,a.send()}},{key:"abort",value:function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=o.LoaderStatus.kComplete}},{key:"_onReadyStateChange",value:function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL&&t.responseURL!==this._requestURL&&this._onURLRedirect){var n=this._seekHandler.removeURLParameters(t.responseURL);this._onURLRedirect(n)}if(0!==t.status&&(t.status<200||t.status>299)){if(this._status=o.LoaderStatus.kError,!this._onError)throw new s.RuntimeException("MozChunkedLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(o.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else this._status=o.LoaderStatus.kBuffering}}},{key:"_onProgress",value:function(e){if(this._status!==o.LoaderStatus.kError){null===this._contentLength&&null!==e.total&&0!==e.total&&(this._contentLength=e.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var t=e.target.response,n=this._range.from+this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,n,this._receivedLength)}}},{key:"_onLoadEnd",value:function(e){!0!==this._requestAbort?this._status!==o.LoaderStatus.kError&&(this._status=o.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1}},{key:"_onXhrError",value:function(e){this._status=o.LoaderStatus.kError;var t=0,n=null;if(this._contentLength&&e.loaded<this._contentLength?(t=o.LoaderErrors.EARLY_EOF,n={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(t=o.LoaderErrors.EXCEPTION,n={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new s.RuntimeException(n.msg);this._onError(t,n)}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),o=n(16),s=n(7),l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"xhr-msstream-loader"));return r.TAG="MSStreamLoader",r._seekHandler=e,r._config=n,r._needStash=!0,r._xhr=null,r._reader=null,r._totalRange=null,r._currentRange=null,r._currentRequestURL=null,r._currentRedirectedURL=null,r._contentLength=null,r._receivedLength=0,r._bufferLimit=16777216,r._lastTimeBufferSize=0,r._isReconnecting=!1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.BaseLoader),i(t,null,[{key:"isSupported",value:function(){try{if(void 0===self.MSStream||void 0===self.MSStreamReader)return!1;var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="ms-stream","ms-stream"===e.responseType}catch(e){return a.default.w("MSStreamLoader",e.message),!1}}}]),i(t,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),this._reader&&(this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr=null),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"open",value:function(e,t){this._internalOpen(e,t,!1)}},{key:"_internalOpen",value:function(e,t,n){this._dataSource=e,n?this._currentRange=t:this._totalRange=t;var i=e.url;this._config.reuseRedirectedURL&&(null!=this._currentRedirectedURL?i=this._currentRedirectedURL:null!=e.redirectedURL&&(i=e.redirectedURL));var a=this._seekHandler.getConfig(i,t);this._currentRequestURL=a.url;var s=this._reader=new self.MSStreamReader;s.onprogress=this._msrOnProgress.bind(this),s.onload=this._msrOnLoad.bind(this),s.onerror=this._msrOnError.bind(this);var l=this._xhr=new XMLHttpRequest;if(l.open("GET",a.url,!0),l.responseType="ms-stream",l.onreadystatechange=this._xhrOnReadyStateChange.bind(this),l.onerror=this._xhrOnError.bind(this),e.withCredentials&&(l.withCredentials=!0),"object"===r(a.headers)){var u=a.headers;for(var c in u)u.hasOwnProperty(c)&&l.setRequestHeader(c,u[c])}if("object"===r(this._config.headers)){var d=this._config.headers;for(var f in d)d.hasOwnProperty(f)&&l.setRequestHeader(f,d[f])}this._isReconnecting?this._isReconnecting=!1:this._status=o.LoaderStatus.kConnecting,l.send()}},{key:"abort",value:function(){this._internalAbort(),this._status=o.LoaderStatus.kComplete}},{key:"_internalAbort",value:function(){this._reader&&(1===this._reader.readyState&&this._reader.abort(),this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.abort(),this._xhr.onreadystatechange=null,this._xhr=null)}},{key:"_xhrOnReadyStateChange",value:function(e){var t=e.target;if(2===t.readyState)if(t.status>=200&&t.status<=299){if(this._status=o.LoaderStatus.kBuffering,null!=t.responseURL){var n=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&n!==this._currentRedirectedURL&&(this._currentRedirectedURL=n,this._onURLRedirect&&this._onURLRedirect(n))}var r=t.getResponseHeader("Content-Length");if(null!=r&&null==this._contentLength){var i=parseInt(r);i>0&&(this._contentLength=i,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength))}}else{if(this._status=o.LoaderStatus.kError,!this._onError)throw new s.RuntimeException("MSStreamLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(o.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else if(3===t.readyState&&t.status>=200&&t.status<=299){this._status=o.LoaderStatus.kBuffering;var a=t.response;this._reader.readAsArrayBuffer(a)}}},{key:"_xhrOnError",value:function(e){this._status=o.LoaderStatus.kError;var t=o.LoaderErrors.EXCEPTION,n={code:-1,msg:e.constructor.name+" "+e.type};if(!this._onError)throw new s.RuntimeException(n.msg);this._onError(t,n)}},{key:"_msrOnProgress",value:function(e){var t=e.target.result;if(null!=t){var n=t.slice(this._lastTimeBufferSize);this._lastTimeBufferSize=t.byteLength;var r=this._totalRange.from+this._receivedLength;this._receivedLength+=n.byteLength,this._onDataArrival&&this._onDataArrival(n,r,this._receivedLength),t.byteLength>=this._bufferLimit&&(a.default.v(this.TAG,"MSStream buffer exceeded max size near "+(r+n.byteLength)+", reconnecting..."),this._doReconnectIfNeeded())}else this._doReconnectIfNeeded()}},{key:"_doReconnectIfNeeded",value:function(){if(null==this._contentLength||this._receivedLength<this._contentLength){this._isReconnecting=!0,this._lastTimeBufferSize=0,this._internalAbort();var e={from:this._totalRange.from+this._receivedLength,to:-1};this._internalOpen(this._dataSource,e,!0)}}},{key:"_msrOnLoad",value:function(e){this._status=o.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._totalRange.from,this._totalRange.from+this._receivedLength-1)}},{key:"_msrOnError",value:function(e){this._status=o.LoaderStatus.kError;var t=0,n=null;if(this._contentLength&&this._receivedLength<this._contentLength?(t=o.LoaderErrors.EARLY_EOF,n={code:-1,msg:"MSStream meet Early-Eof"}):(t=o.LoaderErrors.EARLY_EOF,n={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new s.RuntimeException(n.msg);this._onError(t,n)}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(6)),o=u(n(122)),s=n(16),l=n(7);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"xhr-range-loader"));return r.TAG="RangeLoader",r._seekHandler=e,r._config=n,r._needStash=!1,r._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],r._currentChunkSizeKB=384,r._currentSpeedNormalized=0,r._zeroSpeedChunkCount=0,r._xhr=null,r._speedSampler=new o.default,r._requestAbort=!1,r._waitForTotalLength=!1,r._totalLengthReceived=!1,r._currentRequestURL=null,r._currentRedirectedURL=null,r._currentRequestRange=null,r._totalLength=null,r._contentLength=null,r._receivedLength=0,r._lastTimeLoaded=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.BaseLoader),i(t,null,[{key:"isSupported",value:function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return a.default.w("RangeLoader",e.message),!1}}}]),i(t,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"open",value:function(e,t){this._dataSource=e,this._range=t,this._status=s.LoaderStatus.kConnecting;var n=!1;null!=this._dataSource.filesize&&0!==this._dataSource.filesize&&(n=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||n?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))}},{key:"_openSubRange",value:function(){var e=1024*this._currentChunkSizeKB,t=this._range.from+this._receivedLength,n=t+e;null!=this._contentLength&&n-this._range.from>=this._contentLength&&(n=this._range.from+this._contentLength-1),this._currentRequestRange={from:t,to:n},this._internalOpen(this._dataSource,this._currentRequestRange)}},{key:"_internalOpen",value:function(e,t){this._lastTimeLoaded=0;var n=e.url;this._config.reuseRedirectedURL&&(null!=this._currentRedirectedURL?n=this._currentRedirectedURL:null!=e.redirectedURL&&(n=e.redirectedURL));var i=this._seekHandler.getConfig(n,t);this._currentRequestURL=i.url;var a=this._xhr=new XMLHttpRequest;if(a.open("GET",i.url,!0),a.responseType="arraybuffer",a.onreadystatechange=this._onReadyStateChange.bind(this),a.onprogress=this._onProgress.bind(this),a.onload=this._onLoad.bind(this),a.onerror=this._onXhrError.bind(this),e.withCredentials&&(a.withCredentials=!0),"object"===r(i.headers)){var o=i.headers;for(var s in o)o.hasOwnProperty(s)&&a.setRequestHeader(s,o[s])}if("object"===r(this._config.headers)){var l=this._config.headers;for(var u in l)l.hasOwnProperty(u)&&a.setRequestHeader(u,l[u])}a.send()}},{key:"abort",value:function(){this._requestAbort=!0,this._internalAbort(),this._status=s.LoaderStatus.kComplete}},{key:"_internalAbort",value:function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)}},{key:"_onReadyStateChange",value:function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL){var n=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&n!==this._currentRedirectedURL&&(this._currentRedirectedURL=n,this._onURLRedirect&&this._onURLRedirect(n))}if(t.status>=200&&t.status<=299){if(this._waitForTotalLength)return;this._status=s.LoaderStatus.kBuffering}else{if(this._status=s.LoaderStatus.kError,!this._onError)throw new l.RuntimeException("RangeLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(s.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}}}},{key:"_onProgress",value:function(e){if(this._status!==s.LoaderStatus.kError){if(null===this._contentLength){var t=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,t=!0;var n=e.total;this._internalAbort(),null!=n&0!==n&&(this._totalLength=n)}if(-1===this._range.to?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,t)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var r=e.loaded-this._lastTimeLoaded;this._lastTimeLoaded=e.loaded,this._speedSampler.addBytes(r)}}},{key:"_normalizeSpeed",value:function(e){var t=this._chunkSizeKBList,n=t.length-1,r=0,i=0,a=n;if(e<t[0])return t[0];for(;i<=a;){if((r=i+Math.floor((a-i)/2))===n||e>=t[r]&&e<t[r+1])return t[r];t[r]<e?i=r+1:a=r-1}}},{key:"_onLoad",value:function(e){if(this._status!==s.LoaderStatus.kError)if(this._waitForTotalLength)this._waitForTotalLength=!1;else{this._lastTimeLoaded=0;var t=this._speedSampler.lastSecondKBps;if(0===t&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(t=this._speedSampler.currentKBps)),0!==t){var n=this._normalizeSpeed(t);this._currentSpeedNormalized!==n&&(this._currentSpeedNormalized=n,this._currentChunkSizeKB=n)}var r=e.target.response,i=this._range.from+this._receivedLength;this._receivedLength+=r.byteLength;var a=!1;null!=this._contentLength&&this._receivedLength<this._contentLength?this._openSubRange():a=!0,this._onDataArrival&&this._onDataArrival(r,i,this._receivedLength),a&&(this._status=s.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}}},{key:"_onXhrError",value:function(e){this._status=s.LoaderStatus.kError;var t=0,n=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(t=s.LoaderErrors.EARLY_EOF,n={code:-1,msg:"RangeLoader meet Early-Eof"}):(t=s.LoaderErrors.EXCEPTION,n={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new l.RuntimeException(n.msg);this._onError(t,n)}},{key:"currentSpeed",get:function(){return this._speedSampler.lastSecondKBps}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(function(e){e&&e.__esModule}(n(6)),n(16)),a=n(7),o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"websocket-loader"));return e.TAG="WebSocketLoader",e._needStash=!0,e._ws=null,e._requestAbort=!1,e._receivedLength=0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.BaseLoader),r(t,null,[{key:"isSupported",value:function(){try{return void 0!==self.WebSocket}catch(e){return!1}}}]),r(t,[{key:"destroy",value:function(){this._ws&&this.abort(),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"open",value:function(e){try{var t=this._ws=new self.WebSocket(e.url);t.binaryType="arraybuffer",t.onopen=this._onWebSocketOpen.bind(this),t.onclose=this._onWebSocketClose.bind(this),t.onmessage=this._onWebSocketMessage.bind(this),t.onerror=this._onWebSocketError.bind(this),this._status=i.LoaderStatus.kConnecting}catch(e){this._status=i.LoaderStatus.kError;var n={code:e.code,msg:e.message};if(!this._onError)throw new a.RuntimeException(n.msg);this._onError(i.LoaderErrors.EXCEPTION,n)}}},{key:"abort",value:function(){var e=this._ws;!e||0!==e.readyState&&1!==e.readyState||(this._requestAbort=!0,e.close()),this._ws=null,this._status=i.LoaderStatus.kComplete}},{key:"_onWebSocketOpen",value:function(e){this._status=i.LoaderStatus.kBuffering}},{key:"_onWebSocketClose",value:function(e){!0!==this._requestAbort?(this._status=i.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1}},{key:"_onWebSocketMessage",value:function(e){var t=this;if(e.data instanceof ArrayBuffer)this._dispatchArrayBuffer(e.data);else if(e.data instanceof Blob){var n=new FileReader;n.onload=function(){t._dispatchArrayBuffer(n.result)},n.readAsArrayBuffer(e.data)}else{this._status=i.LoaderStatus.kError;var r={code:-1,msg:"Unsupported WebSocket message type: "+e.data.constructor.name};if(!this._onError)throw new a.RuntimeException(r.msg);this._onError(i.LoaderErrors.EXCEPTION,r)}}},{key:"_dispatchArrayBuffer",value:function(e){var t=e,n=this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,n,this._receivedLength)}},{key:"_onWebSocketError",value:function(e){this._status=i.LoaderStatus.kError;var t={code:e.code,msg:e.message};if(!this._onError)throw new a.RuntimeException(t.msg);this._onError(i.LoaderErrors.EXCEPTION,t)}}]),t}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._zeroStart=t||!1}return r(e,[{key:"getConfig",value:function(e,t){var n={};if(0!==t.from||-1!==t.to){var r;r=-1!==t.to?"bytes="+t.from.toString()+"-"+t.to.toString():"bytes="+t.from.toString()+"-",n.Range=r}else this._zeroStart&&(n.Range="bytes=0-");return{url:e,headers:n}}},{key:"removeURLParameters",value:function(e){return e}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._startName=t,this._endName=n}return r(e,[{key:"getConfig",value:function(e,t){var n=e;if(0!==t.from||-1!==t.to){var r=!0;-1===n.indexOf("?")&&(n+="?",r=!1),r&&(n+="&"),n+=this._startName+"="+t.from.toString(),-1!==t.to&&(n+="&"+this._endName+"="+t.to.toString())}return{url:n,headers:{}}}},{key:"removeURLParameters",value:function(e){var t=e.split("?")[0],n=void 0,r=e.indexOf("?");-1!==r&&(n=e.substring(r+1));var i="";if(null!=n&&n.length>0)for(var a=n.split("&"),o=0;o<a.length;o++){var s=a[o].split("="),l=o>0;s[0]!==this._startName&&s[0]!==this._endName&&(l&&(i+="&"),i+=a[o])}return 0===i.length?t:t+"?"+i}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=g(n(14)),o=g(n(6)),s=g(n(40)),l=g(n(83)),u=g(n(211)),c=g(n(58)),d=g(n(221)),f=g(n(126)),h=n(127),p=n(82),v=n(7);function g(e){return e&&e.__esModule?e:{default:e}}var m=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new a.default,this._config=(0,p.createDefaultConfig)(),"object"===(void 0===n?"undefined":r(n))&&Object.assign(this._config,n),"flv"!==t.type.toLowerCase())throw new v.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");!0===t.isLive&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=t,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var i=s.default.chrome&&(s.default.version.major<50||50===s.default.version.major&&s.default.version.build<2661);this._alwaysSeekKeyframe=!!(i||s.default.msedge||s.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return i(e,[{key:"destroy",value:function(){null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(e,t){var n=this;e===l.default.MEDIA_INFO?null!=this._mediaInfo&&Promise.resolve().then((function(){n._emitter.emit(l.default.MEDIA_INFO,n.mediaInfo)})):e===l.default.STATISTICS_INFO&&null!=this._statisticsInfo&&Promise.resolve().then((function(){n._emitter.emit(l.default.STATISTICS_INFO,n.statisticsInfo)})),this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"attachMediaElement",value:function(e){var t=this;if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),e.addEventListener("seeking",this.e.onvSeeking),e.addEventListener("canplay",this.e.onvCanPlay),e.addEventListener("stalled",this.e.onvStalled),e.addEventListener("progress",this.e.onvProgress),this._msectl=new d.default(this._config),this._msectl.on(f.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(f.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(f.default.SOURCE_OPEN,(function(){t._mseSourceOpened=!0,t._hasPendingLoad&&(t._hasPendingLoad=!1,t.load())})),this._msectl.on(f.default.ERROR,(function(e){t._emitter.emit(l.default.ERROR,h.ErrorTypes.MEDIA_ERROR,h.ErrorDetails.MEDIA_MSE_ERROR,e)})),this._msectl.attachMediaElement(e),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}}},{key:"detachMediaElement",value:function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)}},{key:"load",value:function(){var e=this;if(!this._mediaElement)throw new v.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new v.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");this._hasPendingLoad||(this._config.deferLoadAfterSourceOpen&&!1===this._mseSourceOpened?this._hasPendingLoad=!0:(this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new u.default(this._mediaDataSource,this._config),this._transmuxer.on(c.default.INIT_SEGMENT,(function(t,n){e._msectl.appendInitSegment(n)})),this._transmuxer.on(c.default.MEDIA_SEGMENT,(function(t,n){if(e._msectl.appendMediaSegment(n),e._config.lazyLoad&&!e._config.isLive){var r=e._mediaElement.currentTime;n.info.endDts>=1e3*(r+e._config.lazyLoadMaxDuration)&&null==e._progressChecker&&(o.default.v(e.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),e._suspendTransmuxer())}})),this._transmuxer.on(c.default.LOADING_COMPLETE,(function(){e._msectl.endOfStream(),e._emitter.emit(l.default.LOADING_COMPLETE)})),this._transmuxer.on(c.default.RECOVERED_EARLY_EOF,(function(){e._emitter.emit(l.default.RECOVERED_EARLY_EOF)})),this._transmuxer.on(c.default.IO_ERROR,(function(t,n){e._emitter.emit(l.default.ERROR,h.ErrorTypes.NETWORK_ERROR,t,n)})),this._transmuxer.on(c.default.DEMUX_ERROR,(function(t,n){e._emitter.emit(l.default.ERROR,h.ErrorTypes.MEDIA_ERROR,t,{code:-1,msg:n})})),this._transmuxer.on(c.default.MEDIA_INFO,(function(t){e._mediaInfo=t,e._emitter.emit(l.default.MEDIA_INFO,Object.assign({},t))})),this._transmuxer.on(c.default.METADATA_ARRIVED,(function(t){e._emitter.emit(l.default.METADATA_ARRIVED,t)})),this._transmuxer.on(c.default.SCRIPTDATA_ARRIVED,(function(t){e._emitter.emit(l.default.SCRIPTDATA_ARRIVED,t)})),this._transmuxer.on(c.default.STATISTICS_INFO,(function(t){e._statisticsInfo=e._fillStatisticsInfo(t),e._emitter.emit(l.default.STATISTICS_INFO,Object.assign({},e._statisticsInfo))})),this._transmuxer.on(c.default.RECOMMEND_SEEKPOINT,(function(t){e._mediaElement&&!e._config.accurateSeek&&(e._requestSetTime=!0,e._mediaElement.currentTime=t/1e3)})),this._transmuxer.on(c.default.SEI_INFO,(function(t){e._emitter.emit(c.default.SEI_INFO,t)})),this._transmuxer.on(c.default.AVC_DECODER_CHANGE,(function(t){e._emitter.emit(c.default.AVC_DECODER_CHANGE,t)})),this._transmuxer.open()))}},{key:"unload",value:function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)}},{key:"play",value:function(){return this._mediaElement.play()}},{key:"pause",value:function(){this._mediaElement.pause()}},{key:"_fillStatisticsInfo",value:function(e){if(e.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,n=0,r=0;if(this._mediaElement.getVideoPlaybackQuality){var i=this._mediaElement.getVideoPlaybackQuality();n=i.totalVideoFrames,r=i.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(n=this._mediaElement.webkitDecodedFrameCount,r=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=n,e.droppedFrames=r),e}},{key:"_onmseUpdateEnd",value:function(){if(this._config.lazyLoad&&!this._config.isLive){for(var e=this._mediaElement.buffered,t=this._mediaElement.currentTime,n=0,r=0;r<e.length;r++){var i=e.start(r),a=e.end(r);if(i<=t&&t<a){n=a;break}}n>=t+this._config.lazyLoadMaxDuration&&null==this._progressChecker&&(o.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}}},{key:"_onmseBufferFull",value:function(){o.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),null==this._progressChecker&&this._suspendTransmuxer()}},{key:"_suspendTransmuxer",value:function(){this._transmuxer&&(this._transmuxer.pause(),null==this._progressChecker&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))}},{key:"_checkProgressAndResume",value:function(){for(var e=this._mediaElement.currentTime,t=this._mediaElement.buffered,n=!1,r=0;r<t.length;r++){var i=t.start(r),a=t.end(r);if(e>=i&&e<a){e>=a-this._config.lazyLoadRecoverDuration&&(n=!0);break}}n&&(window.clearInterval(this._progressChecker),this._progressChecker=null,n&&(o.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))}},{key:"_isTimepointBuffered",value:function(e){for(var t=this._mediaElement.buffered,n=0;n<t.length;n++){var r=t.start(n),i=t.end(n);if(e>=r&&e<i)return!0}return!1}},{key:"_internalSeek",value:function(e){var t=this._isTimepointBuffered(e),n=!1,r=0;if(e<1&&this._mediaElement.buffered.length>0){var i=this._mediaElement.buffered.start(0);(i<1&&e<i||s.default.safari)&&(n=!0,r=s.default.safari?.1:i)}if(n)this._requestSetTime=!0,this._mediaElement.currentTime=r;else if(t){if(this._alwaysSeekKeyframe){var a=this._msectl.getNearestKeyframe(Math.floor(1e3*e));this._requestSetTime=!0,this._mediaElement.currentTime=null!=a?a.dts/1e3:e}else this._requestSetTime=!0,this._mediaElement.currentTime=e;null!=this._progressChecker&&this._checkProgressAndResume()}else null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e)}},{key:"_checkAndApplyUnbufferedSeekpoint",value:function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var e=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(e)||(null!=this._progressChecker&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}},{key:"_checkAndResumeStuckPlayback",value:function(e){var t=this._mediaElement;if(e||!this._receivedCanPlay||t.readyState<2){var n=t.buffered;n.length>0&&t.currentTime<n.start(0)&&(o.default.w(this.TAG,"Playback seems stuck at "+t.currentTime+", seek to "+n.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=n.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)}},{key:"_onvLoadedMetadata",value:function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)}},{key:"_onvSeeking",value:function(e){var t=this._mediaElement.currentTime,n=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(t<1&&n.length>0){var r=n.start(0);if(r<1&&t<r||s.default.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=s.default.safari?.1:r)}if(this._isTimepointBuffered(t)){if(this._alwaysSeekKeyframe){var i=this._msectl.getNearestKeyframe(Math.floor(1e3*t));null!=i&&(this._requestSetTime=!0,this._mediaElement.currentTime=i.dts/1e3)}null!=this._progressChecker&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:t,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}}},{key:"_onvCanPlay",value:function(e){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)}},{key:"_onvStalled",value:function(e){this._checkAndResumeStuckPlayback(!0)}},{key:"_onvProgress",value:function(e){this._checkAndResumeStuckPlayback()}},{key:"type",get:function(){return this._type}},{key:"buffered",get:function(){return this._mediaElement.buffered}},{key:"duration",get:function(){return this._mediaElement.duration}},{key:"volume",get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e}},{key:"muted",get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e}},{key:"currentTime",get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._internalSeek(e):this._pendingSeekTime=e}},{key:"mediaInfo",get:function(){return Object.assign({},this._mediaInfo)}},{key:"statisticsInfo",get:function(){return null==this._statisticsInfo&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)}}]),e}();t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n(14)),a=d(n(6)),o=d(n(84)),s=d(n(123)),l=d(n(58)),u=d(n(219)),c=d(n(85));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="Transmuxer",this._emitter=new i.default,r.enableWorker&&"undefined"!=typeof Worker)try{var c=n(220);this._worker=c(u.default),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[t,r]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},o.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:o.default.getConfig()})}catch(e){a.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new s.default(t,r)}else this._controller=new s.default(t,r);if(this._controller){var d=this._controller;d.on(l.default.IO_ERROR,this._onIOError.bind(this)),d.on(l.default.DEMUX_ERROR,this._onDemuxError.bind(this)),d.on(l.default.INIT_SEGMENT,this._onInitSegment.bind(this)),d.on(l.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),d.on(l.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),d.on(l.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),d.on(l.default.MEDIA_INFO,this._onMediaInfo.bind(this)),d.on(l.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),d.on(l.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),d.on(l.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),d.on(l.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this)),d.on(l.default.SEI_INFO,this._onSeiInfo.bind(this)),d.on(l.default.AVC_DECODER_CHANGE,this._onAVCDecoderChange.bind(this))}}return r(e,[{key:"destroy",value:function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),o.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(e,t){this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"hasWorker",value:function(){return null!=this._worker}},{key:"open",value:function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()}},{key:"close",value:function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()}},{key:"seek",value:function(e){this._worker?this._worker.postMessage({cmd:"seek",param:e}):this._controller.seek(e)}},{key:"pause",value:function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()}},{key:"resume",value:function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()}},{key:"_onInitSegment",value:function(e,t){var n=this;Promise.resolve().then((function(){n._emitter.emit(l.default.INIT_SEGMENT,e,t)}))}},{key:"_onMediaSegment",value:function(e,t){var n=this;Promise.resolve().then((function(){n._emitter.emit(l.default.MEDIA_SEGMENT,e,t)}))}},{key:"_onLoadingComplete",value:function(){var e=this;Promise.resolve().then((function(){e._emitter.emit(l.default.LOADING_COMPLETE)}))}},{key:"_onRecoveredEarlyEof",value:function(){var e=this;Promise.resolve().then((function(){e._emitter.emit(l.default.RECOVERED_EARLY_EOF)}))}},{key:"_onMediaInfo",value:function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(l.default.MEDIA_INFO,e)}))}},{key:"_onMetaDataArrived",value:function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(l.default.METADATA_ARRIVED,e)}))}},{key:"_onScriptDataArrived",value:function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(l.default.SCRIPTDATA_ARRIVED,e)}))}},{key:"_onSeiInfo",value:function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(l.default.SEI_INFO,e)}))}},{key:"_onAVCDecoderChange",value:function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(l.default.AVC_DECODER_CHANGE,e)}))}},{key:"_onStatisticsInfo",value:function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(l.default.STATISTICS_INFO,e)}))}},{key:"_onIOError",value:function(e,t){var n=this;Promise.resolve().then((function(){n._emitter.emit(l.default.IO_ERROR,e,t)}))}},{key:"_onDemuxError",value:function(e,t){var n=this;Promise.resolve().then((function(){n._emitter.emit(l.default.DEMUX_ERROR,e,t)}))}},{key:"_onRecommendSeekpoint",value:function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(l.default.RECOMMEND_SEEKPOINT,e)}))}},{key:"_onLoggingConfigChanged",value:function(e){this._worker&&this._worker.postMessage({cmd:"logging_config",param:e})}},{key:"_onWorkerMessage",value:function(e){var t=e.data,n=t.data;if("destroyed"===t.msg||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(t.msg){case l.default.INIT_SEGMENT:case l.default.MEDIA_SEGMENT:this._emitter.emit(t.msg,n.type,n.data);break;case l.default.LOADING_COMPLETE:case l.default.RECOVERED_EARLY_EOF:this._emitter.emit(t.msg);break;case l.default.MEDIA_INFO:Object.setPrototypeOf(n,c.default.prototype),this._emitter.emit(t.msg,n);break;case l.default.METADATA_ARRIVED:case l.default.SCRIPTDATA_ARRIVED:case l.default.STATISTICS_INFO:this._emitter.emit(t.msg,n);break;case l.default.IO_ERROR:case l.default.DEMUX_ERROR:this._emitter.emit(t.msg,n.type,n.info);break;case l.default.RECOMMEND_SEEKPOINT:this._emitter.emit(t.msg,n);break;case"logcat_callback":a.default.emitter.emit("log",n.type,n.logcat)}}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n(6)),o=h(n(213)),s=h(n(215)),l=h(n(86)),u=h(n(85)),c=n(7),d=h(n(124)),f=h(n(14));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="FLVDemuxer",this._emitter=new f.default,this._onSEIInfo=null,this._onAVCDecoderChange=null,this._config=n,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=t.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=t.hasAudioTrack,this._hasVideo=t.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new u.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}()}return i(e,[{key:"destroy",value:function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._onSEIInfo=null,this._onAVCDecoderChange=null}},{key:"bindDataSource",value:function(e){return e.onDataArrival=this.parseChunks.bind(this),this}},{key:"resetMediaInfo",value:function(){this._mediaInfo=new u.default}},{key:"_isInitialMetadataDispatched",value:function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched}},{key:"parseChunks",value:function(t,n){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new c.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var r=0,i=this._littleEndian;if(0===n){if(!(t.byteLength>13))return 0;r=e.probe(t).dataOffset}for(this._firstParse&&(this._firstParse=!1,n+r!==this._dataOffset&&a.default.w(this.TAG,"First time parsing but chunk byteStart invalid!"),0!==new DataView(t,r).getUint32(0,!i)&&a.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),r+=4);r<t.byteLength;){this._dispatch=!0;var o=new DataView(t,r);if(r+11+4>t.byteLength)break;var s=o.getUint8(0),l=16777215&o.getUint32(0,!i);if(r+11+l+4>t.byteLength)break;if(8===s||9===s||18===s){var u=o.getUint8(4),d=o.getUint8(5),f=o.getUint8(6)|d<<8|u<<16|o.getUint8(7)<<24;0!=(16777215&o.getUint32(7,!i))&&a.default.w(this.TAG,"Meet tag which has StreamID != 0!");var h=r+11;switch(s){case 8:this._parseAudioData(t,h,l,f);break;case 9:this._parseVideoData(t,h,l,f,n+r);break;case 18:this._parseScriptData(t,h,l)}var p=o.getUint32(11+l,!i);p!==11+l&&a.default.w(this.TAG,"Invalid PrevTagSize "+p),r+=11+l+4}else a.default.w(this.TAG,"Unsupported tag type "+s+", skipped"),r+=11+l+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),r}},{key:"_parseScriptData",value:function(e,t,n){var i=o.default.parseScriptData(e,t,n);if(i.hasOwnProperty("onMetaData")){if(null==i.onMetaData||"object"!==r(i.onMetaData))return void a.default.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&a.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=i;var s=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},s)),"boolean"==typeof s.hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=s.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"==typeof s.hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=s.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"==typeof s.audiodatarate&&(this._mediaInfo.audioDataRate=s.audiodatarate),"number"==typeof s.videodatarate&&(this._mediaInfo.videoDataRate=s.videodatarate),"number"==typeof s.width&&(this._mediaInfo.width=s.width),"number"==typeof s.height&&(this._mediaInfo.height=s.height),"number"==typeof s.duration){if(!this._durationOverrided){var l=Math.floor(s.duration*this._timescale);this._duration=l,this._mediaInfo.duration=l}}else this._mediaInfo.duration=0;if("number"==typeof s.framerate){var u=Math.floor(1e3*s.framerate);if(u>0){var c=u/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=c,this._referenceFrameRate.fps_num=u,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=c}}if("object"===r(s.keyframes)){this._mediaInfo.hasKeyframesIndex=!0;var d=s.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(d),s.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=s,a.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(i).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},i))}},{key:"_parseKeyframesIndex",value:function(e){for(var t=[],n=[],r=1;r<e.times.length;r++){var i=this._timestampBase+Math.floor(1e3*e.times[r]);t.push(i),n.push(e.filepositions[r])}return{times:t,filepositions:n}}},{key:"_parseAudioData",value:function(e,t,n,r){if(n<=1)a.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");else if(!0!==this._hasAudioFlagOverrided||!1!==this._hasAudio){this._littleEndian;var i=new DataView(e,t,n).getUint8(0),o=i>>>4;if(2===o||10===o){var s=0,u=(12&i)>>>2;if(u>=0&&u<=4){s=this._flvSoundRateTable[u];var c=1&i,d=this._audioMetadata,f=this._audioTrack;if(d||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(d=this._audioMetadata={}).type="audio",d.id=f.id,d.timescale=this._timescale,d.duration=this._duration,d.audioSampleRate=s,d.channelCount=0===c?1:2),10===o){var h=this._parseAACAudioData(e,t+1,n-1);if(null==h)return;if(0===h.packetType){d.config&&a.default.w(this.TAG,"Found another AudioSpecificConfig!");var p=h.data;d.audioSampleRate=p.samplingRate,d.channelCount=p.channelCount,d.codec=p.codec,d.originalCodec=p.originalCodec,d.config=p.config,d.refSampleDuration=1024/d.audioSampleRate*d.timescale,a.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",d);var v=this._mediaInfo;v.audioCodec=d.originalCodec,v.audioSampleRate=d.audioSampleRate,v.audioChannelCount=d.channelCount,v.hasVideo?null!=v.videoCodec&&(v.mimeType='video/x-flv; codecs="'+v.videoCodec+","+v.audioCodec+'"'):v.mimeType='video/x-flv; codecs="'+v.audioCodec+'"',v.isComplete()&&this._onMediaInfo(v)}else if(1===h.packetType){var g=this._timestampBase+r,m={unit:h.data,length:h.data.byteLength,dts:g,pts:g};f.samples.push(m),f.length+=h.data.length}else a.default.e(this.TAG,"Flv: Unsupported AAC data type "+h.packetType)}else if(2===o){if(!d.codec){var y=this._parseMP3AudioData(e,t+1,n-1,!0);if(null==y)return;d.audioSampleRate=y.samplingRate,d.channelCount=y.channelCount,d.codec=y.codec,d.originalCodec=y.originalCodec,d.refSampleDuration=1152/d.audioSampleRate*d.timescale,a.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",d);var A=this._mediaInfo;A.audioCodec=d.codec,A.audioSampleRate=d.audioSampleRate,A.audioChannelCount=d.channelCount,A.audioDataRate=y.bitRate,A.hasVideo?null!=A.videoCodec&&(A.mimeType='video/x-flv; codecs="'+A.videoCodec+","+A.audioCodec+'"'):A.mimeType='video/x-flv; codecs="'+A.audioCodec+'"',A.isComplete()&&this._onMediaInfo(A)}var _=this._parseMP3AudioData(e,t+1,n-1,!1);if(null==_)return;var b=this._timestampBase+r,E={unit:_,length:_.byteLength,dts:b,pts:b};f.samples.push(E),f.length+=_.length}}else this._onError(l.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+u)}else this._onError(l.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+o)}}},{key:"_parseAACAudioData",value:function(e,t,n){if(!(n<=1)){var r={},i=new Uint8Array(e,t,n);return r.packetType=i[0],0===i[0]?r.data=this._parseAACAudioSpecificConfig(e,t+1,n-1):r.data=i.subarray(1),r}a.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")}},{key:"_parseAACAudioSpecificConfig",value:function(e,t,n){var r,i,a=new Uint8Array(e,t,n),o=null,s=0,u=null;if(s=r=a[0]>>>3,(i=(7&a[0])<<1|a[1]>>>7)<0||i>=this._mpegSamplingRates.length)this._onError(l.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");else{var c=this._mpegSamplingRates[i],d=(120&a[1])>>>3;if(!(d<0||d>=8)){5===s&&(u=(7&a[1])<<1|a[2]>>>7,a[2]);var f=self.navigator.userAgent.toLowerCase();return-1!==f.indexOf("firefox")?i>=6?(s=5,o=new Array(4),u=i-3):(s=2,o=new Array(2),u=i):-1!==f.indexOf("android")?(s=2,o=new Array(2),u=i):(s=5,u=i,o=new Array(4),i>=6?u=i-3:1===d&&(s=2,o=new Array(2),u=i)),o[0]=s<<3,o[0]|=(15&i)>>>1,o[1]=(15&i)<<7,o[1]|=(15&d)<<3,5===s&&(o[1]|=(15&u)>>>1,o[2]=(1&u)<<7,o[2]|=8,o[3]=0),{config:o,samplingRate:c,channelCount:d,codec:"mp4a.40."+s,originalCodec:"mp4a.40."+r}}this._onError(l.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration")}}},{key:"_parseMP3AudioData",value:function(e,t,n,r){if(!(n<4)){this._littleEndian;var i=new Uint8Array(e,t,n),o=null;if(r){if(255!==i[0])return;var s=i[1]>>>3&3,l=(6&i[1])>>1,u=(240&i[2])>>>4,c=(12&i[2])>>>2,d=3!=(i[3]>>>6&3)?2:1,f=0,h=0;switch(s){case 0:f=this._mpegAudioV25SampleRateTable[c];break;case 2:f=this._mpegAudioV20SampleRateTable[c];break;case 3:f=this._mpegAudioV10SampleRateTable[c]}switch(l){case 1:u<this._mpegAudioL3BitRateTable.length&&(h=this._mpegAudioL3BitRateTable[u]);break;case 2:u<this._mpegAudioL2BitRateTable.length&&(h=this._mpegAudioL2BitRateTable[u]);break;case 3:u<this._mpegAudioL1BitRateTable.length&&(h=this._mpegAudioL1BitRateTable[u])}o={bitRate:h,samplingRate:f,channelCount:d,codec:"mp3",originalCodec:"mp3"}}else o=i;return o}a.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")}},{key:"_parseVideoData",value:function(e,t,n,r,i){if(n<=1)a.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");else if(!0!==this._hasVideoFlagOverrided||!1!==this._hasVideo){var o=new Uint8Array(e,t,n)[0],s=(240&o)>>>4,u=15&o;7===u?this._parseAVCVideoPacket(e,t+1,n-1,r,i,s):this._onError(l.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+u)}}},{key:"_parseAVCVideoPacket",value:function(e,t,n,r,i,o){if(n<4)a.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");else{var s=this._littleEndian,u=new DataView(e,t,n),c=u.getUint8(0),d=(16777215&u.getUint32(0,!s))<<8>>8;if(0===c)this._parseAVCDecoderConfigurationRecord(e,t+4,n-4);else if(1===c)this._parseAVCVideoData(e,t+4,n-4,r,i,o,d);else if(2!==c)return void this._onError(l.default.FORMAT_ERROR,"Flv: Invalid video packet type "+c)}}},{key:"_parseAVCDecoderConfigurationRecord",value:function(e,t,n){if(n<7)a.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var r=this._videoMetadata,i=this._videoTrack,o=this._littleEndian,u=new DataView(e,t,n);r?void 0!==r.avcc&&(this._onAVCDecoderChange({data:r}),a.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!")):(!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(r=this._videoMetadata={}).type="video",r.id=i.id,r.timescale=this._timescale,r.duration=this._duration);var c=u.getUint8(0),d=u.getUint8(1);if(u.getUint8(2),u.getUint8(3),1===c&&0!==d)if(this._naluLengthSize=1+(3&u.getUint8(4)),3===this._naluLengthSize||4===this._naluLengthSize){var f=31&u.getUint8(5);if(0!==f){f>1&&a.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+f);for(var h=6,p=0;p<f;p++){var v=u.getUint16(h,!o);if(h+=2,0!==v){var g=new Uint8Array(e,t+h,v);h+=v;var m=s.default.parseSPS(g);if(0===p){r.codecWidth=m.codec_size.width,r.codecHeight=m.codec_size.height,r.presentWidth=m.present_size.width,r.presentHeight=m.present_size.height,r.profile=m.profile_string,r.level=m.level_string,r.bitDepth=m.bit_depth,r.chromaFormat=m.chroma_format,r.sarRatio=m.sar_ratio,r.frameRate=m.frame_rate,!1!==m.frame_rate.fixed&&0!==m.frame_rate.fps_num&&0!==m.frame_rate.fps_den||(r.frameRate=this._referenceFrameRate);var y=r.frameRate.fps_den,A=r.frameRate.fps_num;r.refSampleDuration=r.timescale*(y/A);for(var _=g.subarray(1,4),b="avc1.",E=0;E<3;E++){var w=_[E].toString(16);w.length<2&&(w="0"+w),b+=w}r.codec=b;var S=this._mediaInfo;S.width=r.codecWidth,S.height=r.codecHeight,S.fps=r.frameRate.fps,S.profile=r.profile,S.level=r.level,S.refFrames=m.ref_frames,S.chromaFormat=m.chroma_format_string,S.sarNum=r.sarRatio.width,S.sarDen=r.sarRatio.height,S.videoCodec=b,S.hasAudio?null!=S.audioCodec&&(S.mimeType='video/x-flv; codecs="'+S.videoCodec+","+S.audioCodec+'"'):S.mimeType='video/x-flv; codecs="'+S.videoCodec+'"',S.isComplete()&&this._onMediaInfo(S)}}}var k=u.getUint8(h);if(0!==k){k>1&&a.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+k),h++;for(var C=0;C<k;C++){var T=u.getUint16(h,!o);h+=2,0!==T&&(h+=T)}r.avcc=new Uint8Array(n),r.avcc.set(new Uint8Array(e,t,n),0),a.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",r)}else this._onError(l.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}else this._onError(l.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS")}else this._onError(l.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));else this._onError(l.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord")}}},{key:"_parseAVCVideoData",value:function(e,t,n,r,i,o,s){for(var l=this._littleEndian,u=new DataView(e,t,n),c=[],d=0,f=0,h=this._naluLengthSize,p=this._timestampBase+r,v=1===o;f<n;){if(f+4>=n){a.default.w(this.TAG,"Malformed Nalu near timestamp "+p+", offset = "+f+", dataSize = "+n);break}var g=u.getUint32(f,!l);if(3===h&&(g>>>=8),g>n-h)return void a.default.w(this.TAG,"Malformed Nalus near timestamp "+p+", NaluSize > DataSize!");var m=31&u.getUint8(f+h);5===m&&(v=!0);var y=new Uint8Array(e,t+f,h+g),A={type:m,data:y};if(c.push(A),d+=y.byteLength,f+=h+g,6===m)try{y.length>15&&this.__parseSEI(y)}catch(e){}}if(c.length){var _=this._videoTrack,b={units:c,length:d,isKeyframe:v,dts:p,cts:s,pts:p+s};v&&(b.fileposition=i),_.samples.push(b),_.length+=d}}},{key:"__parseSEI",value:function(e){var t=e.subarray(4),n=new d.default(this.discardEPB(t)),r=void 0;n.readByte();for(var i=0,a=0,o=!1,s=0;!o&&n.bytesAvailable>1;){i=0;do{i+=s=n.readByte()}while(255===s);a=0;do{a+=s=n.readByte()}while(255===s);if(4===i&&0!==n.bytesAvailable){if(o=!0,181===n.readByte()&&49===n.readUShort()&&1195456820===n.readUInt()&&3===n.readByte()){var l=n.readByte(),u=31&l,c=[l,n.readByte()];for(r=0;r<u;r++)c.push(n.readByte()),c.push(n.readByte()),c.push(n.readByte())}}else if(5===i&&0!==n.bytesAvailable){if(o=!0,a>16){var f=[],h=[];for(r=0;r<16;r++)f.push(n.readByte().toString(16)),3!==r&&5!==r&&7!==r&&9!==r||f.push("-");for(r=16;r<a;r++)h.push(n.readByte())}}else if(100===i&&0!==n.bytesAvailable){if(o=!0,a>16){var p=[];for(r=0;r<a;r++)p.push(n.readByte());this._onSEIInfo({userData:String.fromCharCode.apply(null,p)})}}else if(a<n.bytesAvailable)for(r=0;r<a;r++)n.readByte()}}},{key:"discardEPB",value:function(e){for(var t,n=e.byteLength,r=[],i=1,a=void 0;i<n-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(r.push(i+2),i+=2):i++;if(0===r.length)return e;t=n-r.length,a=new Uint8Array(t);var o=0;for(i=0;i<t;o++,i++)o===r[0]&&(o++,r.shift()),a[i]=e[o];return a}},{key:"onTrackMetadata",get:function(){return this._onTrackMetadata},set:function(e){this._onTrackMetadata=e}},{key:"onMediaInfo",get:function(){return this._onMediaInfo},set:function(e){this._onMediaInfo=e}},{key:"onMetaDataArrived",get:function(){return this._onMetaDataArrived},set:function(e){this._onMetaDataArrived=e}},{key:"onScriptDataArrived",get:function(){return this._onScriptDataArrived},set:function(e){this._onScriptDataArrived=e}},{key:"onError",get:function(){return this._onError},set:function(e){this._onError=e}},{key:"onDataAvailable",get:function(){return this._onDataAvailable},set:function(e){this._onDataAvailable=e}},{key:"timestampBase",get:function(){return this._timestampBase},set:function(e){this._timestampBase=e}},{key:"overridedDuration",get:function(){return this._duration},set:function(e){this._durationOverrided=!0,this._duration=e,this._mediaInfo.duration=e}},{key:"onSEIInfo",get:function(){return this._onSEIInfo},set:function(e){this._onSEIInfo=e}},{key:"onAVCDecoderChange",get:function(){return this._onAVCDecoderChange},set:function(e){this._onAVCDecoderChange=e}},{key:"overridedHasAudio",set:function(e){this._hasAudioFlagOverrided=!0,this._hasAudio=e,this._mediaInfo.hasAudio=e}},{key:"overridedHasVideo",set:function(e){this._hasVideoFlagOverrided=!0,this._hasVideo=e,this._mediaInfo.hasVideo=e}}],[{key:"probe",value:function(e){var t=new Uint8Array(e),n={match:!1};if(70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3])return n;var r=(4&t[4])>>>2!=0,i=0!=(1&t[4]),a=function(e,t){return e[5]<<24|e[6]<<16|e[7]<<8|e[8]}(t);return a<9?n:{match:!0,consumed:a,dataOffset:a,hasAudioTrack:r,hasVideoTrack:i}}}]),e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(6)),a=s(n(214)),o=n(7);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}(),u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"parseScriptData",value:function(t,n,r){var a={};try{var o=e.parseValue(t,n,r),s=e.parseValue(t,n+o.size,r-o.size);a[o.data]=s.data}catch(e){i.default.e("AMF",e.toString())}return a}},{key:"parseObject",value:function(t,n,r){if(r<3)throw new o.IllegalStateException("Data not enough when parse ScriptDataObject");var i=e.parseString(t,n,r),a=e.parseValue(t,n+i.size,r-i.size),s=a.objectEnd;return{data:{name:i.data,value:a.data},size:i.size+a.size,objectEnd:s}}},{key:"parseVariable",value:function(t,n,r){return e.parseObject(t,n,r)}},{key:"parseString",value:function(e,t,n){if(n<2)throw new o.IllegalStateException("Data not enough when parse String");var r=new DataView(e,t,n).getUint16(0,!l);return{data:r>0?(0,a.default)(new Uint8Array(e,t+2,r)):"",size:2+r}}},{key:"parseLongString",value:function(e,t,n){if(n<4)throw new o.IllegalStateException("Data not enough when parse LongString");var r=new DataView(e,t,n).getUint32(0,!l);return{data:r>0?(0,a.default)(new Uint8Array(e,t+4,r)):"",size:4+r}}},{key:"parseDate",value:function(e,t,n){if(n<10)throw new o.IllegalStateException("Data size invalid when parse Date");var r=new DataView(e,t,n),i=r.getFloat64(0,!l),a=r.getInt16(8,!l);return{data:new Date(i+=60*a*1e3),size:10}}},{key:"parseValue",value:function(t,n,r){if(r<1)throw new o.IllegalStateException("Data not enough when parse Value");var a=new DataView(t,n,r),s=1,u=a.getUint8(0),c=void 0,d=!1;try{switch(u){case 0:c=a.getFloat64(1,!l),s+=8;break;case 1:c=!!a.getUint8(1),s+=1;break;case 2:var f=e.parseString(t,n+1,r-1);c=f.data,s+=f.size;break;case 3:c={};var h=0;for(9==(16777215&a.getUint32(r-4,!l))&&(h=3);s<r-4;){var p=e.parseObject(t,n+s,r-s-h);if(p.objectEnd)break;c[p.data.name]=p.data.value,s+=p.size}s<=r-3&&9==(16777215&a.getUint32(s-1,!l))&&(s+=3);break;case 8:c={},s+=4;var v=0;for(9==(16777215&a.getUint32(r-4,!l))&&(v=3);s<r-8;){var g=e.parseVariable(t,n+s,r-s-v);if(g.objectEnd)break;c[g.data.name]=g.data.value,s+=g.size}s<=r-3&&9==(16777215&a.getUint32(s-1,!l))&&(s+=3);break;case 9:c=void 0,s=1,d=!0;break;case 10:c=[];var m=a.getUint32(1,!l);s+=4;for(var y=0;y<m;y++){var A=e.parseValue(t,n+s,r-s);c.push(A.data),s+=A.size}break;case 11:var _=e.parseDate(t,n+1,r-1);c=_.data,s+=_.size;break;case 12:var b=e.parseString(t,n+1,r-1);c=b.data,s+=b.size;break;default:s=r,i.default.w("AMF","Unsupported AMF value type "+u)}}catch(e){i.default.e("AMF",e.toString())}return{data:c,size:s,objectEnd:d}}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e,t,n){var r=e;if(t+n<r.length){for(;n--;)if(128!=(192&r[++t]))return!1;return!0}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],n=e,i=0,a=e.length;i<a;)if(n[i]<128)t.push(String.fromCharCode(n[i])),++i;else{if(n[i]<192);else if(n[i]<224){if(r(n,i,1)){var o=(31&n[i])<<6|63&n[i+1];if(o>=128){t.push(String.fromCharCode(65535&o)),i+=2;continue}}}else if(n[i]<240){if(r(n,i,2)){var s=(15&n[i])<<12|(63&n[i+1])<<6|63&n[i+2];if(s>=2048&&55296!=(63488&s)){t.push(String.fromCharCode(65535&s)),i+=3;continue}}}else if(n[i]<248&&r(n,i,3)){var l=(7&n[i])<<18|(63&n[i+1])<<12|(63&n[i+2])<<6|63&n[i+3];if(l>65536&&l<1114112){l-=65536,t.push(String.fromCharCode(l>>>10|55296)),t.push(String.fromCharCode(1023&l|56320)),i+=4;continue}}t.push(String.fromCharCode(65533)),++i}return t.join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(124)),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"_ebsp2rbsp",value:function(e){for(var t=e,n=t.byteLength,r=new Uint8Array(n),i=0,a=0;a<n;a++)a>=2&&3===t[a]&&0===t[a-1]&&0===t[a-2]||(r[i]=t[a],i++);return new Uint8Array(r.buffer,0,i)}},{key:"parseSPS",value:function(t){var n=e._ebsp2rbsp(t),r=new i.default(n);r.readByte();var a=r.readByte();r.readByte();var o=r.readByte();r.readUEG();var s=e.getProfileString(a),l=e.getLevelString(o),u=1,c=420,d=8;if((100===a||110===a||122===a||244===a||44===a||83===a||86===a||118===a||128===a||138===a||144===a)&&(3===(u=r.readUEG())&&r.readBits(1),u<=3&&(c=[0,420,422,444][u]),d=r.readUEG()+8,r.readUEG(),r.readBits(1),r.readBool()))for(var f=3!==u?8:12,h=0;h<f;h++)r.readBool()&&(h<6?e._skipScalingList(r,16):e._skipScalingList(r,64));r.readUEG();var p=r.readUEG();if(0===p)r.readUEG();else if(1===p){r.readBits(1),r.readSEG(),r.readSEG();for(var v=r.readUEG(),g=0;g<v;g++)r.readSEG()}var m=r.readUEG();r.readBits(1);var y=r.readUEG(),A=r.readUEG(),_=r.readBits(1);0===_&&r.readBits(1),r.readBits(1);var b=0,E=0,w=0,S=0;r.readBool()&&(b=r.readUEG(),E=r.readUEG(),w=r.readUEG(),S=r.readUEG());var k=1,C=1,T=0,I=!0,x=0,R=0;if(r.readBool()){if(r.readBool()){var L=r.readByte();L>0&&L<16?(k=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][L-1],C=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][L-1]):255===L&&(k=r.readByte()<<8|r.readByte(),C=r.readByte()<<8|r.readByte())}if(r.readBool()&&r.readBool(),r.readBool()&&(r.readBits(4),r.readBool()&&r.readBits(24)),r.readBool()&&(r.readUEG(),r.readUEG()),r.readBool()){var O=r.readBits(32),D=r.readBits(32);I=r.readBool(),T=(x=D)/(R=2*O)}}var M=1;1===k&&1===C||(M=k/C);var P=0,N=0;0===u?(P=1,N=2-_):(P=3===u?1:2,N=(1===u?2:1)*(2-_));var F=16*(y+1),B=16*(A+1)*(2-_);F-=(b+E)*P,B-=(w+S)*N;var U=Math.ceil(F*M);return r.destroy(),r=null,{profile_string:s,level_string:l,bit_depth:d,ref_frames:m,chroma_format:c,chroma_format_string:e.getChromaFormatString(c),frame_rate:{fixed:I,fps:T,fps_den:R,fps_num:x},sar_ratio:{width:k,height:C},codec_size:{width:F,height:B},present_size:{width:U,height:B}}}},{key:"_skipScalingList",value:function(e,t){for(var n=8,r=8,i=0;i<t;i++)0!==r&&(r=(n+e.readSEG()+256)%256),n=0===r?n:r}},{key:"getProfileString",value:function(e){switch(e){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}}},{key:"getLevelString",value:function(e){return(e/10).toFixed(1)}},{key:"getChromaFormatString",value:function(e){switch(e){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(6)),a=c(n(217)),o=c(n(218)),s=c(n(40)),l=n(125),u=n(7);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="MP4Remuxer",this._config=t,this._isLive=!0===t.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new l.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new l.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!s.default.chrome||!(s.default.version.major<50||50===s.default.version.major&&s.default.version.build<2661)),this._fillSilentAfterSeek=s.default.msedge||s.default.msie,this._mp3UseMpegAudio=!s.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return r(e,[{key:"destroy",value:function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null}},{key:"bindDataSource",value:function(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this}},{key:"insertDiscontinuity",value:function(){this._audioNextDts=this._videoNextDts=void 0}},{key:"seek",value:function(e){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()}},{key:"remux",value:function(e,t){if(!this._onMediaSegment)throw new u.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(e,t),this._remuxVideo(t),this._remuxAudio(e)}},{key:"_onTrackMetadataReceived",value:function(e,t){var n=null,r="mp4",i=t.codec;if("audio"===e)this._audioMeta=t,"mp3"===t.codec&&this._mp3UseMpegAudio?(r="mpeg",i="",n=new Uint8Array):n=a.default.generateInitSegment(t);else{if("video"!==e)return;this._videoMeta=t,n=a.default.generateInitSegment(t)}if(!this._onInitSegment)throw new u.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(e,{type:e,data:n.buffer,codec:i,container:e+"/"+r,mediaDuration:t.duration})}},{key:"_calculateDtsBase",value:function(e,t){this._dtsBaseInited||(e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)}},{key:"flushStashedSamples",value:function(){var e=this._videoStashedLastSample,t=this._audioStashedLastSample,n={type:"video",id:1,sequenceNumber:0,samples:[],length:0};null!=e&&(n.samples.push(e),n.length=e.length);var r={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};null!=t&&(r.samples.push(t),r.length=t.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(n,!0),this._remuxAudio(r,!0)}},{key:"_remuxAudio",value:function(e,t){if(null!=this._audioMeta){var n,r=e,u=r.samples,c=void 0,d=-1,f=this._audioMeta.refSampleDuration,h="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,p=this._dtsBaseInited&&void 0===this._audioNextDts,v=!1;if(u&&0!==u.length&&(1!==u.length||t)){var g=0,m=null,y=0;h?(g=0,y=r.length):(g=8,y=8+r.length);var A=null;if(u.length>1&&(y-=(A=u.pop()).length),null!=this._audioStashedLastSample){var _=this._audioStashedLastSample;this._audioStashedLastSample=null,u.unshift(_),y+=_.length}null!=A&&(this._audioStashedLastSample=A);var b=u[0].dts-this._dtsBase;if(this._audioNextDts)c=b-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())c=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(v=!0);else{var E=this._audioSegmentInfoList.getLastSampleBefore(b);if(null!=E){var w=b-(E.originalDts+E.duration);w<=3&&(w=0),c=b-(E.dts+E.duration+w)}else c=0}if(v){var S=b-c,k=this._videoSegmentInfoList.getLastSegmentBefore(b);if(null!=k&&k.beginDts<S){var C=o.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(C){var T=k.beginDts,I=S-k.beginDts;i.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+T+", duration: "+I),u.unshift({unit:C,dts:T,pts:T}),y+=C.byteLength}}else v=!1}for(var x=[],R=0;R<u.length;R++){var L=u[R],O=L.unit,D=L.dts-this._dtsBase,M=D-c;-1===d&&(d=M);var P=0,N=!1,F=null;if((P=R!==u.length-1?u[R+1].dts-this._dtsBase-c-M:null!=A?A.dts-this._dtsBase-c-M:x.length>=1?x[x.length-1].duration:Math.floor(f))>1.5*f&&"mp3"!==this._audioMeta.codec&&this._fillAudioTimestampGap&&!s.default.safari){N=!0;var B=Math.abs(P-f),U=Math.ceil(B/f),j=M+f;i.default.w(this.TAG,"Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\ndts: "+(M+P)+" ms, expected: "+(M+Math.round(f))+" ms, delta: "+Math.round(B)+" ms, generate: "+U+" frames");var G=o.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);null==G&&(i.default.w(this.TAG,"Unable to generate silent frame for "+this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame"),G=O),F=[];for(var H=0;H<U;H++){var V=Math.round(j);if(F.length>0){var z=F[F.length-1];z.duration=V-z.dts}var q={dts:V,pts:V,cts:0,unit:G,size:G.byteLength,duration:0,originalDts:D,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};F.push(q),y+=q.size,j+=f}var W=F[F.length-1];W.duration=M+P-W.dts,P=Math.round(f)}x.push({dts:M,pts:M,cts:0,unit:L.unit,size:L.unit.byteLength,duration:P,originalDts:D,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),N&&x.push.apply(x,F)}h?m=new Uint8Array(y):((m=new Uint8Array(y))[0]=y>>>24&255,m[1]=y>>>16&255,m[2]=y>>>8&255,m[3]=255&y,m.set(a.default.types.mdat,4));for(var Y=0;Y<x.length;Y++){var K=x[Y].unit;m.set(K,g),g+=K.byteLength}var X=x[x.length-1];n=X.dts+X.duration,this._audioNextDts=n;var Q=new l.MediaSegmentInfo;Q.beginDts=d,Q.endDts=n,Q.beginPts=d,Q.endPts=n,Q.originalBeginDts=x[0].originalDts,Q.originalEndDts=X.originalDts+X.duration,Q.firstSample=new l.SampleInfo(x[0].dts,x[0].pts,x[0].duration,x[0].originalDts,!1),Q.lastSample=new l.SampleInfo(X.dts,X.pts,X.duration,X.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(Q),r.samples=x,r.sequenceNumber++;var J;J=h?new Uint8Array:a.default.moof(r,d),r.samples=[],r.length=0;var Z={type:"audio",data:this._mergeBoxes(J,m).buffer,sampleCount:x.length,info:Q};h&&p&&(Z.timestampOffset=d),this._onMediaSegment("audio",Z)}}}},{key:"_remuxVideo",value:function(e,t){if(null!=this._videoMeta){var n,r,i=e,o=i.samples,s=void 0,u=-1,c=-1;if(o&&0!==o.length&&(1!==o.length||t)){var d=8,f=null,h=8+e.length,p=null;if(o.length>1&&(h-=(p=o.pop()).length),null!=this._videoStashedLastSample){var v=this._videoStashedLastSample;this._videoStashedLastSample=null,o.unshift(v),h+=v.length}null!=p&&(this._videoStashedLastSample=p);var g=o[0].dts-this._dtsBase;if(this._videoNextDts)s=g-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())s=0;else{var m=this._videoSegmentInfoList.getLastSampleBefore(g);if(null!=m){var y=g-(m.originalDts+m.duration);y<=3&&(y=0),s=g-(m.dts+m.duration+y)}else s=0}for(var A=new l.MediaSegmentInfo,_=[],b=0;b<o.length;b++){var E=o[b],w=E.dts-this._dtsBase,S=E.isKeyframe,k=w-s,C=E.cts,T=k+C;-1===u&&(u=k,c=T);var I=0;if(I=b!==o.length-1?o[b+1].dts-this._dtsBase-s-k:null!=p?p.dts-this._dtsBase-s-k:_.length>=1?_[_.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),S){var x=new l.SampleInfo(k,T,I,E.dts,!0);x.fileposition=E.fileposition,A.appendSyncPoint(x)}_.push({dts:k,pts:T,cts:C,units:E.units,size:E.length,isKeyframe:S,duration:I,originalDts:w,flags:{isLeading:0,dependsOn:S?2:1,isDependedOn:S?1:0,hasRedundancy:0,isNonSync:S?0:1}})}(f=new Uint8Array(h))[0]=h>>>24&255,f[1]=h>>>16&255,f[2]=h>>>8&255,f[3]=255&h,f.set(a.default.types.mdat,4);for(var R=0;R<_.length;R++)for(var L=_[R].units;L.length;){var O=L.shift().data;f.set(O,d),d+=O.byteLength}var D=_[_.length-1];if(n=D.dts+D.duration,r=D.pts+D.duration,this._videoNextDts=n,A.beginDts=u,A.endDts=n,A.beginPts=c,A.endPts=r,A.originalBeginDts=_[0].originalDts,A.originalEndDts=D.originalDts+D.duration,A.firstSample=new l.SampleInfo(_[0].dts,_[0].pts,_[0].duration,_[0].originalDts,_[0].isKeyframe),A.lastSample=new l.SampleInfo(D.dts,D.pts,D.duration,D.originalDts,D.isKeyframe),this._isLive||this._videoSegmentInfoList.append(A),i.samples=_,i.sequenceNumber++,this._forceFirstIDR){var M=_[0].flags;M.dependsOn=2,M.isNonSync=0}var P=a.default.moof(i,u);i.samples=[],i.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(P,f).buffer,sampleCount:_.length,info:A})}}}},{key:"_mergeBoxes",value:function(e,t){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(e,0),n.set(t,e.byteLength),n}},{key:"onInitSegment",get:function(){return this._onInitSegment},set:function(e){this._onInitSegment=e}},{key:"onMediaSegment",get:function(){return this._onMediaSegment},set:function(e){this._onMediaSegment=e}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"init",value:function(){for(var t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=e.constants={};n.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),n.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),n.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),n.STSC=n.STCO=n.STTS,n.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),n.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),n.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),n.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),n.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}},{key:"box",value:function(e){for(var t=8,n=null,r=Array.prototype.slice.call(arguments,1),i=r.length,a=0;a<i;a++)t+=r[a].byteLength;(n=new Uint8Array(t))[0]=t>>>24&255,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n.set(e,4);for(var o=8,s=0;s<i;s++)n.set(r[s],o),o+=r[s].byteLength;return n}},{key:"generateInitSegment",value:function(t){var n=e.box(e.types.ftyp,e.constants.FTYP),r=e.moov(t),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(n,0),i.set(r,n.byteLength),i}},{key:"moov",value:function(t){var n=e.mvhd(t.timescale,t.duration),r=e.trak(t),i=e.mvex(t);return e.box(e.types.moov,n,r,i)}},{key:"mvhd",value:function(t,n){return e.box(e.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}},{key:"trak",value:function(t){return e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"tkhd",value:function(t){var n=t.id,r=t.duration,i=t.presentWidth,a=t.presentHeight;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>>8&255,255&i,0,0,a>>>8&255,255&a,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t),e.hdlr(t),e.minf(t))}},{key:"mdhd",value:function(t){var n=t.timescale,r=t.duration;return e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,r>>>24&255,r>>>16&255,r>>>8&255,255&r,85,196,0,0]))}},{key:"hdlr",value:function(t){var n;return n="audio"===t.type?e.constants.HDLR_AUDIO:e.constants.HDLR_VIDEO,e.box(e.types.hdlr,n)}},{key:"minf",value:function(t){var n;return n="audio"===t.type?e.box(e.types.smhd,e.constants.SMHD):e.box(e.types.vmhd,e.constants.VMHD),e.box(e.types.minf,n,e.dinf(),e.stbl(t))}},{key:"dinf",value:function(){return e.box(e.types.dinf,e.box(e.types.dref,e.constants.DREF))}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.constants.STTS),e.box(e.types.stsc,e.constants.STSC),e.box(e.types.stsz,e.constants.STSZ),e.box(e.types.stco,e.constants.STCO))}},{key:"stsd",value:function(t){return"audio"===t.type?"mp3"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp3(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp4a(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.avc1(t))}},{key:"mp3",value:function(t){var n=t.channelCount,r=t.audioSampleRate,i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return e.box(e.types[".mp3"],i)}},{key:"mp4a",value:function(t){var n=t.channelCount,r=t.audioSampleRate,i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return e.box(e.types.mp4a,i,e.esds(t))}},{key:"esds",value:function(t){var n=t.config||[],r=n.length,i=new Uint8Array([0,0,0,0,3,23+r,0,1,0,4,15+r,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([r]).concat(n).concat([6,1,2]));return e.box(e.types.esds,i)}},{key:"avc1",value:function(t){var n=t.avcc,r=t.codecWidth,i=t.codecHeight,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r>>>8&255,255&r,i>>>8&255,255&i,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.avc1,a,e.box(e.types.avcC,n))}},{key:"mvex",value:function(t){return e.box(e.types.mvex,e.trex(t))}},{key:"trex",value:function(t){var n=t.id,r=new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return e.box(e.types.trex,r)}},{key:"moof",value:function(t,n){return e.box(e.types.moof,e.mfhd(t.sequenceNumber),e.traf(t,n))}},{key:"mfhd",value:function(t){var n=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return e.box(e.types.mfhd,n)}},{key:"traf",value:function(t,n){var r=t.id,i=e.box(e.types.tfhd,new Uint8Array([0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r])),a=e.box(e.types.tfdt,new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n])),o=e.sdtp(t),s=e.trun(t,o.byteLength+16+16+8+16+8+8);return e.box(e.types.traf,i,a,s,o)}},{key:"sdtp",value:function(t){for(var n=t.samples||[],r=n.length,i=new Uint8Array(4+r),a=0;a<r;a++){var o=n[a].flags;i[a+4]=o.isLeading<<6|o.dependsOn<<4|o.isDependedOn<<2|o.hasRedundancy}return e.box(e.types.sdtp,i)}},{key:"trun",value:function(t,n){var r=t.samples||[],i=r.length,a=12+16*i,o=new Uint8Array(a);n+=8+a,o.set([0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,255&i,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0);for(var s=0;s<i;s++){var l=r[s].duration,u=r[s].size,c=r[s].flags,d=r[s].cts;o.set([l>>>24&255,l>>>16&255,l>>>8&255,255&l,u>>>24&255,u>>>16&255,u>>>8&255,255&u,c.isLeading<<2|c.dependsOn,c.isDependedOn<<6|c.hasRedundancy<<4|c.isNonSync,0,0,d>>>24&255,d>>>16&255,d>>>8&255,255&d],12+16*s)}return e.box(e.types.trun,o)}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}}]),e}();i.init(),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"getSilentFrame",value:function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s(n(6));var r=s(n(84)),i=s(n(120)),a=s(n(123)),o=s(n(58));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=null,n=function(t,n){e.postMessage({msg:"logcat_callback",data:{type:t,logcat:n}})}.bind(this);i.default.install(),e.addEventListener("message",(function(i){switch(i.data.cmd){case"init":(t=new a.default(i.data.param[0],i.data.param[1])).on(o.default.IO_ERROR,function(t,n){e.postMessage({msg:o.default.IO_ERROR,data:{type:t,info:n}})}.bind(this)),t.on(o.default.DEMUX_ERROR,function(t,n){e.postMessage({msg:o.default.DEMUX_ERROR,data:{type:t,info:n}})}.bind(this)),t.on(o.default.INIT_SEGMENT,function(t,n){var r={msg:o.default.INIT_SEGMENT,data:{type:t,data:n}};e.postMessage(r,[n.data])}.bind(this)),t.on(o.default.MEDIA_SEGMENT,function(t,n){var r={msg:o.default.MEDIA_SEGMENT,data:{type:t,data:n}};e.postMessage(r,[n.data])}.bind(this)),t.on(o.default.LOADING_COMPLETE,function(){var t={msg:o.default.LOADING_COMPLETE};e.postMessage(t)}.bind(this)),t.on(o.default.RECOVERED_EARLY_EOF,function(){var t={msg:o.default.RECOVERED_EARLY_EOF};e.postMessage(t)}.bind(this)),t.on(o.default.MEDIA_INFO,function(t){var n={msg:o.default.MEDIA_INFO,data:t};e.postMessage(n)}.bind(this)),t.on(o.default.METADATA_ARRIVED,function(t){var n={msg:o.default.METADATA_ARRIVED,data:t};e.postMessage(n)}.bind(this)),t.on(o.default.SCRIPTDATA_ARRIVED,function(t){var n={msg:o.default.SCRIPTDATA_ARRIVED,data:t};e.postMessage(n)}.bind(this)),t.on(o.default.STATISTICS_INFO,function(t){var n={msg:o.default.STATISTICS_INFO,data:t};e.postMessage(n)}.bind(this)),t.on(o.default.RECOMMEND_SEEKPOINT,function(t){e.postMessage({msg:o.default.RECOMMEND_SEEKPOINT,data:t})}.bind(this));break;case"destroy":t&&(t.destroy(),t=null),e.postMessage({msg:"destroyed"});break;case"start":t.start();break;case"stop":t.stop();break;case"seek":t.seek(i.data.param);break;case"pause":t.pause();break;case"resume":t.resume();break;case"logging_config":var s=i.data.param;r.default.applyConfig(s),!0===s.enableCallback?r.default.addLogListener(n):r.default.removeLogListener(n)}}))}},function(e,t){var n=arguments[3],r=arguments[4],i=arguments[5],a=JSON.stringify;e.exports=function(e,t){for(var o,s=Object.keys(i),l=0,u=s.length;l<u;l++){var c=s[l],d=i[c].exports;if(d===e||d&&d.default===e){o=c;break}}if(!o){o=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var f={};for(l=0,u=s.length;l<u;l++)f[c=s[l]]=c;r[o]=["function(require,module,exports){"+e+"(self); }",f]}var h=Math.floor(Math.pow(16,8)*Math.random()).toString(16),p={};p[o]=o,r[h]=["function(require,module,exports){var f = require("+a(o)+");(f.default ? f.default : f)(self);}",p];var v={};!function e(t){for(var n in v[t]=!0,r[t][1]){var i=r[t][1][n];v[i]||e(i)}}(h);var g="("+n+")({"+Object.keys(v).map((function(e){return a(e)+":["+r[e][0]+","+a(r[e][1])+"]"})).join(",")+"},{},["+a(h)+"])",m=window.URL||window.webkitURL||window.mozURL||window.msURL,y=new Blob([g],{type:"text/javascript"});if(t&&t.bare)return y;var A=m.createObjectURL(y),_=new Worker(A);return _.objectURL=A,_}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(14)),a=c(n(6)),o=c(n(40)),s=c(n(126)),l=n(125),u=n(7);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="MSEController",this._config=t,this._emitter=new i.default,this._config.isLive&&null==this._config.autoCleanupSourceBuffer&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new l.IDRSampleList}return r(e,[{key:"destroy",value:function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(e,t){this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"attachMediaElement",value:function(e){if(this._mediaSource)throw new u.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var t=this._mediaSource=new window.MediaSource;t.addEventListener("sourceopen",this.e.onSourceOpen),t.addEventListener("sourceended",this.e.onSourceEnded),t.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=e,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),e.src=this._mediaSourceObjectURL}},{key:"detachMediaElement",value:function(){if(this._mediaSource){var e=this._mediaSource;for(var t in this._sourceBuffers){var n=this._pendingSegments[t];n.splice(0,n.length),this._pendingSegments[t]=null,this._pendingRemoveRanges[t]=null,this._lastInitSegments[t]=null;var r=this._sourceBuffers[t];if(r){if("closed"!==e.readyState){try{e.removeSourceBuffer(r)}catch(e){a.default.e(this.TAG,e.message)}r.removeEventListener("error",this.e.onSourceBufferError),r.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[t]=null,this._sourceBuffers[t]=null}}if("open"===e.readyState)try{e.endOfStream()}catch(e){a.default.e(this.TAG,e.message)}e.removeEventListener("sourceopen",this.e.onSourceOpen),e.removeEventListener("sourceended",this.e.onSourceEnded),e.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)}},{key:"appendInitSegment",value:function(e,t){if(!this._mediaSource||"open"!==this._mediaSource.readyState)return this._pendingSourceBufferInit.push(e),void this._pendingSegments[e.type].push(e);var n=e,r=""+n.container;n.codec&&n.codec.length>0&&(r+=";codecs="+n.codec);var i=!1;if(a.default.v(this.TAG,"Received Initialization Segment, mimeType: "+r),this._lastInitSegments[n.type]=n,r!==this._mimeTypes[n.type]){if(this._mimeTypes[n.type])a.default.v(this.TAG,"Notice: "+n.type+" mimeType changed, origin: "+this._mimeTypes[n.type]+", target: "+r);else{i=!0;try{var l=this._sourceBuffers[n.type]=this._mediaSource.addSourceBuffer(r);l.addEventListener("error",this.e.onSourceBufferError),l.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(e){return a.default.e(this.TAG,e.message),void this._emitter.emit(s.default.ERROR,{code:e.code,msg:e.message})}}this._mimeTypes[n.type]=r}t||this._pendingSegments[n.type].push(n),i||this._sourceBuffers[n.type]&&!this._sourceBuffers[n.type].updating&&this._doAppendSegments(),o.default.safari&&"audio/mpeg"===n.container&&n.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=n.mediaDuration/1e3,this._updateMediaSourceDuration())}},{key:"appendMediaSegment",value:function(e){var t=e;this._pendingSegments[t.type].push(t),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var n=this._sourceBuffers[t.type];!n||n.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()}},{key:"seek",value:function(e){for(var t in this._sourceBuffers)if(this._sourceBuffers[t]){var n=this._sourceBuffers[t];if("open"===this._mediaSource.readyState)try{n.abort()}catch(e){a.default.e(this.TAG,e.message)}this._idrList.clear();var r=this._pendingSegments[t];if(r.splice(0,r.length),"closed"!==this._mediaSource.readyState){for(var i=0;i<n.buffered.length;i++){var s=n.buffered.start(i),l=n.buffered.end(i);this._pendingRemoveRanges[t].push({start:s,end:l})}if(n.updating||this._doRemoveRanges(),o.default.safari){var u=this._lastInitSegments[t];u&&(this._pendingSegments[t].push(u),n.updating||this._doAppendSegments())}}}}},{key:"endOfStream",value:function(){var e=this._mediaSource,t=this._sourceBuffers;e&&"open"===e.readyState?t.video&&t.video.updating||t.audio&&t.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,e.endOfStream()):e&&"closed"===e.readyState&&this._hasPendingSegments()&&(this._hasPendingEos=!0)}},{key:"getNearestKeyframe",value:function(e){return this._idrList.getLastSyncPointBeforeDts(e)}},{key:"_needCleanupSourceBuffer",value:function(){if(!this._config.autoCleanupSourceBuffer)return!1;var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var n=this._sourceBuffers[t];if(n){var r=n.buffered;if(r.length>=1&&e-r.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1}},{key:"_doCleanupSourceBuffer",value:function(){var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var n=this._sourceBuffers[t];if(n){for(var r=n.buffered,i=!1,a=0;a<r.length;a++){var o=r.start(a),s=r.end(a);if(o<=e&&e<s+3){if(e-o>=this._config.autoCleanupMaxBackwardDuration){i=!0;var l=e-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[t].push({start:o,end:l})}}else s<e&&(i=!0,this._pendingRemoveRanges[t].push({start:o,end:s}))}i&&!n.updating&&this._doRemoveRanges()}}}},{key:"_updateMediaSourceDuration",value:function(){var e=this._sourceBuffers;if(0!==this._mediaElement.readyState&&"open"===this._mediaSource.readyState&&!(e.video&&e.video.updating||e.audio&&e.audio.updating)){var t=this._mediaSource.duration,n=this._pendingMediaDuration;n>0&&(isNaN(t)||n>t)&&(a.default.v(this.TAG,"Update MediaSource duration from "+t+" to "+n),this._mediaSource.duration=n),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}}},{key:"_doRemoveRanges",value:function(){for(var e in this._pendingRemoveRanges)if(this._sourceBuffers[e]&&!this._sourceBuffers[e].updating)for(var t=this._sourceBuffers[e],n=this._pendingRemoveRanges[e];n.length&&!t.updating;){var r=n.shift();t.remove(r.start,r.end)}}},{key:"_doAppendSegments",value:function(){var e=this._pendingSegments;for(var t in e)if(this._sourceBuffers[t]&&!this._sourceBuffers[t].updating&&e[t].length>0){var n=e[t].shift();if(n.timestampOffset){var r=this._sourceBuffers[t].timestampOffset,i=n.timestampOffset/1e3;Math.abs(r-i)>.1&&(a.default.v(this.TAG,"Update MPEG audio timestampOffset from "+r+" to "+i),this._sourceBuffers[t].timestampOffset=i),delete n.timestampOffset}if(!n.data||0===n.data.byteLength)continue;try{this._sourceBuffers[t].appendBuffer(n.data),this._isBufferFull=!1,"video"===t&&n.hasOwnProperty("info")&&this._idrList.appendArray(n.info.syncPoints)}catch(e){this._pendingSegments[t].unshift(n),22===e.code?(this._isBufferFull||this._emitter.emit(s.default.BUFFER_FULL),this._isBufferFull=!0):(a.default.e(this.TAG,e.message),this._emitter.emit(s.default.ERROR,{code:e.code,msg:e.message}))}}}},{key:"_onSourceOpen",value:function(){if(a.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var e=this._pendingSourceBufferInit;e.length;){var t=e.shift();this.appendInitSegment(t,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(s.default.SOURCE_OPEN)}},{key:"_onSourceEnded",value:function(){a.default.v(this.TAG,"MediaSource onSourceEnded")}},{key:"_onSourceClose",value:function(){a.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&null!=this.e&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))}},{key:"_hasPendingSegments",value:function(){var e=this._pendingSegments;return e.video.length>0||e.audio.length>0}},{key:"_hasPendingRemoveRanges",value:function(){var e=this._pendingRemoveRanges;return e.video.length>0||e.audio.length>0}},{key:"_onSourceBufferUpdateEnd",value:function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(s.default.UPDATE_END)}},{key:"_onSourceBufferError",value:function(e){a.default.e(this.TAG,"SourceBuffer Error: "+e)}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(14)),o=u(n(83)),s=n(82),l=n(7);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new a.default,this._config=(0,s.createDefaultConfig)(),"object"===(void 0===n?"undefined":r(n))&&Object.assign(this._config,n),"flv"===t.type.toLowerCase())throw new l.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(t.hasOwnProperty("segments"))throw new l.InvalidArgumentException("NativePlayer("+t.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=t,this._mediaElement=null}return i(e,[{key:"destroy",value:function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(e,t){var n=this;e===o.default.MEDIA_INFO?null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then((function(){n._emitter.emit(o.default.MEDIA_INFO,n.mediaInfo)})):e===o.default.STATISTICS_INFO&&null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then((function(){n._emitter.emit(o.default.STATISTICS_INFO,n.statisticsInfo)})),this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"attachMediaElement",value:function(e){if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}}},{key:"detachMediaElement",value:function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"load",value:function(){if(!this._mediaElement)throw new l.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)}},{key:"unload",value:function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"play",value:function(){return this._mediaElement.play()}},{key:"pause",value:function(){this._mediaElement.pause()}},{key:"_onvLoadedMetadata",value:function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(o.default.MEDIA_INFO,this.mediaInfo)}},{key:"_reportStatisticsInfo",value:function(){this._emitter.emit(o.default.STATISTICS_INFO,this.statisticsInfo)}},{key:"type",get:function(){return this._type}},{key:"buffered",get:function(){return this._mediaElement.buffered}},{key:"duration",get:function(){return this._mediaElement.duration}},{key:"volume",get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e}},{key:"muted",get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e}},{key:"currentTime",get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._mediaElement.currentTime=e:this._pendingSeekTime=e}},{key:"mediaInfo",get:function(){var e={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(e.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(e.width=this._mediaElement.videoWidth,e.height=this._mediaElement.videoHeight)),e}},{key:"statisticsInfo",get:function(){var e={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,n=0,r=0;if(this._mediaElement.getVideoPlaybackQuality){var i=this._mediaElement.getVideoPlaybackQuality();n=i.totalVideoFrames,r=i.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(n=this._mediaElement.webkitDecodedFrameCount,r=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=n,e.droppedFrames=r),e}}]),e}();t.default=c},function(e,t,n){"use strict";var r=l(n(0)),i=l(n(87)),a=l(n(291)),o=l(n(293)),s=l(n(12));function l(e){return e&&e.__esModule?e:{default:e}}var u=new a.default,c={init:function(e){e.pid=r.default.getPid(),i.default.init(e),e.debug&&(e.beta_live=e.debug),u.bind((function(t){console.info("是否支持自动播放:"+t),t&&(e.supportAutoplay=!0)})),e.autoplayDetect=u,e.video=e.videoPanel.dom,e.qosMonitor=new o.default(e),e.event.emit(s.default.START_FIRST_LOADING),e.event.emit("__restrictJsonInit")}};e.exports=c},function(e,t,n){"use strict";var r=s(n(1)),i=s(n(2)),a=s(n(0)),o=s(n(129));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){(0,r.default)(this,e),this.dom=null,this.setting=t,this.emitter=t.event,this.danmuCount=0}return(0,i.default)(e,[{key:"createDom",value:function(){return this.dom=a.default.createDivFromString("plv-live-player-danmu"),this.dom}},{key:"addBarrage",value:function(e){var t=this.dom,n=JSON.parse(e)[0],r=n.msg,i=null,s=this.setting.plvContainer.dom.offsetWidth;if(!(s<=0)){var l=this.setting.plvContainer.dom.offsetHeight,u=parseInt(n.fontSize)||24,c=n.fontArea||"full",d=parseInt(n.fontAreaPercent)/100||.25;n.rollTime&&(i=n.rollTime||10);var f=0;switch(c){case"top":l=parseInt(l*d);break;case"bottom":f=parseInt(l*(1-d))}var h=f+this.danmuCount*(u+4);this.danmuCount++,h+u>l&&(this.danmuCount=1,h=f);var p=a.default.createDivFromString("plv-live-player-danmu-item");p.style.display="none",p.style.color=a.default.parseColor(n.fontColor||"0xffffff"),p.style.fontSize=u+"px",p.innerHTML=a.default.turnUlrToImg(r),t.appendChild(p),setTimeout((function(){p.style.display="block";var e=s+p.offsetWidth,t={left:s,top:h,transform:"translateX(-"+e+"px) translateY(0px) translateZ(0px)",transition:"transform "+i+"s linear 0s"};o.default.setStyles(p,t)}),0),this.setting.event.emit("s2j_broadcastBarrageMsg",r)}}},{key:"show",value:function(){o.default.setStyle(this.dom,"opacity",1)}},{key:"hide",value:function(){o.default.setStyle(this.dom,"opacity",0)}},{key:"updateFlow",value:function(){}}]),e}();e.exports=function(e){var t=new l(e);return e.danmu=t,t}},function(e,t,n){n(226);var r=n(11).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(28);r(r.S+r.F*!n(20),"Object",{defineProperty:n(19).f})},function(e,t,n){"use strict";var r=s(n(1)),i=s(n(2)),a=s(n(3)),o=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var l={init:n(228)},u=function(){function e(t){(0,r.default)(this,e),this.s=t,this.dom=null,this.video=null,this.hasBindEvent=!1,this.videoEvents={loadedmetadata:this._onvLoadedMetadata.bind(this)}}return(0,i.default)(e,[{key:"createDom",value:function(){return this.dom=o.default.createDivFromString("plv-live-player-cutOff"),this.dom}},{key:"init",value:function(){var e=this.dom,t=this.s,n=!t.supportAutoplay,r=!0===t.pptMode?"plv-icon plv-icon-volume plv-ppt-cutoff-volume":"plv-icon plv-icon-volume plv-cutoff-volume";if(e.innerHTML=l.init({setting:t,isShowMuteBtn:n,volumeClassName:r}),t.waitImage||t.coverImage||(e.style.backgroundColor="#f6f9fa"),this.video=e.querySelector("video"),this.video&&this.bindVideoEvents(),n&&!0===t.pptMode){var i=this.video;i&&(i.muted=!0,e.setAttribute("data-status","mute"),t.barTool.domClick(e,"un-mute","mute",(function(){i.muted=!0}),(function(){i.muted=!1})))}}},{key:"show",value:function(){this.dom.style.display="block";var e=this.video;e&&e.load()}},{key:"hide",value:function(){this.dom.style.display="none";var e=this.video;e&&e.pause()}},{key:"destroy",value:function(){var e=this.video;e&&(e.pause(),e.src=""),this.dom.innerHTML="",this.hasBindEvent&&this.removeVideoEvents()}},{key:"setVolume",value:function(e){var t=this.video,n=this.s;t&&t.muted&&e>0&&(t.muted=!1,n.mute=!1),t&&(t.volume=e)}},{key:"bindVideoEvents",value:function(){var e=this;this.hasBindEvent=!0,Object.keys(this.videoEvents).forEach((function(t){e.video.addEventListener(t,e.videoEvents[t])}))}},{key:"removeVideoEvents",value:function(){var e=this;this.hasBindEvent=!1,this.video&&Object.keys(this.videoEvents).forEach((function(t){e.video.removeEventListener(t,e.videoEvents[t])}))}},{key:"_onvLoadedMetadata",value:function(){var e=this,t=this.s;t.autoplayDetect.bind((function(n){console.info("warnup video是否支持自动播放:"+n),n?(t.supportAutoplay=!0,t.volumeslide.setVolume(t.vol)):(e.video.muted=!0,e.video.play(),t.volumeslide.setVolume(0,!1))}))}},{key:"updateFlow",value:function(){var e=this.s;e.flowStatus===a.default.ENDED?e.isVodMode||e.vodUrl||this.show():e.flowStatus===a.default.ERROR?this.destroy():this.hide()}}]),e}();e.exports=function(e){var t=new u(e);return e.cutOff=t,t}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var a=t.split("\n"),o=Math.max(r-3,0),s=Math.min(a.length,r+3),l=i(n),u=a.slice(o,s).map((function(e,t){var n=t+o+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%if (setting.waitImage) {%>\r\n  <video src="<%= setting.waitImage %>" autoplay loop poster="<%= setting.loadingImage %>" style="background: #212121;"></video>\r\n  <%if (isShowMuteBtn) {%>\r\n    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" version="1.1" class="<%= volumeClassName %>">\r\n      <use xlink:href="#plv-svg-volume-on" class="plv-svg-symbol plv-svg-volume-on"></use>\r\n      <use xlink:href="#plv-svg-volume-off" class="plv-svg-symbol plv-svg-volume-off"></use>\r\n    </svg>\r\n  <%} %>\r\n<% } else { %> \r\n  <%if (setting.coverImage) {%>\r\n    <div class="plv-live-player-cutOff-bg" style="background: url(<%= setting.coverImage %>) center center / contain no-repeat;"></div>\r\n    <%if (setting.coverHref) {%>  <a href="<%= setting.coverHref %>" target="_blank"></a><% } %>\r\n  <% } else { %> \r\n    <div class="plv-live-player-cutOff-icon" style="background: url(<%= setting.noliveImage %>) center center / contain no-repeat;"></div>\r\n  <%} %>\r\n<% } %>\r\n\r\n',__filename="src\\js\\component\\templates\\cutOff.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})setting.waitImage?(__append('\r\n  <video src="'),__line=2,__append(escapeFn(setting.waitImage)),__append('" autoplay loop poster="'),__append(escapeFn(setting.loadingImage)),__append('" style="background: #212121;"></video>\r\n  '),__line=3,isShowMuteBtn&&(__append('\r\n    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" version="1.1" class="'),__line=4,__append(escapeFn(volumeClassName)),__append('">\r\n      <use xlink:href="#plv-svg-volume-on" class="plv-svg-symbol plv-svg-volume-on"></use>\r\n      <use xlink:href="#plv-svg-volume-off" class="plv-svg-symbol plv-svg-volume-off"></use>\r\n    </svg>\r\n  '),__line=8),__append("\r\n"),__line=9):(__append(" \r\n  "),__line=10,setting.coverImage?(__append('\r\n    <div class="plv-live-player-cutOff-bg" style="background: url('),__line=11,__append(escapeFn(setting.coverImage)),__append(') center center / contain no-repeat;"></div>\r\n    '),__line=12,setting.coverHref&&(__append('  <a href="'),__append(escapeFn(setting.coverHref)),__append('" target="_blank"></a>')),__append("\r\n  "),__line=13):(__append(' \r\n    <div class="plv-live-player-cutOff-icon" style="background: url('),__line=14,__append(escapeFn(setting.noliveImage)),__append(') center center / contain no-repeat;"></div>\r\n  '),__line=15),__append("\r\n"),__line=16),__append("\r\n\r\n"),__line=18;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){"use strict";var r=l(n(59)),i=l(n(1)),a=l(n(2)),o=l(n(3)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var u={init:n(230)},c=function(){function e(t){(0,i.default)(this,e),this.dom=null,this.setting=t,this.emitter=t.event,this.pauseAdLoaded=!1}return(0,a.default)(e,[{key:"createDom",value:function(){return this.dom=s.default.createDivFromString("plv-live-player-media"),this.dom}},{key:"init",value:function(){}},{key:"showPreAd",value:function(){var e=this,t=this.setting;if(!0!==t.banPreAd&&!0!==t.banAd)if(t.advertType&&"NONE"!==t.advertType){t.banPreAd=!0;var n=this.dom,r=t.advertDuration,i=!t.supportAutoplay;if(n.innerHTML=u.init({setting:t,isShowMuteBtn:i,ad:"pre",time:r,timeUp:this.adText}),i){var a=n.querySelector("video");if(a){a.muted=!0;var o=document.getElementsByClassName("plv-live-player-media-pre-volume")[0];o.setAttribute("data-status","mute"),t.barTool.domClick(o,"un-mute","mute",(function(){a.muted=!0}),(function(){a.muted=!1}))}}this.dom.style.display="block";var s=document.getElementsByClassName("plv-live-player-media-pre-time")[0].getElementsByTagName("span")[0];!function t(){setTimeout((function(){--r,s.innerText=r,r>0?t():(e.destroy(),e.emitter.emit("__videoPlay"))}),1e3)}()}else t.banPreAd=!0,this.emitter.emit("__videoPlay");else this.emitter.emit("__videoPlay")}},{key:"adText",value:function(e){var t="广告也精彩：<span>"+e+"</span> 秒";return 1===this.setting.language&&(t="Ad: <span>"+e+"</span> Sec"),t}},{key:"show",value:function(){this.dom.style.display="block"}},{key:"hide",value:function(){this.dom.style.display="none"}},{key:"showPauseAd",value:function(){var e=this,t=this.setting;if(!0!==t.banPauseAd&&!0!==t.banAd&&!(t.stopAdvertImage.length<=0))if(this.pauseAdLoaded)this.show();else{this.dom.innerHTML=u.init({setting:t,ad:"pasue"});var n=document.getElementsByClassName("plv-live-player-media-pause-closeBtn")[0];s.default.addHandler(n,"click",(function(){e.hide()})),this.pauseAdLoaded=!0,this.show()}}},{key:"destroy",value:function(){this.dom.innerHTML=""}},{key:"updateFlow",value:function(){var e,t=this.setting;this[(e={},(0,r.default)(e,o.default.PREAD,"showPreAd"),(0,r.default)(e,o.default.PAUSE,"showPauseAd"),(0,r.default)(e,o.default.ERROR,"destroy"),e)[t.flowStatus]||"hide"]()}}]),e}();e.exports=function(e){var t=new c(e);return e.ad=t,t}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var a=t.split("\n"),o=Math.max(r-3,0),s=Math.min(a.length,r+3),l=i(n),u=a.slice(o,s).map((function(e,t){var n=t+o+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%if (ad==\'pre\') {%>\r\n<div class="plv-live-player-media-pre">\r\n  <%if (setting.advertFlvUrl) {%><video src="<%= setting.advertFlvUrl %>" autoplay></video>\r\n    <%if (isShowMuteBtn) {%>\r\n    <div class="plv-live-player-media-pre-volume">\r\n      <svg viewBox="0 0 24 24" version="1.1" class="plv-icon plv-icon-volume">\r\n        <use xlink:href="#plv-svg-volume-on" class="plv-svg-symbol plv-svg-volume-on"></use>\r\n        <use xlink:href="#plv-svg-volume-off" class="plv-svg-symbol plv-svg-volume-off"></use>\r\n      </svg>\r\n    </div>\r\n    <%} %>\r\n  <% } %>\r\n  <%if (setting.advertImage) {%> <img src="<%= setting.advertImage %>"><% } %>\r\n  <%if (setting.advertHref) {%> <a href="<%= setting.advertHref %>" target="_blank"></a><% } %>\r\n  <div class="plv-live-player-media-pre-time"><%- timeUp(time) %></div>\r\n</div>\r\n<% } else { %> \r\n<div class="plv-live-player-media-pause" style="background: url(<%= setting.stopAdvertImage %>) 0% 0% / 100% 100% no-repeat;">\r\n<%if (setting.advertHref) {%> <a href="<%= setting.stopAdvertHref %>" target="_blank"></a><% } %>\r\n<span class="plv-live-player-media-pause-closeBtn">×</span>\r\n</div>\r\n<% } %>\r\n\r\n',__filename="src\\js\\component\\templates\\ad.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})"pre"==ad?(__append('\r\n<div class="plv-live-player-media-pre">\r\n  '),__line=3,setting.advertFlvUrl&&(__append('<video src="'),__append(escapeFn(setting.advertFlvUrl)),__append('" autoplay></video>\r\n    '),__line=4,isShowMuteBtn&&(__append('\r\n    <div class="plv-live-player-media-pre-volume">\r\n      <svg viewBox="0 0 24 24" version="1.1" class="plv-icon plv-icon-volume">\r\n        <use xlink:href="#plv-svg-volume-on" class="plv-svg-symbol plv-svg-volume-on"></use>\r\n        <use xlink:href="#plv-svg-volume-off" class="plv-svg-symbol plv-svg-volume-off"></use>\r\n      </svg>\r\n    </div>\r\n    '),__line=11),__append("\r\n  "),__line=12),__append("\r\n  "),__line=13,setting.advertImage&&(__append(' <img src="'),__append(escapeFn(setting.advertImage)),__append('">')),__append("\r\n  "),__line=14,setting.advertHref&&(__append(' <a href="'),__append(escapeFn(setting.advertHref)),__append('" target="_blank"></a>')),__append('\r\n  <div class="plv-live-player-media-pre-time">'),__line=15,__append(timeUp(time)),__append("</div>\r\n</div>\r\n"),__line=17):(__append(' \r\n<div class="plv-live-player-media-pause" style="background: url('),__line=18,__append(escapeFn(setting.stopAdvertImage)),__append(') 0% 0% / 100% 100% no-repeat;">\r\n'),__line=19,setting.advertHref&&(__append(' <a href="'),__append(escapeFn(setting.stopAdvertHref)),__append('" target="_blank"></a>')),__append('\r\n<span class="plv-live-player-media-pause-closeBtn">×</span>\r\n</div>\r\n'),__line=22),__append("\r\n\r\n"),__line=24;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){"use strict";var r=u(n(1)),i=u(n(2)),a=u(n(3)),o=u(n(31)),s=u(n(0)),l=u(n(12));function u(e){return e&&e.__esModule?e:{default:e}}var c={init:n(232)},d=function(){function e(t){(0,r.default)(this,e),this.setting=t,this.dom=null}return(0,i.default)(e,[{key:"createDom",value:function(){var e=this.setting;return this.dom=s.default.createDOMFromString(c.init({setting:e})),this.dom}},{key:"showErrorByMsg",value:function(e){this.msg=e}},{key:"show",value:function(){var e=this.setting;this.dom.className="plv-live-player-error";var t=s.default.getLanguageTxt(o.default.errorMsg,e.language)+" "+e.errorCode;this.msg&&(t=this.msg),this.dom.querySelector("p").innerHTML=t,e.event.emit(l.default.ERROR_DESTROY)}},{key:"hide",value:function(){this.dom.className="plv-live-player-error-none"}},{key:"updateFlow",value:function(){this.setting.flowStatus==a.default.ERROR&&this.show()}}]),e}();e.exports=function(e){var t=new d(e);return e.error=t,t}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var a=t.split("\n"),o=Math.max(r-3,0),s=Math.min(a.length,r+3),l=i(n),u=a.slice(o,s).map((function(e,t){var n=t+o+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="plv-live-player-error-none">\r\n  <div class="plv-live-player-error-wrap">\r\n    <img src="<%= setting.errorImage %>">\r\n    <p class="plv-live-player-error-wrap-text"></p>\r\n  </div>\r\n </div>',__filename="src\\js\\component\\templates\\error.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="plv-live-player-error-none">\r\n  <div class="plv-live-player-error-wrap">\r\n    <img src="'),__line=3,__append(escapeFn(setting.errorImage)),__append('">\r\n    <p class="plv-live-player-error-wrap-text"></p>\r\n  </div>\r\n </div>'),__line=6;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){"use strict";var r=s(n(1)),i=s(n(2)),a=s(n(3)),o=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var l={init:n(234)},u=function(){function e(t){(0,r.default)(this,e),this.s=t,this.dom=null,this.errorPanel=null}return(0,i.default)(e,[{key:"createDom",value:function(){var e=this.s;return this.dom=o.default.createDOMFromString(l.init({setting:e})),this.dom}},{key:"show",value:function(){this.dom.style.display="flex"}},{key:"hide",value:function(){this.dom.style.display="none"}},{key:"updateFlow",value:function(){this.s.flowStatus!==a.default.LOADING&&this.hide()}}]),e}();e.exports=function(e){var t=new u(e);return e.loading=t,t}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var a=t.split("\n"),o=Math.max(r-3,0),s=Math.min(a.length,r+3),l=i(n),u=a.slice(o,s).map((function(e,t){var n=t+o+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="plv-live-player-loading">\r\n<div class="plv-live-player-loading__round">\r\n<svg class="lds-spin" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><g transform="translate(80,50)">\r\n<g transform="rotate(0)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="1" transform="scale(1.05388 1.05388)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-1.0083333333333335s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-1.0083333333333335s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(75.98076211353316,65)">\r\n<g transform="rotate(29.999999999999996)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.9166666666666666" transform="scale(1.06221 1.06221)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.9166666666666666s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.9166666666666666s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(65,75.98076211353316)">\r\n<g transform="rotate(59.99999999999999)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.8333333333333334" transform="scale(1.07054 1.07054)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.8250000000000001s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.8250000000000001s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(50,80)">\r\n<g transform="rotate(90)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.75" transform="scale(1.07888 1.07888)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.7333333333333334s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.7333333333333334s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(35.00000000000001,75.98076211353316)">\r\n<g transform="rotate(119.99999999999999)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.6666666666666666" transform="scale(1.08721 1.08721)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.6416666666666667s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.6416666666666667s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(24.01923788646684,65)">\r\n<g transform="rotate(150.00000000000003)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.5833333333333334" transform="scale(1.09554 1.09554)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.55s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.55s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(20,50.00000000000001)">\r\n<g transform="rotate(180)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.5" transform="scale(1.00388 1.00388)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.4583333333333333s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.4583333333333333s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(24.019237886466836,35.00000000000001)">\r\n<g transform="rotate(209.99999999999997)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.4166666666666667" transform="scale(1.01221 1.01221)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.3666666666666667s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.3666666666666667s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(34.999999999999986,24.019237886466847)">\r\n<g transform="rotate(239.99999999999997)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.3333333333333333" transform="scale(1.02054 1.02054)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.275s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.275s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(49.99999999999999,20)">\r\n<g transform="rotate(270)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.25" transform="scale(1.02888 1.02888)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.18333333333333335s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.18333333333333335s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(65,24.019237886466843)">\r\n<g transform="rotate(300.00000000000006)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.16666666666666666" transform="scale(1.03721 1.03721)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.09166666666666667s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.09166666666666667s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(75.98076211353316,34.999999999999986)">\r\n<g transform="rotate(329.99999999999994)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.08333333333333333" transform="scale(1.04554 1.04554)">\r\n  <animateTransform attributeName="transform" type="scale" begin="0s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="0s"></animate>\r\n</circle>\r\n</g>\r\n</g></svg>\r\n</div></div>',__filename="src\\js\\component\\templates\\loading.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="plv-live-player-loading">\r\n<div class="plv-live-player-loading__round">\r\n<svg class="lds-spin" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><g transform="translate(80,50)">\r\n<g transform="rotate(0)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="1" transform="scale(1.05388 1.05388)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-1.0083333333333335s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-1.0083333333333335s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(75.98076211353316,65)">\r\n<g transform="rotate(29.999999999999996)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.9166666666666666" transform="scale(1.06221 1.06221)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.9166666666666666s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.9166666666666666s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(65,75.98076211353316)">\r\n<g transform="rotate(59.99999999999999)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.8333333333333334" transform="scale(1.07054 1.07054)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.8250000000000001s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.8250000000000001s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(50,80)">\r\n<g transform="rotate(90)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.75" transform="scale(1.07888 1.07888)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.7333333333333334s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.7333333333333334s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(35.00000000000001,75.98076211353316)">\r\n<g transform="rotate(119.99999999999999)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.6666666666666666" transform="scale(1.08721 1.08721)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.6416666666666667s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.6416666666666667s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(24.01923788646684,65)">\r\n<g transform="rotate(150.00000000000003)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.5833333333333334" transform="scale(1.09554 1.09554)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.55s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.55s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(20,50.00000000000001)">\r\n<g transform="rotate(180)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.5" transform="scale(1.00388 1.00388)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.4583333333333333s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.4583333333333333s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(24.019237886466836,35.00000000000001)">\r\n<g transform="rotate(209.99999999999997)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.4166666666666667" transform="scale(1.01221 1.01221)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.3666666666666667s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.3666666666666667s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(34.999999999999986,24.019237886466847)">\r\n<g transform="rotate(239.99999999999997)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.3333333333333333" transform="scale(1.02054 1.02054)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.275s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.275s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(49.99999999999999,20)">\r\n<g transform="rotate(270)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.25" transform="scale(1.02888 1.02888)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.18333333333333335s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.18333333333333335s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(65,24.019237886466843)">\r\n<g transform="rotate(300.00000000000006)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.16666666666666666" transform="scale(1.03721 1.03721)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.09166666666666667s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.09166666666666667s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(75.98076211353316,34.999999999999986)">\r\n<g transform="rotate(329.99999999999994)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.08333333333333333" transform="scale(1.04554 1.04554)">\r\n  <animateTransform attributeName="transform" type="scale" begin="0s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite"></animateTransform>\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="0s"></animate>\r\n</circle>\r\n</g>\r\n</g></svg>\r\n</div></div>'),__line=88;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){"use strict";var r=o(n(1)),i=o(n(2)),a=o(n(3));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){(0,r.default)(this,e),this.s=t,this.dom=null}return(0,i.default)(e,[{key:"createDom",value:function(){var e=this.dom=document.createElement("div");return e.setAttribute("class","plv-live-player-mask"),e}},{key:"updateFlow",value:function(){this.s.flowStatus===a.default.ERROR&&(this.dom.style.display="none")}}]),e}();e.exports=function(e){var t=new s(e);return e.mask=t,t}},function(e,t,n){"use strict";var r=l(n(1)),i=l(n(2)),a=l(n(60)),o=l(n(31)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var u={init:n(239)},c=function(){function e(t){(0,r.default)(this,e),this.setting=t,this.dom=null}return(0,i.default)(e,[{key:"createDom",value:function(){var e=this.setting,t=s.default.getLanguageTxt(o.default.passwordInput,e.language),n=s.default.getLanguageTxt(o.default.okBtn,e.language);return this.dom=s.default.createDOMFromString(u.init({setting:e,passwordInputTxt:t,okTxt:n})),this.dom.style.display="none",this.dom}},{key:"init",value:function(){var e=this.setting;!0===e.banPassword||!e.passwdRestrict||this.getPasswordedCorrect()?this.done():(this.bindEvent(),this.show())}},{key:"bindEvent",value:function(){var e=this,t=this.setting,n=document.getElementsByClassName("plv-live-player-password-wrap-s")[0],r=document.getElementsByClassName("plv-live-player-password-wrap-i")[0];n.addEventListener("click",(function(){-1!=String((0,a.default)(r.value)).indexOf(t.passwdEncrypted)?e.done():e.fail()}))}},{key:"show",value:function(){this.dom.style.display="block"}},{key:"hide",value:function(){this.dom.style.display="none"}},{key:"done",value:function(){var e=this.setting;this.hide(),e.event.emit("__passwordDone")}},{key:"fail",value:function(){var e=this.setting;document.getElementsByClassName("plv-live-player-password-wrap-error")[0].innerHTML=s.default.getLanguageTxt(o.default.passwordFail,e.language)}},{key:"getPasswordedCorrect",value:function(){var e="",t=this.setting,n="";return"function"==typeof window.s2j_getMessage&&(e=window.s2j_getMessage(),n=(0,a.default)(s.default.decode(e)),t.passwdEncrypted===n)}},{key:"destory",value:function(){}},{key:"updateFlow",value:function(){}}]),e}();e.exports=function(e){var t=new c(e);return e.password=t,t}},function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],a=0;a<4;a++)8*r+6*a<=8*e.length?n.push(t.charAt(i>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}};e.exports=n}()},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var a=t.split("\n"),o=Math.max(r-3,0),s=Math.min(a.length,r+3),l=i(n),u=a.slice(o,s).map((function(e,t){var n=t+o+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="plv-live-player-password" style="display: block;">\r\n  <div class="plv-live-player-password-wrap">\r\n    <p class="plv-live-player-password-wrap-p"><%= passwordInputTxt %></p>\r\n    <input class="plv-live-player-password-wrap-i" type="password">\r\n    <span class="plv-live-player-password-wrap-s"><%= okTxt %></span>\r\n    <p class="plv-live-player-password-wrap-error"></p>\r\n  </div>\r\n</div>',__filename="src\\js\\component\\templates\\password.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="plv-live-player-password" style="display: block;">\r\n  <div class="plv-live-player-password-wrap">\r\n    <p class="plv-live-player-password-wrap-p">'),__line=3,__append(escapeFn(passwordInputTxt)),__append('</p>\r\n    <input class="plv-live-player-password-wrap-i" type="password">\r\n    <span class="plv-live-player-password-wrap-s">'),__line=5,__append(escapeFn(okTxt)),__append('</span>\r\n    <p class="plv-live-player-password-wrap-error"></p>\r\n  </div>\r\n</div>'),__line=8;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){"use strict";var r=o(n(1)),i=o(n(2)),a=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){(0,r.default)(this,e),this.s=t,this.dom=null}return(0,i.default)(e,[{key:"createDom",value:function(){var e=this.s,t=e.width,n=e.height,r=this.dom=document.createElement("div");return r.style.width=a.default.transUnit(t),r.style.height=a.default.transUnit(n),r.setAttribute("class","plv-live-player-container plv-live-player-container-"+e.vid+"-"+e.initTimeStampSt),r}}]),e}();e.exports=function(e){var t=new s(e);return e.plvContainer=t,t}},function(e,t,n){"use strict";var r=d(n(1)),i=d(n(2)),a=d(n(242)),o=d(n(247)),s=d(n(268)),l=d(n(270)),u=d(n(0)),c=d(n(3));function d(e){return e&&e.__esModule?e:{default:e}}!function(e){e.keys().map(e)}(n(271));var f=function(){function e(t){(0,r.default)(this,e),this.s=t,this.dom=null}return(0,i.default)(e,[{key:"createDom",value:function(){var e=this;this.s.barTool=l.default;var t=this.s,n=this.dom=u.default.createDivFromString("plv-live-player-bar plv-live-player-bar-hide"),r=u.default.createDivFromString("plv-live-player-bar-bg");return n.appendChild(r),n.appendChild((0,a.default)(t).createDom()),n.appendChild((0,o.default)(t).createDom()),n.appendChild((0,s.default)(t).createDom()),t.ban_ui?n.style.display="none":t.skin_float||(u.default.addHandler(t.plvContainer.dom,"mouseleave",(function(){t.flowStatus!==c.default.PAUSE?n.setAttribute("class","plv-live-player-bar"):n.setAttribute("class","plv-live-player-bar plv-live-player-bar-hide")})),u.default.addHandler(t.plvContainer.dom,"mousemove",(function(){e.barshow()})),u.default.addHandler(t.plvContainer.dom,"click",(function(){e.barshow()}))),n}},{key:"updateFlow",value:function(){}},{key:"barshow",value:function(){this.s.barHideTimeStampSt=void 0,this.dom.setAttribute("class","plv-live-player-bar plv-live-player-bar-hide")}}]),e}();e.exports=function(e){var t=new f(e);return e.bar=t,t}},function(e,t,n){"use strict";var r=o(n(243)),i=o(n(245)),a=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=function(e){var t={dom:null,createDom:function(){var t=a.default.createDivFromString("plv-live-player-bar-leftModule");return t.appendChild((0,r.default)(e).createDom()),t.appendChild((0,i.default)(e).createDom()),t}};return e.leftModule=t,t}},function(e,t,n){"use strict";var r=a(n(3)),i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var o={init:n(244)};e.exports=function(e){var t={dom:null,createDom:function(){var t=this,n=this.dom=i.default.createDOMFromString(o.init());return n.addEventListener("click",(function(n){e.flowStatus===r.default.ENDED&&!e.isVodMode||e.flowStatus===r.default.PREAD||("play"==n.currentTarget.getAttribute("data-status")?(t.changePlayStatus(!0),e.clickPlay=!0,e.videoPanel.play()):(t.changePlayStatus(!1),e.videoPanel.pause()))})),n.addEventListener("mouseover",(function(){e.flowStatus!==r.default.ENDED&&e.flowStatus!==r.default.PREAD?n.style.cursor="pointer":n.style.cursor="default"})),n},changePlayStatus:function(e){this.dom.dataset.status=e?"pause":"play"}};return e.playbtn=t,t}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var a=t.split("\n"),o=Math.max(r-3,0),s=Math.min(a.length,r+3),l=i(n),u=a.slice(o,s).map((function(e,t){var n=t+o+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="plv-live-player-btn plv-live-player-btn-play" data-status="play">\r\n  <svg viewBox="0 0 24 24" version="1.1" class="plv-icon plv-icon-play">\r\n    <use xlink:href="#plv-svg-play" class="plv-svg-symbol plv-svg-play"></use>\r\n    <use xlink:href="#plv-svg-pause" class="plv-svg-symbol plv-svg-pause"></use>\r\n  </svg>\r\n</div>',__filename="src\\js\\component\\skin\\templates\\left\\playPauseBtn.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="plv-live-player-btn plv-live-player-btn-play" data-status="play">\r\n  <svg viewBox="0 0 24 24" version="1.1" class="plv-icon plv-icon-play">\r\n    <use xlink:href="#plv-svg-play" class="plv-svg-symbol plv-svg-play"></use>\r\n    <use xlink:href="#plv-svg-pause" class="plv-svg-symbol plv-svg-pause"></use>\r\n  </svg>\r\n</div>'),__line=6;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i={init:n(246)};e.exports=function(e){var t={dom:null,createDom:function(){var e=this.dom=r.default.createDOMFromString(i.init());return e.style.display="none",e},updateDuration:function(e){var t=document.getElementsByClassName("plv-time-total")[0];t&&(t.innerText=r.default.getFormatTime(e))},updateCurrentTime:function(e){var t=document.getElementsByClassName("plv-time-current")[0];t&&(t.innerText=r.default.getFormatTime(e))}};return e.time=t,t}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var a=t.split("\n"),o=Math.max(r-3,0),s=Math.min(a.length,r+3),l=i(n),u=a.slice(o,s).map((function(e,t){var n=t+o+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="plv-time-wrap">\r\n  <span class="plv-time-current">00:00</span>\r\n  <span class="plv-time-separator">/</span>\r\n  <span class="plv-time-total">00:00</span>\r\n</div>',__filename="src\\js\\component\\skin\\templates\\left\\time.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="plv-time-wrap">\r\n  <span class="plv-time-current">00:00</span>\r\n  <span class="plv-time-separator">/</span>\r\n  <span class="plv-time-total">00:00</span>\r\n</div>'),__line=5;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){"use strict";var r=u(n(248)),i=u(n(256)),a=u(n(261)),o=u(n(263)),s=u(n(265)),l=u(n(266));function u(e){return e&&e.__esModule?e:{default:e}}e.exports=function(e){var t={dom:null,createDom:function(){var t=document.createElement("div");return this.dom=t,t.setAttribute("class","plv-live-player-bar-rightModule"),e.banRate||t.appendChild((0,s.default)(e).createDom()),e.lines[0].multirateModel&&!e.banMultirate&&"Y"!==e.isOnlyAudio&&t.appendChild((0,r.default)(e).createDom()),e.lines.length>1&&!e.banLine&&"Y"!==e.isOnlyAudio&&t.appendChild((0,l.default)(e).createDom()),t.appendChild((0,o.default)(e).createDom()),t.appendChild((0,i.default)(e).createDom()),t.appendChild((0,a.default)(e).createDom()),t}};return e.rightModule=t,t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(249)),i=d(n(1)),a=d(n(2));t.default=function(e){return new f(e)};var o=d(n(0)),s=d(n(12)),l=d(n(41)),u=d(n(132)),c=d(n(3));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){(0,i.default)(this,e),this.setting=t,this.isVodMode=t.isVodMode,this.emitter=t.event;var n=this.setting.lines[t.line].multirateModel;this.multirateModel=n;var r=n.definitions||[];this.multirateList=r,this.isShowed=!0,this.dom=null,this.curDefinitionType=n.defaultDefinition,this.isEnglish=1===this.setting.language}return(0,a.default)(e,[{key:"createDom",value:function(){var e=this.multirateModel,t=this.multirateList,n=e.defaultDefinition,i=this.isEnglish?this.translateC2E[n]:n,a="",s=!0,l=!1,u=void 0;try{for(var c,d=t.entries()[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=c.value,h=(0,r.default)(f,2),p=h[0],v=h[1];if(!v.definition)return;var g=n===v.definition?'class="plv-on"':"";n===v.definition&&(this.setting.df=t.length-1-p),a+='<div data-definitiontype="'+v.definition+'" '+g+">"+(this.isEnglish?this.translateC2E[v.definition]:v.definition)+"</div>"}}catch(e){l=!0,u=e}finally{try{!s&&d.return&&d.return()}finally{if(l)throw u}}var m=o.default.createDOMFromString('\n        <div class="plv-multirate">\n          <div class="plv-multirate-btn js-multirateDefault">'+i+'</div>\n          <div class="plv-multirate-slide">\n            <div class="plv-multirate-list js-multirateList">\n              '+a+"\n            </div>\n          </div>\n        </div>\n      ");return this.bindChange(m),this.bindListener(),this.dom=m,this.hide(),this.dom}},{key:"getElement",value:function(e){return this.dom.querySelector(e)}},{key:"bindChange",value:function(e){var t=this,n=this;o.default.addHandler(e,"click",(function(e){if(t.setting.flowStatus!==c.default.PREAD){var r=e.target.getAttribute("data-definitiontype");r&&!l.default.hasClass(e.target,"plv-on")&&n.changeRate(r)}}))}},{key:"changeRate",value:function(e){var t=this,n=this.setting,r=this.isEnglish?this.translateC2E[e]:e;o.default.channelLoad(n).then((function(i){if(i.lines[n.line].multirateModel){var a="";(i.lines[n.line].multirateModel.definitions||[]).forEach((function(t){a||t.definition===e&&(a="Y"===n.useHls?o.default.replaceHttps(t.m3u8):o.default.replaceHttps(t.url))})),t.getElement(".js-multirateDefault").innerText=r,t.curDefinitionType=e,l.default.removeClass(t.getElement(".js-multirateList .plv-on"),"plv-on"),l.default.addClass(t.getElement(".js-multirateList [data-definitiontype="+e+"]"),"plv-on"),t.emitter.emit(s.default.CHANGE_MULTIRATE,{liveUrl:a,definitionType:e})}})).catch((function(e){console.info(e)}))}},{key:"bindListener",value:function(){var e=this;this.emitter.on(s.default.CHANGE_LIVE_STATUS,(function(t){t.liveSatus?e.show():e.hide()})),this.emitter.on(s.default.VIDEO_FROZE,(function(){if(e.isShowed&&"流畅"!==e.curDefinitionType){var t="流畅";"超清"===e.curDefinitionType&&(t="高清"),e.showTips(t)}})),this.emitter.on(s.default.CHANGE_LEVEL,(function(t){e.changeRate(t.hd)}))}},{key:"hide",value:function(){this.isShowed=!1,this.dom.style.display="none"}},{key:"show",value:function(){this.isShowed=!0,this.dom.style.display="block"}},{key:"showTips",value:function(e){var t=this,n=this.isEnglish?this.translateC2E[e]:e,r=this.isEnglish?"your current network is unstable，switch to":"您当前网络状况不稳定，建议您切换至";new u.default(this.setting,{tipsContent:r+'<span class="js-switch">'+n+"</span>",created:function(e){o.default.addHandler(e.querySelector(".js-switch"),"click",(function(e){var n=e.target.innerText,r=t.isEnglish?t.translateE2C[n]:n;t.changeRate(r)}))}}).show()}},{key:"translateC2E",get:function(){return{"超清":"FHD","高清":"HD","流畅":"SD"}}},{key:"translateE2C",get:function(){return{FHD:"超清",HD:"高清",SD:"流畅"}}}]),e}()},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(250)),i=a(n(253));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var s,l=(0,i.default)(e);!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){e.exports={default:n(251),__esModule:!0}},function(e,t,n){n(56),n(49),e.exports=n(252)},function(e,t,n){var r=n(88),i=n(9)("iterator"),a=n(29);e.exports=n(11).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||a.hasOwnProperty(r(t))}},function(e,t,n){e.exports={default:n(254),__esModule:!0}},function(e,t,n){n(56),n(49),e.exports=n(255)},function(e,t,n){var r=n(15),i=n(131);e.exports=n(11).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){"use strict";var r=n(257),i=n(259);e.exports=function(e){var t={dom:null,createDom:function(){var t=this.dom=document.createElement("div");return t.setAttribute("class","plv-live-player-volume"),t.appendChild(r(e).createDom()),t.appendChild(i(e).createDom()),t},show:function(){this.dom.style.display="block"},hide:function(){this.dom.style.display="none"}};return e.volumePanel=t,t}},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i={init:n(258)};e.exports=function(e){var t={dom:null,createDom:function(){var t=this.dom=r.default.createDOMFromString(i.init());return e.barTool.domClick(t,"un-mute","mute",(function(){e.volumeslide.setVolume(0)}),(function(){e.volumeslide.setVolume(r.default.getStorage("volume-"+e.vid)||e.oldVolume)})),e.mute&&this.changePlayStatus(!0),t},changePlayStatus:function(t){t?e.barTool.changeDataStatus(this.dom,"mute"):e.barTool.changeDataStatus(this.dom,"un-mute")}};return e.volumebtn=t,t}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var a=t.split("\n"),o=Math.max(r-3,0),s=Math.min(a.length,r+3),l=i(n),u=a.slice(o,s).map((function(e,t){var n=t+o+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="plv-live-player-btn plv-live-player-btn-volume" data-status="un-mute">\r\n  <svg viewBox="0 0 24 24" version="1.1" class="plv-icon plv-icon-volume">\r\n    <use xlink:href="#plv-svg-volume-on" class="plv-svg-symbol plv-svg-volume-on"></use>\r\n    <use xlink:href="#plv-svg-volume-off" class="plv-svg-symbol plv-svg-volume-off"></use>\r\n  </svg>\r\n</div>',__filename="src\\js\\component\\skin\\templates\\right\\volume\\volumeBtn.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="plv-live-player-btn plv-live-player-btn-volume" data-status="un-mute">\r\n  <svg viewBox="0 0 24 24" version="1.1" class="plv-icon plv-icon-volume">\r\n    <use xlink:href="#plv-svg-volume-on" class="plv-svg-symbol plv-svg-volume-on"></use>\r\n    <use xlink:href="#plv-svg-volume-off" class="plv-svg-symbol plv-svg-volume-off"></use>\r\n  </svg>\r\n</div>'),__line=6;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){"use strict";var r=a(n(0)),i=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var o={init:n(260)};e.exports=function(e){var t={dom:null,sendCount:0,createDom:function(){return this.dom=r.default.createDOMFromString(o.init())},init:function(){this.progress=document.getElementsByClassName("plv-live-player-volume-slide-square-bg-progress")[0],this.volumeTouch=document.getElementsByClassName("plv-live-player-volume-slide-square-touch")[0],this.bindDrag(this.volumeTouch)},setVolume:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.progress&&(this.progress.style.height=100*t+"%"),e.flowStatus===i.default.ENDED?e.cutOff.setVolume(t):e.videoPanel.setVolume(t),e.vol=t,0==t?e.volumebtn.changePlayStatus(!0):(e.oldVolume=t,e.volumebtn.changePlayStatus(!1),e.mute=!1,e.muteTipsPanel&&e.muteTipsPanel.hide());try{n&&r.default.setStorage("volume-"+e.vid,t)}catch(e){}e.s2j_volume(t),this.sendCount<2&&((0===this.sendCount&&t<=0||this.sendCount>0&&t>0)&&e.sendUte("vol","v:"+t+"|mute:"+(t>0?0:1)),t>0?this.sendCount+=2:++this.sendCount)},bindDrag:function(e){var t=this,n={top:0,left:0};n.maxLeft,n.maxTop,n.dragging=!1;var i=0,a=0,o=118;function s(e){if(e=e||window.event,n.dragging)return e.preventDefault(),a=e.offsetY,i=(i=(i=1-a/o)<.05?0:i)>1?1:i,t.setVolume(i),!1}function l(t){n.dragging=!1,e.releaseCapture&&e.releaseCapture(),t.cancelBubble=!0,r.default.removeHandler(document,"mousemove",s),r.default.removeHandler(document,"mouseup",l),r.default.removeHandler(e,"mouseout",u)}function u(t){n.dragging=!1,e.releaseCapture&&e.releaseCapture(),t.cancelBubble=!0,r.default.removeHandler(e,"mousemove",s),r.default.removeHandler(e,"mouseup",l),r.default.removeHandler(e,"mouseout",u)}n.maxTop=o+6,r.default.addHandler(e,"mousedown",(function(a){return n.dragging=!0,n.isDragged=!0,i=(i=(i=1-a.offsetY/o)<.05?0:i)>1?1:i,t.setVolume(i),e.setCapture&&e.setCapture(),r.default.addHandler(e,"mousemove",s),r.default.addHandler(e,"mouseup",l),r.default.addHandler(e,"mouseout",u),!1}))}};return e.volumeslide=t,t}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var a=t.split("\n"),o=Math.max(r-3,0),s=Math.min(a.length,r+3),l=i(n),u=a.slice(o,s).map((function(e,t){var n=t+o+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="plv-live-player-volume-slide">\r\n  <div class="plv-live-player-volume-slide-square">\r\n    <div class="plv-live-player-volume-slide-square-bg">\r\n      <div class="plv-live-player-volume-slide-square-bg-progress">\r\n        <div class="plv-live-player-volume-slide-progress-dot"></div>\r\n      </div>\r\n    </div>\r\n    <div class="plv-live-player-volume-slide-square-touch">\r\n    </div>\r\n  </div>\r\n</div>',__filename="src\\js\\component\\skin\\templates\\right\\volume\\volumeSlide.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="plv-live-player-volume-slide">\r\n  <div class="plv-live-player-volume-slide-square">\r\n    <div class="plv-live-player-volume-slide-square-bg">\r\n      <div class="plv-live-player-volume-slide-square-bg-progress">\r\n        <div class="plv-live-player-volume-slide-progress-dot"></div>\r\n      </div>\r\n    </div>\r\n    <div class="plv-live-player-volume-slide-square-touch">\r\n    </div>\r\n  </div>\r\n</div>'),__line=11;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i={init:n(262)};e.exports=function(e){var t={dom:null,api:null,apis:[{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"webkitFullscreenEnabled",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}}],createDom:function(){var t=this,n=!0,a=!1,o=void 0;try{for(var s,l=t.apis[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value;if(u.enabled in document){t.api=u;break}}}catch(e){a=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw o}}var c=t.dom=r.default.createDOMFromString(i.init());return t.api?(e.barTool.domClick(c,"fullscreen","exitfullscreen",(function(){t.api.enabled&&t.fullScreen()}),(function(){t.fullScreen(!1)})),r.default.addHandler(document,t.api.events.change,(function(){t.fullScreenChange()}))):console.info("不支持全屏"),c},fullScreenChange:function(){document[this.api.element]||(this.dom.setAttribute("data-status","fullscreen"),this.fullScreen(!1))},fullScreen:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?(e.plvContainer.dom.style.height="100%",e.plvContainer.dom.style.width="100%",e.plvContainer.dom.style.position="fixed",e.plvContainer.dom.style.top="0px",e.plvContainer.dom.style.left="0px",this.launchFullscreen(e.wrapContainer)):(e.plvContainer.dom.style.height=r.default.transUnit(e.height),e.plvContainer.dom.style.width=r.default.transUnit(e.width),e.plvContainer.dom.style.position="relative",e.plvContainer.dom.style.top="",e.plvContainer.dom.style.left="",document[this.api.element]&&this.exitFullscreen()),e.event.emit("s2j_onFullScreen",t),e.marqueePanel&&e.marqueePanel.removeMarqueeWrap&&e.marqueePanel.removeMarqueeWrap()},launchFullscreen:function(e){try{e[this.api.request]()}catch(e){console.info("进入全屏失败",e)}},exitFullscreen:function(){try{document[this.api.exit]()}catch(e){console.info("退出全屏失败",e)}}};return e.fullscreenbtn=t,t}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var a=t.split("\n"),o=Math.max(r-3,0),s=Math.min(a.length,r+3),l=i(n),u=a.slice(o,s).map((function(e,t){var n=t+o+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="plv-live-player-btn plv-live-player-btn-fullscreen" data-status="fullscreen">\r\n  <svg viewBox="0 0 24 24" version="1.1" class="plv-icon plv-icon-fullscreen">\r\n    <use xlink:href="#plv-svg-fullscreen" class="plv-svg-symbol plv-svg-fullscreen"></use>\r\n    <use xlink:href="#plv-svg-exitfullscreen" class="plv-svg-symbol plv-svg-exitfullscreen"></use>\r\n  </svg>\r\n</div>',__filename="src\\js\\component\\skin\\templates\\right\\fullscreenBtn.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="plv-live-player-btn plv-live-player-btn-fullscreen" data-status="fullscreen">\r\n  <svg viewBox="0 0 24 24" version="1.1" class="plv-icon plv-icon-fullscreen">\r\n    <use xlink:href="#plv-svg-fullscreen" class="plv-svg-symbol plv-svg-fullscreen"></use>\r\n    <use xlink:href="#plv-svg-exitfullscreen" class="plv-svg-symbol plv-svg-exitfullscreen"></use>\r\n  </svg>\r\n</div>'),__line=6;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){"use strict";var r=a(n(0)),i=a(n(31));function a(e){return e&&e.__esModule?e:{default:e}}var o={init:n(264)};e.exports=function(e){var t={dom:null,createDom:function(){var t=this,n=r.default.getLanguageTxt(i.default.danmu,e.language),a=this.dom=r.default.createDOMFromString(o.init({danmuTxt:n}));return this.dom.style.display="none",e.barTool.domClick(a,"danmu-on","danmu-off",(function(){t.changeStatus(!0)}),(function(){t.changeStatus(!1)})),a},changeStatus:function(t){t?(e.barTool.changeDataStatus(this.dom,"danmu-off"),e.danmu.hide()):(e.barTool.changeDataStatus(this.dom,"danmu-on"),e.danmu.show()),e.event.emit("s2j_barrageStatus",t)},show:function(){e.banBarrageBtn&&"off"!==e.banBarrageBtn||(this.dom.style.display="")}};return e.danmubtn=t,t}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var a=t.split("\n"),o=Math.max(r-3,0),s=Math.min(a.length,r+3),l=i(n),u=a.slice(o,s).map((function(e,t){var n=t+o+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="plv-live-player-btn plv-live-player-btn-danmu" data-status="danmu-on">\r\n  <svg viewBox="0 0 24 24" version="1.1" class="plv-icon plv-icon-danmu">\r\n    <use xlink:href="#plv-svg-danmu-on" class="plv-svg-symbol plv-svg-danmu-on"></use>\r\n    <use xlink:href="#plv-svg-danmu-off" class="plv-svg-symbol plv-svg-danmu-off"></use>\r\n  </svg>\r\n</div>',__filename="src\\js\\component\\skin\\templates\\right\\danmuBtn.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="plv-live-player-btn plv-live-player-btn-danmu" data-status="danmu-on">\r\n  <svg viewBox="0 0 24 24" version="1.1" class="plv-icon plv-icon-danmu">\r\n    <use xlink:href="#plv-svg-danmu-on" class="plv-svg-symbol plv-svg-danmu-on"></use>\r\n    <use xlink:href="#plv-svg-danmu-off" class="plv-svg-symbol plv-svg-danmu-off"></use>\r\n  </svg>\r\n</div>'),__line=6;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(1)),i=l(n(2));t.default=function(e){return new u(e)};var a=l(n(0)),o=l(n(12)),s=l(n(41));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){(0,r.default)(this,e),this.setting=t,this.dom=null,this.emitter=t.event}return(0,i.default)(e,[{key:"createDom",value:function(){var e=a.default.createDOMFromString("\n    <div class='plv-rate'>\n      <div class='plv-rate-select'>\n        <div data-rate='2'>2x</div>\n        <div data-rate='1.5'>1.5x</div>\n        <div data-rate='1.25'>1.25x</div>\n        <div data-rate='1' class=current>1x</div>\n        <div data-rate='0.5'>0.5x</div>\n      </div>\n      <div class='plv-rate-btn'>1x</div>\n    </div>\n    \n    ");return this.bindChange(e),this.bindListener(),this.dom=e,this.hide(),this.setting.rate&&this.changeRate(this.setting.rate),this.dom}},{key:"bindChange",value:function(e){var t=this;a.default.addHandler(e,"click",(function(e){var n=e.target.getAttribute("data-rate");n&&t.changeRate(n)}))}},{key:"changeRate",value:function(e){var t=e+"x";a.default.getElement(this.dom,".plv-rate-btn").innerText=t,s.default.removeClass(a.default.getElement(this.dom,".plv-rate-select .current"),"current"),s.default.addClass(a.default.getElement(this.dom,".plv-rate-select [data-rate='"+e+"']"),"current");var n=parseFloat(e);this.setting.videoPanel&&n!==this.setting.videoPanel.rate&&(this.setting.videoPanel.rate=n)}},{key:"bindListener",value:function(){var e=this;this.emitter.on(o.default.CHANGE_LIVE_STATUS,(function(t){t.liveSatus||!e.setting.isVodMode?e.hide():e.show()})),this.emitter.on(o.default.CHANGE_RATE,(function(t){e.changeRate(t.rate)}))}},{key:"hide",value:function(){this.isShowed=!1,this.dom.style.display="none"}},{key:"show",value:function(){this.isShowed=!0,this.dom.style.display="block"}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(1)),i=c(n(2));t.default=function(e){return new h(e)};var a=c(n(0)),o=c(n(12)),s=c(n(41)),l=c(n(132)),u=c(n(3));function c(e){return e&&e.__esModule?e:{default:e}}var d={"zh-cn":{line1:"线路1",line2:"线路2",changed:"已切换至"},en:{line1:"Line 1",line2:"Line 2",changed:"Switched to"}},f={init:n(267)},h=function(){function e(t){(0,r.default)(this,e),this.setting=t,this.isVodMode=t.isVodMode,this.emitter=t.event;var n=this.setting.lines;this.lines=n||[],this.setting.ban_ui||(this.isShowed=!0),this.dom=null,this.curLine=this.setting.line,this.lang=1===this.setting.language?"en":"zh-cn",this._lang=d[this.lang||"zh-cn"]}return(0,i.default)(e,[{key:"createDom",value:function(){var e=this.lines,t="",n=!0,r=!1,i=void 0;try{for(var o,s=e.keys()[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;t+='<div data-linetype="'+l+'" '+(this.curLine===l?'class="plv-on"':"")+">"+(0===l?this._lang.line1:this._lang.line2)+"</div>"}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}var u=0===this.curLine?this._lang.line1:this._lang.line2,c=a.default.createDOMFromString(f.init({lineBtnText:u,listDomStr:t}));return this.dom=c,this.bindChange(c),this.bindListener(),this.hide(),this.dom}},{key:"getElement",value:function(e){return this.dom.querySelector(e)}},{key:"bindChange",value:function(e){var t=this;a.default.addHandler(e,"click",(function(e){if(t.setting.flowStatus!==u.default.PREAD){var n=e.target.getAttribute("data-linetype");n&&!s.default.hasClass(e.target,"plv-on")&&t.changeLine(n)}}))}},{key:"changeLine",value:function(e){var t=this,n=this.setting,r=0===(e=parseInt(e))?this._lang.line1:this._lang.line2;a.default.channelLoad(n).then((function(i){if(i.lines){var l="";if(l="Y"===n.useHls?i.lines[e].m3u8:i.lines[e].flv,"ws"===i.lines[e].cdnType&&"Y"!==n.useHls&&(l=i.lines[e].bakFlv),i.lines[e].multirateModel){var u=i.lines[e].multirateModel.definitions;l="Y"===n.useHls?u[u.length-1-n.df].m3u8:u[u.length-1-n.df].url}"https://"===n.httpHead&&(l=a.default.replaceHttps(l)),t.getElement(".js-lineDefault").innerText=r,t.curLine=e,s.default.removeClass(t.getElement(".js-lineList .plv-on"),"plv-on"),s.default.addClass(t.getElement(".js-lineList [data-linetype='"+e+"']"),"plv-on"),t.emitter.emit(o.default.CHANGE_LINE,{liveUrl:l,lineType:e})}})).catch((function(e){console.info(e)}))}},{key:"bindListener",value:function(){var e=this;this.emitter.on(o.default.CHANGE_LIVE_STATUS,(function(t){t.liveSatus?e.show():e.hide()})),this.emitter.on(o.default.ON_LINE_CHANGED,(function(){if(e.isShowed){var t=e._lang.changed;e.showTips(e.curLine,t)}})),this.emitter.on(o.default.API_CHANGE_LINE,(function(t){e.changeLine(t.line)}))}},{key:"hide",value:function(){this.isShowed=!1,this.dom.style.display="none"}},{key:"show",value:function(){this.setting.ban_ui||(this.isShowed=!0),this.dom.style.display="block"}},{key:"showTips",value:function(e,t){var n=0===e?this._lang.line1:this._lang.line2;new l.default(this.setting,{tipsContent:t+'<span class="js-switch">'+n+"</span>"}).show()}}]),e}()},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var a=t.split("\n"),o=Math.max(r-3,0),s=Math.min(a.length,r+3),l=i(n),u=a.slice(o,s).map((function(e,t){var n=t+o+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="plv-live-player-line">\r\n  <div class="plv-live-player-line__btn js-lineDefault"><%= lineBtnText %></div>\r\n  <div class="plv-live-player-line__slide">\r\n    <div class="plv-live-player-line__list js-lineList">\r\n      <%- listDomStr %>\r\n    </div>\r\n  </div>\r\n</div>',__filename="src\\js\\component\\skin\\templates\\right\\line.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="plv-live-player-line">\r\n  <div class="plv-live-player-line__btn js-lineDefault">'),__line=2,__append(escapeFn(lineBtnText)),__append('</div>\r\n  <div class="plv-live-player-line__slide">\r\n    <div class="plv-live-player-line__list js-lineList">\r\n      '),__line=5,__append(listDomStr),__append("\r\n    </div>\r\n  </div>\r\n</div>"),__line=8;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){"use strict";var r=a(n(0)),i=a(n(129));function a(e){return e&&e.__esModule?e:{default:e}}var o={init:n(269)};e.exports=function(e){var t={dom:null,createDom:function(){var e=this.dom=r.default.createDOMFromString(o.init());return e.style.display="none",e},init:function(){var e=document.getElementsByClassName("plv-live-player-bar-progress-touch")[0];this.progressPlay=document.getElementsByClassName("plv-live-player-bar-progress-play")[0],this.progressTime=document.getElementsByClassName("plv-live-player-bar-progress-time")[0],this.bindDrag(e)},updateTime:function(e){!this._drag.dragging&&this.progressPlay&&(this.progressPlay.style.width=e+"%")},updateProgress:function(e){this.progressPlay&&(this.progressPlay.style.width=100*e+"%")},updateCurrentTime:function(t,n){if(this.progressTime){var i=n-this.progressTime.clientWidth/2;i=i<0?0:i;var a=e.wrapContainer.clientWidth-this.progressTime.clientWidth;i=i>a?a:i,this.progressTime.style.left=i+"px";var o=Math.round(e.duration*t);this.progressTime.innerText=r.default.getFormatTime(o)}},updateBuffer:function(e){this.progressLoad&&(this.progressLoad.style.width=e+"%")},seekVideo:function(t){e.videoPanel.seek(t)},bindDrag:function(t){var n=this,a={left:0};a.maxLeft,a.dragging=!1,n._drag=a;var o=0,s=0;function l(i){a.dragging=!1,t.releaseCapture&&t.releaseCapture(),i.cancelBubble=!0,n.seekVideo(o*e.duration),r.default.removeHandler(document,"mouseup",l)}r.default.addHandler(t,"mousedown",(function(e){return a.dragging=!0,a.isDragged=!0,s=e.offsetX,o=s/t.offsetWidth,n.updateTime(o),t.setCapture&&t.setCapture(),r.default.addHandler(document,"mouseup",l),!1})),r.default.addHandler(document,"mousemove",(function(e){e=e||window.event;var r=t.offsetWidth;if(s=(s=(s=e.offsetX)>r-6?r-6:e.offsetX)<0?0:e.offsetX,o=(o=s/r)>1?1:o,"none"!==i.default.getStyle(n.progressTime,"display")&&n.updateCurrentTime(o,s),a.dragging)return n.updateProgress(o),!1}))}};return e.progress=t,t}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var a=t.split("\n"),o=Math.max(r-3,0),s=Math.min(a.length,r+3),l=i(n),u=a.slice(o,s).map((function(e,t){var n=t+o+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="plv-live-player-bar-progress">\r\n  <div class="plv-live-player-bar-progress-bg"></div>\r\n  <div class="plv-live-player-bar-progress-load"></div>\r\n  <div class="plv-live-player-bar-progress-current">\r\n    <div class="plv-live-player-bar-progress-play"></div>\r\n    <span class="plv-live-player-bar-progress-dot"></span>\r\n  </div>\r\n  <div class="plv-live-player-bar-progress-touch"></div>\r\n  <div class="plv-live-player-bar-progress-time"></div>\r\n</div>',__filename="src\\js\\component\\skin\\templates\\progress.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="plv-live-player-bar-progress">\r\n  <div class="plv-live-player-bar-progress-bg"></div>\r\n  <div class="plv-live-player-bar-progress-load"></div>\r\n  <div class="plv-live-player-bar-progress-current">\r\n    <div class="plv-live-player-bar-progress-play"></div>\r\n    <span class="plv-live-player-bar-progress-dot"></span>\r\n  </div>\r\n  <div class="plv-live-player-bar-progress-touch"></div>\r\n  <div class="plv-live-player-bar-progress-time"></div>\r\n</div>'),__line=10;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){"use strict";var r={domClick:function(e,t,n,r,i){e.addEventListener("click",(function(a){a.currentTarget.getAttribute("data-status")==t?(e.setAttribute("data-status",n),r()):(e.setAttribute("data-status",t),i())}))},changeDataStatus:function(e,t){e.setAttribute("data-status",t)},getSvg:function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("viewBox","0 0 24 24"),t.setAttribute("version","1.1"),t.setAttribute("class",e),t},getUseDom:function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","use");return n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+t),n.setAttribute("class",e),n}};e.exports=r},function(e,t,n){var r={"./danmu-off.svg":272,"./danmu-on.svg":273,"./exitfullscreen.svg":274,"./fullscreen.svg":275,"./loading.svg":276,"./loading2.svg":277,"./pause.svg":278,"./play.svg":279,"./volume-off.svg":280,"./volume-on.svg":281};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=271},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=new i.a({id:"plv-svg-danmu-off",use:"plv-svg-danmu-off-usage",viewBox:"0 0 44 44",content:'<symbol viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg" id="plv-svg-danmu-off"><g transform="translate(13.5 15)" fill="none" fill-rule="evenodd"><path d="M8.5 15l-2 2-2-2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h13a2 2 0 0 1 2 2v2.5" stroke="#FFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle fill="#FFF" cx="3.5" cy="8" r="1" /><circle fill="#FFF" cx="6" cy="4" r="1" /><path d="M9.5 4H13M7 8h3.5" stroke="#FFF" stroke-width="2" stroke-linecap="round" /><circle stroke="#FFF" stroke-width="1.5" cx="17" cy="13" r="5.25" /><path d="M13.5 10l6.828 6.305" stroke="#FFF" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" /></g></symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=new i.a({id:"plv-svg-danmu-on",use:"plv-svg-danmu-on-usage",viewBox:"0 0 44 44",content:'<symbol viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg" id="plv-svg-danmu-on"><g transform="translate(13.5 15)" fill="none" fill-rule="evenodd"><path d="M8.5 15l-2 2-2-2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h13a2 2 0 0 1 2 2v2.5" stroke="#FFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle fill="#2196F3" cx="17" cy="13" r="6" /><circle fill="#FFF" cx="3.5" cy="8" r="1" /><circle fill="#FFF" cx="6" cy="4" r="1" /><path d="M9.5 4H13M7 8h3.5" stroke="#FFF" stroke-width="2" stroke-linecap="round" /><path stroke="#FFF" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" d="M14.3 13.136l1.768 1.767 3.535-3.535" /></g></symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=new i.a({id:"plv-svg-exitfullscreen",use:"plv-svg-exitfullscreen-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="plv-svg-exitfullscreen">\r\n<title>exitfullscreen</title>\r\n<path fill="#fff" d="M0 7.111h8.889v3.556h-8.889v-3.556zM5.333 1.778h3.556v8.889h-3.556v-8.889zM23.111 7.111h8.889v3.556h-8.889v-3.556zM23.111 1.778h3.556v8.889h-3.556v-8.889zM5.333 21.333h3.556v8.889h-3.556v-8.889zM0 21.333h8.889v3.556h-8.889v-3.556zM23.111 21.333h8.889v3.556h-8.889v-3.556zM23.111 21.333h3.556v8.889h-3.556v-8.889z" />\r\n</symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=new i.a({id:"plv-svg-fullscreen",use:"plv-svg-fullscreen-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="plv-svg-fullscreen">\r\n<title>fullscreen</title>\r\n<path fill="#fff" d="M0 1.778h8.889v3.556h-8.889v-3.556zM0 1.778h3.556v8.889h-3.556v-8.889zM23.111 1.778h8.889v3.556h-8.889v-3.556zM28.444 1.778h3.556v8.889h-3.556v-8.889zM0 21.333h3.556v8.889h-3.556v-8.889zM0 26.667h8.889v3.556h-8.889v-3.556zM23.111 26.667h8.889v3.556h-8.889v-3.556zM28.444 21.333h3.556v8.889h-3.556v-8.889z" />\r\n</symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=new i.a({id:"plv-svg-loading",use:"plv-svg-loading-usage",viewBox:"0 0 100 100",content:'<symbol class="lds-spin" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" id="plv-svg-loading"><g transform="translate(80,50)">\r\n<g transform="rotate(0)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="1" transform="scale(1.05388 1.05388)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-1.0083333333333335s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-1.0083333333333335s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(75.98076211353316,65)">\r\n<g transform="rotate(29.999999999999996)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.9166666666666666" transform="scale(1.06221 1.06221)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.9166666666666666s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.9166666666666666s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(65,75.98076211353316)">\r\n<g transform="rotate(59.99999999999999)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.8333333333333334" transform="scale(1.07054 1.07054)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.8250000000000001s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.8250000000000001s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(50,80)">\r\n<g transform="rotate(90)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.75" transform="scale(1.07888 1.07888)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.7333333333333334s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.7333333333333334s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(35.00000000000001,75.98076211353316)">\r\n<g transform="rotate(119.99999999999999)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.6666666666666666" transform="scale(1.08721 1.08721)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.6416666666666667s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.6416666666666667s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(24.01923788646684,65)">\r\n<g transform="rotate(150.00000000000003)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.5833333333333334" transform="scale(1.09554 1.09554)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.55s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.55s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(20,50.00000000000001)">\r\n<g transform="rotate(180)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.5" transform="scale(1.00388 1.00388)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.4583333333333333s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.4583333333333333s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(24.019237886466836,35.00000000000001)">\r\n<g transform="rotate(209.99999999999997)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.4166666666666667" transform="scale(1.01221 1.01221)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.3666666666666667s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.3666666666666667s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(34.999999999999986,24.019237886466847)">\r\n<g transform="rotate(239.99999999999997)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.3333333333333333" transform="scale(1.02054 1.02054)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.275s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.275s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(49.99999999999999,20)">\r\n<g transform="rotate(270)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.25" transform="scale(1.02888 1.02888)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.18333333333333335s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.18333333333333335s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(65,24.019237886466843)">\r\n<g transform="rotate(300.00000000000006)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.16666666666666666" transform="scale(1.03721 1.03721)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.09166666666666667s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="-0.09166666666666667s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(75.98076211353316,34.999999999999986)">\r\n<g transform="rotate(329.99999999999994)">\r\n<circle cx="0" cy="0" r="3" fill="#ffffff" fill-opacity="0.08333333333333333" transform="scale(1.04554 1.04554)">\r\n  <animateTransform attributeName="transform" type="scale" begin="0s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.1s" repeatCount="indefinite" values="1;0" begin="0s"></animate>\r\n</circle>\r\n</g>\r\n</g></symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=new i.a({id:"plv-svg-loading2",use:"plv-svg-loading2-usage",viewBox:"0 0 100 100",content:'<symbol class="lds-spin" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" id="plv-svg-loading2"><g transform="translate(90,50)">\r\n<g transform="rotate(0)">\r\n<circle cx="0" cy="0" r="3" fill="#8cd0e5" fill-opacity="1" transform="scale(1.01007 1.01007)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.9166666666666666s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1s" repeatCount="indefinite" values="1;0" begin="-0.9166666666666666s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(84.64101615137756,70)">\r\n<g transform="rotate(29.999999999999996)">\r\n<circle cx="0" cy="0" r="3" fill="#8cd0e5" fill-opacity="0.9166666666666666" transform="scale(1.0184 1.0184)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.8333333333333334s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1s" repeatCount="indefinite" values="1;0" begin="-0.8333333333333334s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(70,84.64101615137754)">\r\n<g transform="rotate(59.99999999999999)">\r\n<circle cx="0" cy="0" r="3" fill="#8cd0e5" fill-opacity="0.8333333333333334" transform="scale(1.02673 1.02673)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.75s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1s" repeatCount="indefinite" values="1;0" begin="-0.75s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(50,90)">\r\n<g transform="rotate(90)">\r\n<circle cx="0" cy="0" r="3" fill="#8cd0e5" fill-opacity="0.75" transform="scale(1.03507 1.03507)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.6666666666666666s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1s" repeatCount="indefinite" values="1;0" begin="-0.6666666666666666s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(30.000000000000007,84.64101615137756)">\r\n<g transform="rotate(119.99999999999999)">\r\n<circle cx="0" cy="0" r="3" fill="#8cd0e5" fill-opacity="0.6666666666666666" transform="scale(1.0434 1.0434)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.5833333333333334s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1s" repeatCount="indefinite" values="1;0" begin="-0.5833333333333334s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(15.35898384862245,70)">\r\n<g transform="rotate(150.00000000000003)">\r\n<circle cx="0" cy="0" r="3" fill="#8cd0e5" fill-opacity="0.5833333333333334" transform="scale(1.05173 1.05173)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.5s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1s" repeatCount="indefinite" values="1;0" begin="-0.5s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(10,50.00000000000001)">\r\n<g transform="rotate(180)">\r\n<circle cx="0" cy="0" r="3" fill="#8cd0e5" fill-opacity="0.5" transform="scale(1.06007 1.06007)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.4166666666666667s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1s" repeatCount="indefinite" values="1;0" begin="-0.4166666666666667s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(15.358983848622444,30.00000000000001)">\r\n<g transform="rotate(209.99999999999997)">\r\n<circle cx="0" cy="0" r="3" fill="#8cd0e5" fill-opacity="0.4166666666666667" transform="scale(1.0684 1.0684)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.3333333333333333s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1s" repeatCount="indefinite" values="1;0" begin="-0.3333333333333333s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(29.999999999999982,15.358983848622458)">\r\n<g transform="rotate(239.99999999999997)">\r\n<circle cx="0" cy="0" r="3" fill="#8cd0e5" fill-opacity="0.3333333333333333" transform="scale(1.07673 1.07673)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.25s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1s" repeatCount="indefinite" values="1;0" begin="-0.25s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(49.99999999999999,10)">\r\n<g transform="rotate(270)">\r\n<circle cx="0" cy="0" r="3" fill="#8cd0e5" fill-opacity="0.25" transform="scale(1.08507 1.08507)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.16666666666666666s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1s" repeatCount="indefinite" values="1;0" begin="-0.16666666666666666s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(70,15.358983848622458)">\r\n<g transform="rotate(300.00000000000006)">\r\n<circle cx="0" cy="0" r="3" fill="#8cd0e5" fill-opacity="0.16666666666666666" transform="scale(1.0934 1.0934)">\r\n  <animateTransform attributeName="transform" type="scale" begin="-0.08333333333333333s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1s" repeatCount="indefinite" values="1;0" begin="-0.08333333333333333s"></animate>\r\n</circle>\r\n</g>\r\n</g><g transform="translate(84.64101615137753,29.999999999999982)">\r\n<g transform="rotate(329.99999999999994)">\r\n<circle cx="0" cy="0" r="3" fill="#8cd0e5" fill-opacity="0.08333333333333333" transform="scale(1.00173 1.00173)">\r\n  <animateTransform attributeName="transform" type="scale" begin="0s" values="1.1 1.1;1 1" keyTimes="0;1" dur="1s" repeatCount="indefinite" />\r\n  <animate attributeName="fill-opacity" keyTimes="0;1" dur="1s" repeatCount="indefinite" values="1;0" begin="0s"></animate>\r\n</circle>\r\n</g>\r\n</g></symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=new i.a({id:"plv-svg-pause",use:"plv-svg-pause-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="plv-svg-pause">\r\n<title>pause</title>\r\n<path fill="#fff" d="M7.111 1.778c1.964 0 3.556 1.592 3.556 3.556v0 21.333c-0 1.964-1.592 3.555-3.556 3.555s-3.555-1.592-3.556-3.555v0-21.333c0-1.964 1.592-3.556 3.556-3.556v0zM24.889 1.778c1.964 0 3.556 1.592 3.556 3.556v0 21.333c-0 1.964-1.592 3.555-3.556 3.555s-3.555-1.592-3.556-3.555v0-21.333c0-1.964 1.592-3.556 3.556-3.556v0z" />\r\n</symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=new i.a({id:"plv-svg-play",use:"plv-svg-play-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="plv-svg-play">\r\n<path fill="#fff" d="M26.958 13.412a3.025 3.025 0 0 1 .013 5.161l-.013.008L7.922 29.815c-.416.259-.921.412-1.462.412s-1.046-.153-1.474-.419l.012.007a2.924 2.924 0 0 1-1.462-2.53l.001-.057v.003V4.765l-.001-.055a2.92 2.92 0 0 1 1.448-2.523l.014-.007c.416-.259.921-.412 1.462-.412s1.046.153 1.474.419l-.012-.007z" />\r\n</symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=new i.a({id:"plv-svg-volume-off",use:"plv-svg-volume-off-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="plv-svg-volume-off">\r\n<title>volume-off</title>\r\n<path fill="#fff" d="M1.778 10.667h3.556c0.982 0 1.778 0.796 1.778 1.778v0 7.111c0 0.982-0.796 1.778-1.778 1.778v0h-3.556c-0.982 0-1.778-0.796-1.778-1.778v0-7.111c0-0.982 0.796-1.778 1.778-1.778v0zM12.444 3.556s1.778-0.517 1.778 1.778v21.333c0 2.295-1.778 1.778-1.778 1.778-1.964 0-8.889-8.889-8.889-8.889v-7.111s6.933-8.889 8.889-8.889zM31.497 11.925l-4.089 4.089 3.977 3.977c0.309 0.319 0.499 0.755 0.499 1.235 0 0.982-0.796 1.778-1.778 1.778-0.48 0-0.916-0.19-1.236-0.5l0 0-3.977-3.977-4.028 4.028c-0.324 0.32-0.769 0.517-1.26 0.517-0.99 0-1.792-0.802-1.792-1.792 0-0.491 0.197-0.935 0.517-1.259l4.028-4.028-3.977-3.977c-0.309-0.319-0.499-0.755-0.499-1.235 0-0.982 0.796-1.778 1.778-1.778 0.48 0 0.916 0.19 1.236 0.5l-0-0 3.977 3.977 4.089-4.089c0.325-0.329 0.776-0.533 1.275-0.533 0.99 0 1.792 0.802 1.792 1.792 0 0.499-0.204 0.95-0.532 1.274l-0 0z" />\r\n</symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=new i.a({id:"plv-svg-volume-on",use:"plv-svg-volume-on-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="plv-svg-volume-on">\r\n<title>volume_on</title>\r\n<path fill="#fff" d="M24.889 7.111v-3.556c3.98 0.487 7.111 5.895 7.111 12.444s-3.136 11.961-7.111 12.444v-3.556c2.524 0 4.494-3.18 4.494-8.889 0-5.66-2.971-8.889-4.494-8.889zM1.778 10.667h3.556c0.982 0 1.778 0.796 1.778 1.778v0 7.111c0 0.982-0.796 1.778-1.778 1.778v0h-3.556c-0.982 0-1.778-0.796-1.778-1.778v0-7.111c0-0.982 0.796-1.778 1.778-1.778v0zM12.444 3.556s1.778-0.517 1.778 1.778v21.333c0 2.295-1.778 1.778-1.778 1.778-1.964 0-8.889-8.889-8.889-8.889v-7.111s6.933-8.889 8.889-8.889zM21.333 11.556v-2.667c2.981 0.279 5.333 3.369 5.333 7.111s-2.348 6.834-5.333 7.111v-2.667s2.775-0.011 2.775-4.444-2.775-4.444-2.775-4.444zM16 12.444c1.964 0 3.556 1.592 3.556 3.556s-1.592 3.556-3.556 3.556v0c0.025 0-0.036-7.111 0-7.111z" />\r\n</symbol>'});o.a.add(s),t.default=s},function(e,t,n){"use strict";var r=d(n(59)),i=d(n(1)),a=d(n(2)),o=d(n(283)),s=d(n(119)),l=d(n(12)),u=d(n(3)),c=d(n(0));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){(0,i.default)(this,e),this.dom=null,this.canplay=!1,this.playState=!1,this.isActPlay=!1,this.isOriginPush=!0,this.hasBindEvent=!1,this.errorCount=0,this.setting=t,this.emitter=t.event,this.codec="",this.videoEvents={loadedmetadata:this._onvLoadedMetadata.bind(this),canplay:this._onvCanPlay.bind(this),playing:this._onvPlaying.bind(this),pause:this._onvPause.bind(this),ended:this._onvEnded.bind(this),timeupdate:this._onvTimeupdate.bind(this),waiting:this._onvWaiting.bind(this),error:this._onvError.bind(this),ratechange:this._onvRatechange.bind(this)},this.lastWaitingStartTime=0,this.waitingCounter=0,this.timer=null,this.loadingTimer=null}return(0,a.default)(e,[{key:"createDom",value:function(){return this.dom=document.createElement("video"),this.dom}},{key:"show",value:function(){var e=this.setting;this.dom&&(this.dom.className="plv-live-player-video plv-live-player-videoid-"+e.vid)}},{key:"hide",value:function(){var e=this.setting;this.dom&&(this.dom.className="plv-live-player-video-none plv-live-player-videoid-"+e.vid)}},{key:"init",value:function(){var e=this,t=this.setting;this.dom.setAttribute("class","plv-live-player-video plv-live-player-videoid-"+t.vid),t.guide||t.vodsrc||this.dom.setAttribute("poster",t.coverImage),t.showControls&&this.dom.setAttribute("controls","controls"),t.autoPlay&&this.dom.setAttribute("autoplay","autoplay"),this.bindVideoEvents(),this.emitter.on(l.default.CHANGE_MULTIRATE,(function(n){t.liveUrl=n.liveUrl,e.play2(),t.flowStatus===u.default.PLAYING&&e.play(),e.emitter.emit(l.default.ON_LEVEL_CHANGED,n)})),this.emitter.on(l.default.CHANGE_LINE,(function(n){t.liveUrl=n.liveUrl,e.play2(),t.flowStatus===u.default.PLAYING&&e.play(),e.emitter.emit(l.default.ON_LINE_CHANGED,n)}))}},{key:"videoPlay",value:function(){var e=this.setting;this.play2(),e.autoPlay?this.play():e.playbtn.dom.setAttribute("data-status","play")}},{key:"setVolume",value:function(e){var t=this.setting;this.dom.muted&&e>0&&(this.dom.muted=!1,t.mute=!1),this.dom.volume=e}},{key:"resetStream",value:function(){var e=this.setting;e.flvPlayer&&!e.isVodMode&&(this.dom.currentTime=this.dom.buffered.end(0)-.5)}},{key:"destroy",value:function(){var e=this.setting;e.hls&&e.hls.destroy&&e.hls.destroy(),e.flvPlayer&&e.flvPlayer.unload&&(e.flvPlayer.unload(),e.flvPlayer.detachMediaElement(),e.flvPlayer.destroy(),e.flvPlayer=null),this.hasBindEvent&&this.removeVideoEvents(),this.dom&&(this.dom.parentElement.removeChild(this.dom),this.dom=null)}},{key:"play2",value:function(){var e=this.setting;this.playState=!0,e.isVodMode?this.playVodVideo():this.playLiveVideo()}},{key:"playVodVideo",value:function(){var e=this.setting;e.hls&&e.hls.destroy&&e.hls.destroy(),e.flvPlayer&&e.flvPlayer.unload&&(e.flvPlayer.unload(),e.flvPlayer.detachMediaElement(),e.flvPlayer.destroy(),e.flvPlayer=null);var t=e.vodUrl,n=c.default.getFileExt(t);if("mp4"===n)this.dom.src=t;else if("m3u8"===n)if(o.default.isSupported()){var r=new o.default;e.hls=r,-1===t.indexOf("?")?t+="?device=desktop":t+="&device=desktop",r.loadSource(t),r.attachMedia(this.dom)}else this.dom.canPlayType("application/vnd.apple.mpegurl")&&(this.dom.src=t)}},{key:"playLiveVideo",value:function(){var e=this,t=this,n=this.setting;if(n.hls&&n.hls.destroy&&n.hls.destroy(),n.flvPlayer&&n.flvPlayer.unload&&(n.flvPlayer.unload(),n.flvPlayer.detachMediaElement(),n.flvPlayer.destroy(),n.flvPlayer=null),this.dom){var r=n.liveUrl,i=c.default.getFileExt(r);if("flv"===i)n.debug||(s.default.LoggingControl.enableWarn=!1,s.default.LoggingControl.enableInfo=!1,s.default.LoggingControl.enableVerbose=!1),n.flvPlayer=s.default.createPlayer({type:"flv",isLive:!0,url:r},{enableStashBuffer:!("Y"===n.h5LowLatency||!0===n.lowLatency),fixAudioTimestampGap:!1}),n.flvPlayer.attachMediaElement(this.dom),n.flvPlayer.load(),n.flvPlayer.on(s.default.Events.ERROR,(function(){if(n.flvPlayer.off(s.default.Events.ERROR,(function(){})),!0===n.guide){var t=e;setTimeout((function(){t.playLiveVideo()}),3e3)}if(n.lines.length>1&&e.errorCount<4){e.errorCount+=1;var r=n.lines.length-1-n.line;e.emitter.emit("__onChangeLine",r)}})),n.flvPlayer.on(s.default.Events.MEDIA_INFO,(function(e){t.codec=e.videoCodec})),n.flvPlayer.on(s.default.Events.SEI_INFO,(function(e){n.flowStatus===u.default.PLAYING&&n.onSEIInfo(e)})),n.flvPlayer.on(s.default.Events.AVC_DECODER_CHANGE,(function(e){console.info("AVC_DECODER_CHANGE",t.codec,e.data.codec,e);var r=e.data.codec;n.flowStatus===u.default.PLAYING&&t.codec!==r&&(t.codec=r,c.default.channelLoad(n).then((function(e){t.channelJsonComplete(n,e)})).catch((function(e){console.info(e)})))}));else if("m3u8"===i)if(o.default.isSupported()){var a=new o.default;n.hls=a,a.loadSource(r),a.attachMedia(this.dom),a.on(o.default.Events.ERROR,(function(e,r){var i=r.type,a=r.details,o=r.fatal;console.info(i,a,o,r),"networkError"===i&&r.response&&403===r.response.code&&t.errorCount<4&&(t.errorCount+=1,c.default.channelLoad(n).then((function(e){t.channelJsonComplete(n,e)})).catch((function(e){console.info(e)})))}))}else this.dom.canPlayType("application/vnd.apple.mpegurl")&&(this.dom.src=r)}}},{key:"channelJsonComplete",value:function(e,t){!0===(e=Object.assign(e,t)).useFlv&&(e.useHls="N");var n=t.lines[e.line].flv;if("Y"===e.useHls&&(n=t.lines[e.line].m3u8),"Y"===t.isOnlyAudio)"ws"===e.lines[e.line].cdnType?n+="&only-audio=1":"ali"===e.lines[e.line].cdnType&&(n+="&onlyAudio=1");else if(t.lines[e.line].multirateModel&&!e.banMultirate&&(n=t.lines[e.line].multirateModel.defaultDefinitionUrl,"Y"===e.useHls&&(n=t.lines[e.line].multirateModel.defaultDefinitionM3u8Url),e.df>=0)){var r=t.lines[e.line].multirateModel.definitions;e.df=e.df>r.length-1?r.length-1:e.df,e.lines[e.line].multirateModel.defaultDefinition=r[r.length-1-e.df].definition,n=r[r.length-1-e.df].url,"Y"===e.useHls&&(n=r[r.length-1-e.df].m3u8)}"https://"===e.httpHead&&("ws"===e.lines[e.line].cdnType&&(n=e.lines[e.line].bakFlv),n=c.default.replaceHttps(n)),e.liveUrl=n,this.playLiveVideo()}},{key:"Pause2",value:function(){this.playState=!1,this.pause()}},{key:"play",value:function(){var e=this.setting;!0===this.canplay&&(e.updateFlowStatus(u.default.PLAYING),this.dom.play(),e.s2j_onPlay())}},{key:"pause",value:function(){var e=this.setting;this.dom&&(this.dom.pause(),e.s2j_onPause())}},{key:"seek",value:function(e){this.setting.s2j_onSeek(this.dom.currentTime,e),this.dom.currentTime=e}},{key:"getCurrentTime",value:function(){return this.dom?this.dom.currentTime:0}},{key:"getDurationTime",value:function(){return this.dom?this.dom.duration:0}},{key:"bindVideoEvents",value:function(){var e=this;this.hasBindEvent=!0,Object.keys(this.videoEvents).forEach((function(t){e.dom.addEventListener(t,e.videoEvents[t])}))}},{key:"removeVideoEvents",value:function(){var e=this;this.hasBindEvent=!1,this.dom&&Object.keys(this.videoEvents).forEach((function(t){e.dom.removeEventListener(t,e.videoEvents[t])}))}},{key:"_onvLoadedMetadata",value:function(){var e=this,t=this.setting;this.isActPlay=!1,this.canplay=!1,this.errorCount=0,t.duration=this.dom.duration,t.isVodMode&&t.time.updateDuration(t.duration),t.autoplayDetect.bind((function(n){console.info("video是否支持自动播放:"+n),n||!t.autoPlay?(t.supportAutoplay=!0,t.volumeslide.setVolume(t.vol)):(e.dom.muted=!0,t.volumeslide.setVolume(0,!1))})),t.s2j_onLoadedMetadata()}},{key:"_onvCanPlay",value:function(){var e=this.setting;this.canplay=!0,e.hasSendLoading||e.event.emit(l.default.END_FIRST_LOADING),e.flowStatus===u.default.PAUSE&&e.isVodMode||((e.autoPlay||e.clickPlay)&&this.play(),e.loading.hide())}},{key:"_onvPlaying",value:function(){this.cleatTimer();var e=this.setting;e.loading.hide(),e.playbtn.changePlayStatus(!0),e.updateFlowStatus(u.default.PLAYING)}},{key:"_onvPause",value:function(){var e=this.setting;e.playbtn.changePlayStatus(!1),e.flowStatus===u.default.PLAYING&&e.updateFlowStatus(u.default.PAUSE),this.clearWaitingData()}},{key:"_onvEnded",value:function(){var e=this.setting;e.updateFlowStatus(u.default.ENDED),e.s2j_onOver(),this.clearWaitingData()}},{key:"_onvTimeupdate",value:function(){var e=this.setting;e.currentTime=this.dom.currentTime,e.isVodMode&&(e.time.updateCurrentTime(e.currentTime),e.progress.updateTime(e.currentTime/e.duration*100))}},{key:"_onvWaiting",value:function(){var e=this,t=this.setting;if(!t.banMultirate&&"Y"!==t.isOnlyAudio){this.canplay=!1,this.loadingTimer=setTimeout((function(){e.canplay||t.loading.show(),e.clearLoadingTimer()}),3e3);var n=(new Date).getTime();this.waitingCounter+=1,1===this.waitingCounter?this.lastWaitingStartTime=n:this.waitingCounter>=5&&(n-this.lastWaitingStartTime<=1e4&&this.emitter.emit(l.default.VIDEO_FROZE),this.clearWaitingData()),this.cleatTimer(),this.timer=setTimeout((function(){e.emitter.emit(l.default.VIDEO_FROZE),e.clearWaitingData()}),6e3)}}},{key:"_onvError",value:function(){console.info("Error "+this.dom.error.code+"; details: "+this.dom.error.message)}},{key:"_onvRatechange",value:function(e){var t=e.target.playbackRate;t&&this.emitter&&(this.emitter.emit("__onChangeRate",t),this.emitter.emit(l.default.CHANGE_RATE_EVENT,{rate:t}))}},{key:"cleatTimer",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"clearWaitingData",value:function(){this.waitingCounter=0,this.lastWaitingStartTime=0,this.cleatTimer()}},{key:"clearLoadingTimer",value:function(){this.loadingTimer&&(clearTimeout(this.loadingTimer),this.loadingTimer=null)}},{key:"updateFlow",value:function(){var e,t=this.setting;this[(e={},(0,r.default)(e,u.default.PLAYING,"show"),(0,r.default)(e,u.default.READY_PLAY,"show"),(0,r.default)(e,u.default.PAUSE,"show"),(0,r.default)(e,u.default.ERROR,"destroy"),e)[t.flowStatus]||"hide"]()}},{key:"rate",set:function(e){this.dom.playbackRate=e},get:function(){return this.dom.playbackRate}}]),e}();e.exports=function(e){var t=new f(e);return e.videoPanel=t,t}},function(e,t,n){var r;e.exports=function e(t,n,i){function a(s,l){if(!n[s]){if(!t[s]){if(!l&&("function"==typeof r&&r))return r(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return a(t[s][1][e]||e)}),c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof r&&r,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(o(n=this._events[e]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(a(n))for(s=Array.prototype.slice.call(arguments,1),r=(u=n.slice()).length,l=0;l<r;l++)u[l].apply(this,s);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(e,t,n){!function(e){var r=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/;?#]*)(.*)$/,a=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=this.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");return r.path=s.normalizePath(r.path),s.buildURLFromParts(r)}var a=this.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=s.normalizePath(a.path),s.buildURLFromParts(a)):t;var o=this.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var l=i.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path="/");var u={scheme:o.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(u.netLoc=o.netLoc,"/"!==a.path[0]))if(a.path){var c=o.path,d=c.substring(0,c.lastIndexOf("/")+1)+a.path;u.path=s.normalizePath(d)}else u.path=o.path,a.params||(u.params=o.params,a.query||(u.query=o.query));return null===u.path&&(u.path=n.alwaysNormalize?s.normalizePath(a.path):a.path),s.buildURLFromParts(u)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(a,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};"object"==typeof n&&"object"==typeof t?t.exports=s:"object"==typeof n?n.URLToolkit=s:e.URLToolkit=s}(this)},{}],3:[function(e,t,n){var r=arguments[3],i=arguments[4],a=arguments[5],o=JSON.stringify;t.exports=function(e,t){for(var n,s=Object.keys(a),l=0,u=s.length;l<u;l++){var c=s[l],d=a[c].exports;if(d===e||d&&d.default===e){n=c;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var f={};for(l=0,u=s.length;l<u;l++){f[c=s[l]]=c}i[n]=[Function(["require","module","exports"],"("+e+")(self)"),f]}var h=Math.floor(Math.pow(16,8)*Math.random()).toString(16),p={};p[n]=n,i[h]=[Function(["require"],"var f = require("+o(n)+");(f.default ? f.default : f)(self);"),p];var v={};!function e(t){for(var n in v[t]=!0,i[t][1]){var r=i[t][1][n];v[r]||e(r)}}(h);var g="("+r+")({"+Object.keys(v).map((function(e){return o(e)+":["+i[e][0]+","+o(i[e][1])+"]"})).join(",")+"},{},["+o(h)+"])",m=window.URL||window.webkitURL||window.mozURL||window.msURL,y=new Blob([g],{type:"text/javascript"});if(t&&t.bare)return y;var A=m.createObjectURL(y),_=new Worker(A);return _.objectURL=A,_}},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hlsDefaultConfig=void 0;var r=p(e(5)),i=p(e(8)),a=p(e(9)),o=p(e(10)),s=p(e(59)),l=p(e(7)),u=p(e(6)),c=p(e(50)),d=p(e(16)),f=p(e(15)),h=p(e(14));function p(e){return e&&e.__esModule?e:{default:e}}n.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:s.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:r.default,bufferController:i.default,capLevelController:a.default,fpsController:o.default,audioStreamController:u.default,audioTrackController:l.default,subtitleStreamController:h.default,subtitleTrackController:f.default,timelineController:d.default,cueHandler:c.default,enableCEA708Captions:!0,enableWebVTT:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",stretchShortVideoTrack:!1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0}},{10:10,14:14,15:15,16:16,5:5,50:50,59:59,6:6,7:7,8:8,9:9}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(e(35)),a=c(e(34)),o=c(e(37)),s=e(33),l=e(54),u=c(e(52));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.FRAG_LOADING,i.default.FRAG_LOADED,i.default.FRAG_BUFFERED,i.default.ERROR));return n.lastLoadedFragLevel=0,n._nextAutoLevel=-1,n.hls=e,n.timer=null,n._bwEstimator=null,n.onCheck=n._abandonRulesCheck.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){this.clearTimer(),a.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=e.frag;if("main"===t.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this._bwEstimator){var n=this.hls,r=e.frag.level,i=n.levels[r].details.live,a=n.config,o=void 0,s=void 0;i?(o=a.abrEwmaFastLive,s=a.abrEwmaSlowLive):(o=a.abrEwmaFastVoD,s=a.abrEwmaSlowVoD),this._bwEstimator=new u.default(n,s,o,a.abrEwmaDefaultEstimate)}this.fragCurrent=t}}},{key:"_abandonRulesCheck",value:function(){var e=this.hls,t=e.media,n=this.fragCurrent,r=n.loader,a=e.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return l.logger.warn("frag loader destroy or aborted, disarm abandonRules"),void this.clearTimer();var s=r.stats;if(t&&s&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&n.autoLevel&&n.level){var u=performance.now()-s.trequest,c=Math.abs(t.playbackRate);if(u>500*n.duration/c){var d=e.levels,f=Math.max(1,s.bw?s.bw/8:1e3*s.loaded/u),h=d[n.level],p=h.realBitrate?Math.max(h.realBitrate,h.bitrate):h.bitrate,v=s.total?s.total:Math.max(s.loaded,Math.round(n.duration*p/8)),g=t.currentTime,m=(v-s.loaded)/f,y=(o.default.bufferInfo(t,g,e.config.maxBufferHole).end-g)/c;if(y<2*n.duration/c&&m>y){var A=void 0,_=void 0;for(_=n.level-1;_>a;_--){var b=d[_].realBitrate?Math.max(d[_].realBitrate,d[_].bitrate):d[_].bitrate;if((A=n.duration*b/(6.4*f))<y)break}A<m&&(l.logger.warn("loading too slow, abort fragment loading and switch to level "+_+":fragLoadedDelay["+_+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+A.toFixed(1)+"<"+m.toFixed(1)+":"+y.toFixed(1)),e.nextLoadLevel=_,this._bwEstimator.sample(u,s.loaded),r.abort(),this.clearTimer(),e.trigger(i.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:s}))}}}}},{key:"onFragLoaded",value:function(e){var t=e.frag;if("main"===t.type&&!isNaN(t.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var n=this.hls.levels[t.level],r=(n.loaded?n.loaded.bytes:0)+e.stats.loaded,i=(n.loaded?n.loaded.duration:0)+e.frag.duration;n.loaded={bytes:r,duration:i},n.realBitrate=Math.round(8*r/i)}if(e.frag.bitrateTest){var a=e.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(e)}}}},{key:"onFragBuffered",value:function(e){var t=e.stats,n=e.frag;if(!(!0===t.aborted||1!==n.loadCounter||"main"!==n.type||isNaN(n.sn)||n.bitrateTest&&t.tload!==t.tbuffered)){var r=t.tparsed-t.trequest;l.logger.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this._bwEstimator.sample(r,t.loaded),t.bwEstimate=this._bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=r/1e3:this.bitrateTestDelay=0}}},{key:"onError",value:function(e){switch(e.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}}},{key:"clearTimer",value:function(){clearInterval(this.timer),this.timer=null}},{key:"_findBestLevel",value:function(e,t,n,r,i,a,o,s,u){for(var c=i;c>=r;c--){var d,f=u[c].details,h=f?f.totalduration/f.fragments.length:t,p=!!f&&f.live;d=c<=e?o*n:s*n;var v=u[c].realBitrate?Math.max(u[c].realBitrate,u[c].bitrate):u[c].bitrate,g=v*h/d;if(l.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(d)+"/"+v+"/"+h+"/"+a+"/"+g),d>v&&(!g||p&&!this.bitrateTestDelay||g<a))return c}return-1}},{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var n=this._nextABRAutoLevel;return-1!==e&&(n=Math.min(e,n)),n},set:function(e){this._nextAutoLevel=e}},{key:"_nextABRAutoLevel",get:function(){var e=this.hls,t=e.maxAutoLevel,n=e.levels,r=e.config,i=e.minAutoLevel,a=e.media,s=this.lastLoadedFragLevel,u=this.fragCurrent?this.fragCurrent.duration:0,c=a?a.currentTime:0,d=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,f=this._bwEstimator?this._bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,h=(o.default.bufferInfo(a,c,r.maxBufferHole).end-c)/d,p=this._findBestLevel(s,u,f,i,t,h,r.abrBandWidthFactor,r.abrBandWidthUpFactor,n);if(p>=0)return p;l.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var v=u?Math.min(u,r.maxStarvationDelay):r.maxStarvationDelay,g=r.abrBandWidthFactor,m=r.abrBandWidthUpFactor;if(0===h){var y=this.bitrateTestDelay;if(y)v=(u?Math.min(u,r.maxLoadingDelay):r.maxLoadingDelay)-y,l.logger.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*v)+" ms"),g=m=1}return p=this._findBestLevel(s,u,f,i,t,h+v,g,m,n),Math.max(p,0)}}]),t}(a.default);n.default=d},{33:33,34:34,35:35,37:37,52:52,54:54}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(e(48)),a=p(e(37)),o=p(e(25)),s=p(e(35)),l=p(e(34)),u=p(e(38)),c=p(e(55)),d=e(33),f=e(54),h=e(51);function p(e){return e&&e.__esModule?e:{default:e}}var v={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS"},g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.MEDIA_ATTACHED,s.default.MEDIA_DETACHING,s.default.AUDIO_TRACKS_UPDATED,s.default.AUDIO_TRACK_SWITCHING,s.default.AUDIO_TRACK_LOADED,s.default.KEY_LOADED,s.default.FRAG_LOADED,s.default.FRAG_PARSING_INIT_SEGMENT,s.default.FRAG_PARSING_DATA,s.default.FRAG_PARSED,s.default.ERROR,s.default.BUFFER_CREATED,s.default.BUFFER_APPENDED,s.default.BUFFER_FLUSHED,s.default.INIT_PTS_FOUND));return n.config=e.config,n.audioCodecSwap=!1,n.ticks=0,n._state=v.STOPPED,n.ontick=n.tick.bind(n),n.initPTS=[],n.waitingFragment=null,n.videoTrackCC=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),l.default.prototype.destroy.call(this),this.state=v.STOPPED}},{key:"onInitPtsFound",value:function(e){var t=e.id,n=e.frag.cc,r=e.initPTS;"main"===t&&(this.initPTS[n]=r,this.videoTrackCC=n,f.logger.log("InitPTS for cc:"+n+" found from video track:"+r),this.state===v.WAITING_INIT_PTS&&this.tick())}},{key:"startLoad",value:function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,t>0&&-1===e?(f.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=v.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=v.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=v.STOPPED}},{key:"stopLoad",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=v.STOPPED}},{key:"tick",value:function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){var e,t,n,r=this.hls,o=r.config;switch(this.state){case v.ERROR:case v.PAUSED:case v.BUFFER_FLUSHING:break;case v.STARTING:this.state=v.WAITING_TRACK,this.loadedmetadata=!1;break;case v.IDLE:var l=this.tracks;if(!l)break;if(!this.media&&(this.startFragRequested||!o.startFragPrefetch))break;if(this.loadedmetadata)e=this.media.currentTime;else if(void 0===(e=this.nextLoadPosition))break;var u=this.mediaBuffer?this.mediaBuffer:this.media,c=a.default.bufferInfo(u,e,o.maxBufferHole),p=c.len,g=c.end,m=this.fragPrevious,y=o.maxMaxBufferLength,A=this.audioSwitch,_=this.trackId;if((p<y||A)&&_<l.length){if(void 0===(n=l[_].details)){this.state=v.WAITING_TRACK;break}if(!A&&!n.live&&m&&m.sn===n.endSN&&(!this.media.seeking||this.media.duration-g<m.duration/2)){this.hls.trigger(s.default.BUFFER_EOS,{type:"audio"}),this.state=v.ENDED;break}var b=n.fragments,E=b.length,w=b[0].start,S=b[E-1].start+b[E-1].duration,k=void 0;if(A)if(n.live&&!n.PTSKnown)f.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),g=0;else if(g=e,n.PTSKnown&&e<w){if(!(c.end>w||c.nextStart))return;f.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=w+.05}if(n.initSegment&&!n.initSegment.data)k=n.initSegment;else if(g<=w){if(k=b[0],null!==this.videoTrackCC&&k.cc!==this.videoTrackCC&&(k=(0,h.findFragWithCC)(b,this.videoTrackCC)),n.live&&k.loadIdx&&k.loadIdx===this.fragLoadIdx){var C=c.nextStart?c.nextStart:w;return f.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(C+.05)),void(this.media.currentTime=C+.05)}}else{var T=void 0,I=o.maxFragLookUpTolerance,x=m?b[m.sn-b[0].sn+1]:void 0,R=function(e){var t=Math.min(I,e.duration);return e.start+e.duration-t<=g?1:e.start-t>g&&e.start?-1:0};g<S?(g>S-I&&(I=0),T=x&&!R(x)?x:i.default.search(b,R)):T=b[E-1],T&&(k=T,w=T.start,m&&k.level===m.level&&k.sn===m.sn&&(k.sn<n.endSN?(k=b[k.sn+1-n.startSN],f.logger.log("SN just loaded, load next one: "+k.sn)):k=null))}if(k)if(k.decryptdata&&null!=k.decryptdata.uri&&null==k.decryptdata.key)f.logger.log("Loading key for "+k.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+_),this.state=v.KEY_LOADING,r.trigger(s.default.KEY_LOADING,{frag:k});else{if(f.logger.log("Loading "+k.sn+", cc: "+k.cc+" of ["+n.startSN+" ,"+n.endSN+"],track "+_+", currentTime:"+e+",bufferEnd:"+g.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,k.loadCounter){k.loadCounter++;var L=o.fragLoadingLoopThreshold;if(k.loadCounter>L&&Math.abs(this.fragLoadIdx-k.loadIdx)<L)return void r.trigger(s.default.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:k})}else k.loadCounter=1;k.loadIdx=this.fragLoadIdx,this.fragCurrent=k,this.startFragRequested=!0,isNaN(k.sn)||(this.nextLoadPosition=k.start+k.duration),r.trigger(s.default.FRAG_LOADING,{frag:k}),this.state=v.FRAG_LOADING}}break;case v.WAITING_TRACK:(t=this.tracks[this.trackId])&&t.details&&(this.state=v.IDLE);break;case v.FRAG_LOADING_WAITING_RETRY:var O=performance.now(),D=this.retryDate,M=(u=this.media)&&u.seeking;(!D||O>=D||M)&&(f.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=v.IDLE);break;case v.WAITING_INIT_PTS:var P=this.videoTrackCC;if(void 0===this.initPTS[P])break;var N=this.waitingFragment;if(N){var F=N.frag.cc;P!==F?(t=this.tracks[this.trackId]).details&&t.details.live&&(f.logger.warn("Waiting fragment CC ("+F+") does not match video track CC ("+P+")"),this.waitingFragment=null,this.state=v.IDLE):(this.state=v.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=v.IDLE;break;case v.STOPPED:case v.FRAG_LOADING:case v.PARSING:case v.PARSED:case v.ENDED:}}},{key:"onMediaAttached",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&e.ended&&(f.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.tracks;t&&t.forEach((function(e){e.details&&e.details.fragments.forEach((function(e){e.loadCounter=void 0}))})),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){this.state===v.ENDED&&(this.state=v.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()}},{key:"onMediaEnded",value:function(){this.startPosition=this.lastCurrentTime=0}},{key:"onAudioTracksUpdated",value:function(e){f.logger.log("audio tracks updated"),this.tracks=e.audioTracks}},{key:"onAudioTrackSwitching",value:function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=v.PAUSED,this.waitingFragment=null,t?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=v.IDLE,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()}},{key:"onAudioTrackLoaded",value:function(e){var t=e.details,n=e.id,r=this.tracks[n],i=t.totalduration,a=0;if(f.logger.log("track "+n+" loaded ["+t.startSN+","+t.endSN+"],duration:"+i),t.live){var o=r.details;o&&t.fragments.length>0?(u.default.mergeDetails(o,t),a=t.fragments[0].start,t.PTSKnown?f.logger.log("live audio playlist sliding:"+a.toFixed(3)):f.logger.log("live audio playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,f.logger.log("live audio playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(r.details=t,!this.startFragRequested){if(-1===this.startPosition){var s=t.startTimeOffset;isNaN(s)?this.startPosition=0:(f.logger.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s)}this.nextLoadPosition=this.startPosition}this.state===v.WAITING_TRACK&&(this.state=v.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===v.KEY_LOADING&&(this.state=v.IDLE,this.tick())}},{key:"onFragLoaded",value:function(e){var t=this.fragCurrent,n=e.frag;if(this.state===v.FRAG_LOADING&&t&&"audio"===n.type&&n.level===t.level&&n.sn===t.sn){var r=this.tracks[this.trackId],i=r.details,a=i.totalduration,l=t.level,u=t.sn,c=t.cc,d=this.config.defaultAudioCodec||r.audioCodec||"mp4a.40.2",h=this.stats=e.stats;if("initSegment"===u)this.state=v.IDLE,h.tparsed=h.tbuffered=performance.now(),i.initSegment.data=e.payload,this.hls.trigger(s.default.FRAG_BUFFERED,{stats:h,frag:t,id:"audio"}),this.tick();else{this.state=v.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new o.default(this.hls,"audio"));var p=this.initPTS[c],g=i.initSegment?i.initSegment.data:[];i.initSegment||void 0!==p?(this.pendingBuffering=!0,f.logger.log("Demuxing "+u+" of ["+i.startSN+" ,"+i.endSN+"],track "+l),this.demuxer.push(e.payload,g,d,null,t,a,!1,p)):(f.logger.log("unknown video PTS for continuity counter "+c+", waiting for video PTS before demuxing audio frag "+u+" of ["+i.startSN+" ,"+i.endSN+"],track "+l),this.waitingFragment=e,this.state=v.WAITING_INIT_PTS)}}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(e){var t=this.fragCurrent,n=e.frag;if(t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===v.PARSING){var r=e.tracks,i=void 0;if(r.video&&delete r.video,i=r.audio){i.levelCodec=i.codec,i.id=e.id,this.hls.trigger(s.default.BUFFER_CODECS,r),f.logger.log("audio track:audio,container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var a=i.initSegment;if(a){var o={type:"audio",data:a,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(s.default.BUFFER_APPENDING,o))}this.tick()}}}},{key:"onFragParsingData",value:function(e){var t=this,n=this.fragCurrent,r=e.frag;if(n&&"audio"===e.id&&"audio"===e.type&&r.sn===n.sn&&r.level===n.level&&this.state===v.PARSING){var i=this.trackId,a=this.tracks[i],o=this.hls;isNaN(e.endPTS)&&(e.endPTS=e.startPTS+n.duration,e.endDTS=e.startDTS+n.duration),f.logger.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),u.default.updateFragPTSDTS(a.details,n,e.startPTS,e.endPTS);var l=this.audioSwitch,c=this.media,d=!1;if(l&&c)if(c.readyState){var h=c.currentTime;f.logger.log("switching audio track : currentTime:"+h),h>=e.startPTS&&(f.logger.log("switching audio track : flushing all audio"),this.state=v.BUFFER_FLUSHING,o.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),d=!0,this.audioSwitch=!1,o.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:i}))}else this.audioSwitch=!1,o.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:i});var p=this.pendingData;this.audioSwitch||([e.data1,e.data2].forEach((function(t){t&&t.length&&p.push({type:e.type,data:t,parent:"audio",content:"data"})})),!d&&p.length&&(p.forEach((function(e){t.state===v.PARSING&&(t.pendingBuffering=!0,t.hls.trigger(s.default.BUFFER_APPENDING,e))})),this.pendingData=[],this.appended=!0)),this.tick()}}},{key:"onFragParsed",value:function(e){var t=this.fragCurrent,n=e.frag;t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===v.PARSING&&(this.stats.tparsed=performance.now(),this.state=v.PARSED,this._checkAppendedParsed())}},{key:"onBufferCreated",value:function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0)}},{key:"onBufferAppended",value:function(e){if("audio"===e.parent){var t=this.state;t!==v.PARSING&&t!==v.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}}},{key:"_checkAppendedParsed",value:function(){if(!(this.state!==v.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,n=this.hls;if(e){this.fragPrevious=e,t.tbuffered=performance.now(),n.trigger(s.default.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var r=this.mediaBuffer?this.mediaBuffer:this.media;f.logger.log("audio buffered : "+c.default.toString(r.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=v.IDLE}this.tick()}}},{key:"onError",value:function(e){var t=e.frag;if(!t||"audio"===t.type)switch(e.details){case d.ErrorDetails.FRAG_LOAD_ERROR:case d.ErrorDetails.FRAG_LOAD_TIMEOUT:if(!e.fatal){var n=this.fragLoadError;n?n++:n=1;var r=this.config;if(n<=r.fragLoadingMaxRetry){this.fragLoadError=n,t.loadCounter=0;var i=Math.min(Math.pow(2,n-1)*r.fragLoadingRetryDelay,r.fragLoadingMaxRetryTimeout);f.logger.warn("audioStreamController: frag loading failed, retry in "+i+" ms"),this.retryDate=performance.now()+i,this.state=v.FRAG_LOADING_WAITING_RETRY}else f.logger.error("audioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=v.ERROR}break;case d.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case d.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case d.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case d.ErrorDetails.KEY_LOAD_ERROR:case d.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==v.ERROR&&(this.state=e.fatal?v.ERROR:v.IDLE,f.logger.warn("audioStreamController: "+e.details+" while loading frag,switch to "+this.state+" state ..."));break;case d.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===e.parent&&(this.state===v.PARSING||this.state===v.PARSED)){var o=this.mediaBuffer,l=this.media.currentTime;if(o&&a.default.isBuffered(o,l)&&a.default.isBuffered(o,l+.5)){var u=this.config;u.maxMaxBufferLength>=u.maxBufferLength&&(u.maxMaxBufferLength/=2,f.logger.warn("audio:reduce max buffer length to "+u.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*u.fragLoadingLoopThreshold),this.state=v.IDLE}else f.logger.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=v.BUFFER_FLUSHING,this.hls.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}}},{key:"onBufferFlushed",value:function(){var e=this,t=this.pendingData;t&&t.length?(f.logger.log("appending pending audio data on Buffer Flushed"),t.forEach((function(t){e.hls.trigger(s.default.BUFFER_APPENDING,t)})),this.appended=!0,this.pendingData=[],this.state=v.PARSED):(this.state=v.IDLE,this.fragPrevious=null,this.tick())}},{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,f.logger.log("audio stream:"+t+"->"+e)}},get:function(){return this._state}}]),t}(l.default);n.default=g},{25:25,33:33,34:34,35:35,37:37,38:38,48:48,51:51,54:54,55:55}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(e(35)),a=l(e(34)),o=e(54),s=e(33);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.MANIFEST_LOADING,i.default.MANIFEST_LOADED,i.default.AUDIO_TRACK_LOADED,i.default.ERROR));return n.ticks=0,n.ontick=n.tick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){this.cleanTimer(),a.default.prototype.destroy.call(this)}},{key:"cleanTimer",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"tick",value:function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){this.updateTrack(this.trackId)}},{key:"onError",value:function(e){e.fatal&&e.type===s.ErrorTypes.NETWORK_ERROR&&this.cleanTimer()}},{key:"onManifestLoading",value:function(){this.tracks=[],this.trackId=-1}},{key:"onManifestLoaded",value:function(e){var t=this,n=e.audioTracks||[],r=!1;this.tracks=n,this.hls.trigger(i.default.AUDIO_TRACKS_UPDATED,{audioTracks:n});var a=0;n.forEach((function(e){if(e.default&&!r)return t.audioTrack=a,void(r=!0);a++})),!1===r&&n.length&&(o.logger.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)}},{key:"onAudioTrackLoaded",value:function(e){e.id<this.tracks.length&&(o.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*e.details.targetduration)),!e.details.live&&this.timer&&this.cleanTimer())}},{key:"setAudioTrackInternal",value:function(e){if(e>=0&&e<this.tracks.length){this.cleanTimer(),this.trackId=e,o.logger.log("switching to audioTrack "+e);var t=this.tracks[e],n=this.hls,r=t.type,a=t.url,s={id:e,type:r,url:a};n.trigger(i.default.AUDIO_TRACK_SWITCH,s),n.trigger(i.default.AUDIO_TRACK_SWITCHING,s);var l=t.details;!a||void 0!==l&&!0!==l.live||(o.logger.log("(re)loading playlist for audioTrack "+e),n.trigger(i.default.AUDIO_TRACK_LOADING,{url:a,id:e}))}}},{key:"updateTrack",value:function(e){if(e>=0&&e<this.tracks.length){this.cleanTimer(),this.trackId=e,o.logger.log("updating audioTrack "+e);var t=this.tracks[e],n=t.url,r=t.details;!n||void 0!==r&&!0!==r.live||(o.logger.log("(re)loading playlist for audioTrack "+e),this.hls.trigger(i.default.AUDIO_TRACK_LOADING,{url:n,id:e}))}}},{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.trackId===e&&void 0!==this.tracks[e].details||this.setAudioTrackInternal(e)}}]),t}(a.default);n.default=u},{33:33,34:34,35:35,54:54}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(e(35)),a=l(e(34)),o=e(54),s=e(33);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.MEDIA_ATTACHING,i.default.MEDIA_DETACHING,i.default.MANIFEST_PARSED,i.default.BUFFER_RESET,i.default.BUFFER_APPENDING,i.default.BUFFER_CODECS,i.default.BUFFER_EOS,i.default.BUFFER_FLUSHING,i.default.LEVEL_PTS_UPDATED,i.default.LEVEL_UPDATED));return n._msDuration=null,n._levelDuration=null,n.onsbue=n.onSBUpdateEnd.bind(n),n.onsbe=n.onSBUpdateError.bind(n),n.pendingTracks={},n.tracks={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){a.default.prototype.destroy.call(this)}},{key:"onLevelPtsUpdated",value:function(e){var t=e.type,n=this.tracks.audio;if("audio"===t&&n&&"audio/mpeg"===n.container){var r=this.sourceBuffer.audio;if(Math.abs(r.timestampOffset-e.start)>.1){var i=r.updating;try{r.abort()}catch(e){i=!0,o.logger.warn("can not abort audio buffer: "+e)}i?this.audioTimestampOffset=e.start:(o.logger.warn("change mpeg audio timestamp offset from "+r.timestampOffset+" to "+e.start),r.timestampOffset=e.start)}}}},{key:"onManifestParsed",value:function(e){var t=e.audio,n=e.video||e.levels.length&&e.audio,r=0;e.altAudio&&(t||n)&&(r=(t?1:0)+(n?1:0),o.logger.log(r+" sourceBuffer(s) expected")),this.sourceBufferNb=r}},{key:"onMediaAttaching",value:function(e){var t=this.media=e.media;if(t){var n=this.mediaSource=new MediaSource;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),n.addEventListener("sourceopen",this.onmso),n.addEventListener("sourceended",this.onmse),n.addEventListener("sourceclose",this.onmsc),t.src=URL.createObjectURL(n)}}},{key:"onMediaDetaching",value:function(){o.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){o.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this.media.src),this.media.removeAttribute("src"),this.media.load()),this.mediaSource=null,this.media=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(i.default.MEDIA_DETACHED)}},{key:"onMediaSourceOpen",value:function(){o.logger.log("media source opened"),this.hls.trigger(i.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()}},{key:"checkPendingTracks",value:function(){var e=this.pendingTracks,t=Object.keys(e).length;t&&(this.sourceBufferNb<=t||0===this.sourceBufferNb)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())}},{key:"onMediaSourceClose",value:function(){o.logger.log("media source closed")}},{key:"onMediaSourceEnded",value:function(){o.logger.log("media source ended")}},{key:"onSBUpdateEnd",value:function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;o.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,n=this.segments.reduce((function(e,n){return n.parent===t?e+1:e}),0);this.hls.trigger(i.default.BUFFER_APPENDED,{parent:t,pending:n}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()}},{key:"onSBUpdateError",value:function(e){o.logger.error("sourceBuffer error:",e),this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferReset",value:function(){var e=this.sourceBuffer;for(var t in e){var n=e[t];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}},{key:"onBufferCodecs",value:function(e){if(0===Object.keys(this.sourceBuffer).length){for(var t in e)this.pendingTracks[t]=e[t];var n=this.mediaSource;n&&"open"===n.readyState&&this.checkPendingTracks()}}},{key:"createSourceBuffers",value:function(e){var t=this.sourceBuffer,n=this.mediaSource;for(var r in e)if(!t[r]){var a=e[r],l=a.levelCodec||a.codec,u=a.container+";codecs="+l;o.logger.log("creating sourceBuffer("+u+")");try{var c=t[r]=n.addSourceBuffer(u);c.addEventListener("updateend",this.onsbue),c.addEventListener("error",this.onsbe),this.tracks[r]={codec:l,container:a.container},a.buffer=c}catch(e){o.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:u})}}this.hls.trigger(i.default.BUFFER_CREATED,{tracks:e})}},{key:"onBufferAppending",value:function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())}},{key:"onBufferAppendFail",value:function(e){o.logger.error("sourceBuffer error:",e.event),this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferEos",value:function(e){var t=this.sourceBuffer,n=e.type;for(var r in t)n&&r!==n||t[r].ended||(t[r].ended=!0,o.logger.log(r+" sourceBuffer now EOS"));this.checkEos()}},{key:"checkEos",value:function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var n in e){var r=e[n];if(!r.ended)return;if(r.updating)return void(this._needsEos=!0)}o.logger.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){o.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1}},{key:"onBufferFlushing",value:function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()}},{key:"onLevelUpdated",value:function(e){var t=e.details;0!==t.fragments.length&&(this._levelDuration=t.totalduration+t.fragments[0].start,this.updateMediaElementDuration())}},{key:"updateMediaElementDuration",value:function(){var e=this.media,t=this.mediaSource,n=this.sourceBuffer,r=this._levelDuration;if(null!==r&&e&&t&&n&&0!==e.readyState&&"open"===t.readyState){for(var i in n)if(n[i].updating)return;null===this._msDuration&&(this._msDuration=t.duration);var a=e.duration;(r>this._msDuration&&r>a||a===1/0||isNaN(a))&&(o.logger.log("Updating mediasource duration to "+r.toFixed(3)),this._msDuration=t.duration=r)}}},{key:"doFlush",value:function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,n=this.sourceBuffer;try{for(var r in n)t+=n[r].buffered.length}catch(e){o.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(i.default.BUFFER_FLUSHED)}}},{key:"doAppending",value:function(){var e=this.hls,t=this.sourceBuffer,n=this.segments;if(Object.keys(t).length){if(this.media.error)return this.segments=[],void o.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(n&&n.length){var r=n.shift();try{var a=t[r.type];a?a.updating?n.unshift(r):(a.ended=!1,this.parent=r.parent,a.appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(t){o.logger.error("error while trying to append buffer:"+t.message),n.unshift(r);var l={type:s.ErrorTypes.MEDIA_ERROR,parent:r.parent};if(22===t.code)return this.segments=[],l.details=s.ErrorDetails.BUFFER_FULL_ERROR,l.fatal=!1,void e.trigger(i.default.ERROR,l);if(this.appendError?this.appendError++:this.appendError=1,l.details=s.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry)return o.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),n=[],l.fatal=!0,void e.trigger(i.default.ERROR,l);l.fatal=!1,e.trigger(i.default.ERROR,l)}}}}},{key:"flushBuffer",value:function(e,t,n){var r,i,a,s,l,u,c=this.sourceBuffer;if(Object.keys(c).length){if(o.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var d in c)if(!n||d===n){if((r=c[d]).ended=!1,r.updating)return o.logger.warn("cannot flush, sb updating in progress"),!1;try{for(i=0;i<r.buffered.length;i++)if(a=r.buffered.start(i),s=r.buffered.end(i),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&t===Number.POSITIVE_INFINITY?(l=e,u=t):(l=Math.max(a,e),u=Math.min(s,t)),Math.min(u,s)-l>.5)return this.flushBufferCounter++,o.logger.log("flush "+d+" ["+l+","+u+"], of ["+a+","+s+"], pos:"+this.media.currentTime),r.remove(l,u),!1}catch(e){o.logger.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else o.logger.warn("abort flushing too many retries");o.logger.log("buffer flushed")}return!0}}]),t}(a.default);n.default=u},{33:33,34:34,35:35,54:54}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(e(35));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.FPS_DROP_LEVEL_CAPPING,i.default.MEDIA_ATTACHING,i.default.MANIFEST_PARSED))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))}},{key:"onFpsDropLevelCapping",value:function(e){t.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)}},{key:"onMediaAttaching",value:function(e){this.media=e.media instanceof HTMLVideoElement?e.media:null}},{key:"onManifestParsed",value:function(e){var t=this.hls;this.restrictedLevels=[],t.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=e.levels,t.firstLevel=this.getMaxLevel(e.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:"detectPlayerSize",value:function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}},{key:"getMaxLevel",value:function(e){var n=this;if(!this.levels)return-1;var r=this.levels.filter((function(r,i){return t.isLevelAllowed(i,n.restrictedLevels)&&i<=e}));return t.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)}},{key:"mediaWidth",get:function(){var e=void 0,n=this.media;return n&&(e=n.width||n.clientWidth||n.offsetWidth,e*=t.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e=void 0,n=this.media;return n&&(e=n.height||n.clientHeight||n.offsetHeight,e*=t.contentScaleFactor),e}}],[{key:"isLevelAllowed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return-1===t.indexOf(e)}},{key:"getMaxLevelByMediaSize",value:function(e,t,n){if(!e||e&&!e.length)return-1;for(var r=function(e,t){return!t||e.width!==t.width||e.height!==t.height},i=e.length-1,a=0;a<e.length;a+=1){var o=e[a];if((o.width>=t||o.height>=n)&&r(o,e[a+1])){i=a;break}}return i}},{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}}]),t}(a(e(34)).default);n.default=o},{34:34,35:35}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(e(35)),a=s(e(34)),o=e(54);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.MEDIA_ATTACHING))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1}},{key:"onMediaAttaching",value:function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"==typeof(this.video=e.media instanceof HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))}},{key:"checkFPS",value:function(e,t,n){var r=performance.now();if(t){if(this.lastTime){var a=r-this.lastTime,s=n-this.lastDroppedFrames,l=t-this.lastDecodedFrames,u=1e3*s/a,c=this.hls;if(c.trigger(i.default.FPS_DROP,{currentDropped:s,currentDecoded:l,totalDroppedFrames:n}),u>0&&s>c.config.fpsDroppedMonitoringThreshold*l){var d=c.currentLevel;o.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=d)&&(d-=1,c.trigger(i.default.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:c.currentLevel}),c.autoLevelCapping=d,c.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=t}}},{key:"checkFPSInterval",value:function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}]),t}(a.default);n.default=l},{34:34,35:35,54:54}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(e(35)),a=s(e(34)),o=s(e(27));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.FRAG_PARSING_METADATA));return n.id3Track=void 0,n.media=void 0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){a.default.prototype.destroy.call(this)}},{key:"onMediaAttached",value:function(e){this.media=e.media,this.media&&(this.id3Track=this.media.addTextTrack("metadata","id3"),this.id3Track.mode="hidden")}},{key:"onMediaDetaching",value:function(){this.media=void 0}},{key:"onFragParsingMetadata",value:function(e){for(var t=e.frag,n=e.samples,r=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,i=0;i<n.length;i++){var a=o.default.getID3Frames(n[i].data);if(a){var s=n[i].pts,l=i<n.length-1?n[i+1].pts:t.endPTS;s===l&&(l+=1e-4);for(var u=0;u<a.length;u++){var c=a[u];if(!o.default.isTimeStampFrame(c)){var d=new r(s,l,"");d.value=c,this.id3Track.addCue(d)}}}}}}]),t}(a.default);n.default=l},{27:27,34:34,35:35}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(e(35)),a=u(e(34)),o=e(54),s=e(33),l=u(e(37));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.MANIFEST_LOADED,i.default.LEVEL_LOADED,i.default.FRAG_LOADED,i.default.ERROR));return n.ontick=n.tick.bind(n),n._manualLevel=-1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){this.cleanTimer(),this._manualLevel=-1}},{key:"cleanTimer",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"startLoad",value:function(){this.canload=!0;var e=this._levels;e&&e.forEach((function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)})),this.timer&&this.tick()}},{key:"stopLoad",value:function(){this.canload=!1}},{key:"onManifestLoaded",value:function(e){var t,n=[],r=[],a={},l=!1,u=!1,c=this.hls,d=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),f=function(e,t){return MediaSource.isTypeSupported(e+"/mp4;codecs="+t)};if(e.levels.forEach((function(e){e.videoCodec&&(l=!0),d&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(e.audioCodec||e.attrs&&e.attrs.AUDIO)&&(u=!0);var t=a[e.bitrate];void 0===t?(a[e.bitrate]=n.length,e.url=[e.url],e.urlId=0,n.push(e)):n[t].url.push(e.url)})),l&&u?n.forEach((function(e){e.videoCodec&&r.push(e)})):r=n,(r=r.filter((function(e){var t=e.audioCodec,n=e.videoCodec;return(!t||f("audio",t))&&(!n||f("video",n))}))).length){t=r[0].bitrate,r.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=r;for(var h=0;h<r.length;h++)if(r[h].bitrate===t){this._firstLevel=h,o.logger.log("manifest loaded,"+r.length+" level(s) found, first bitrate:"+t);break}c.trigger(i.default.MANIFEST_PARSED,{levels:r,firstLevel:this._firstLevel,stats:e.stats,audio:u,video:l,altAudio:e.audioTracks.length>0})}else c.trigger(i.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:c.url,reason:"no level with compatible codecs found in manifest"})}},{key:"setLevelInternal",value:function(e){var t=this._levels,n=this.hls;if(e>=0&&e<t.length){if(this.cleanTimer(),this._level!==e){o.logger.log("switching to level "+e),this._level=e;var r=t[e];r.level=e,n.trigger(i.default.LEVEL_SWITCH,r),n.trigger(i.default.LEVEL_SWITCHING,r)}var a=t[e],l=a.details;if(!l||!0===l.live){var u=a.urlId;n.trigger(i.default.LEVEL_LOADING,{url:a.url[u],level:e,id:u})}}else n.trigger(i.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})}},{key:"onError",value:function(e){if(e.fatal)e.type===s.ErrorTypes.NETWORK_ERROR&&this.cleanTimer();else{var t=e.details,n=this.hls,r=void 0,i=void 0,a=!1;switch(t){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:case s.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case s.ErrorDetails.KEY_LOAD_ERROR:case s.ErrorDetails.KEY_LOAD_TIMEOUT:r=e.frag.level;break;case s.ErrorDetails.LEVEL_LOAD_ERROR:case s.ErrorDetails.LEVEL_LOAD_TIMEOUT:r=e.context.level,a=!0;break;case s.ErrorDetails.REMUX_ALLOC_ERROR:r=e.level}if(void 0!==r){(i=this._levels[r]).loadError?i.loadError++:i.loadError=1;var u=i.url.length;if(u>1&&i.loadError<u)i.urlId=(i.urlId+1)%u,i.details=void 0,o.logger.warn("level controller,"+t+" for level "+r+": switching to redundant stream id "+i.urlId);else if(-1===this._manualLevel&&r)o.logger.warn("level controller,"+t+": switch-down for next fragment"),n.nextAutoLevel=Math.max(0,r-1);else if(i&&i.details&&i.details.live)o.logger.warn("level controller,"+t+" on live stream, discard"),a&&(this._level=void 0);else if(t===s.ErrorDetails.LEVEL_LOAD_ERROR||t===s.ErrorDetails.LEVEL_LOAD_TIMEOUT){var c=n.media;if(c&&l.default.isBuffered(c,c.currentTime)&&l.default.isBuffered(c,c.currentTime+.5)){var d=n.config.levelLoadingRetryDelay;o.logger.warn("level controller,"+t+", but media buffered, retry in "+d+"ms"),this.timer=setTimeout(this.ontick,d),e.levelRetry=!0}else o.logger.error("cannot recover "+t+" error"),this._level=void 0,this.cleanTimer(),e.fatal=!0}}}}},{key:"onFragLoaded",value:function(e){var t=e.frag;if(t&&"main"===t.type){var n=this._levels[t.level];n&&(n.loadError=0)}}},{key:"onLevelLoaded",value:function(e){var t=e.level;if(t===this._level){var n=this._levels[t];n.loadError=0;var r=e.details;if(r.live){var i=1e3*(r.averagetargetduration?r.averagetargetduration:r.targetduration),a=n.details;a&&r.endSN===a.endSN&&(i/=2,o.logger.log("same live playlist, reload twice faster")),i-=performance.now()-e.stats.trequest,i=Math.max(1e3,Math.round(i)),o.logger.log("live playlist, reload in "+i+" ms"),this.timer=setTimeout(this.ontick,i)}else this.timer=null}}},{key:"tick",value:function(){var e=this._level;if(void 0!==e&&this.canload){var t=this._levels[e];if(t&&t.url){var n=t.urlId;this.hls.trigger(i.default.LEVEL_LOADING,{url:t.url[n],level:e,id:n})}}}},{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this._level},set:function(e){var t=this._levels;t&&t.length>e&&(this._level===e&&void 0!==t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this._manualLevel},set:function(e){this._manualLevel=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this._manualLevel?this._manualLevel:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this._manualLevel&&(this.hls.nextAutoLevel=e)}}]),t}(a.default);n.default=c},{33:33,34:34,35:35,37:37,54:54}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=h(e(48)),a=h(e(37)),o=h(e(25)),s=h(e(35)),l=h(e(34)),u=h(e(38)),c=h(e(55)),d=e(33),f=e(54);function h(e){return e&&e.__esModule?e:{default:e}}var p={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.MEDIA_ATTACHED,s.default.MEDIA_DETACHING,s.default.MANIFEST_LOADING,s.default.MANIFEST_PARSED,s.default.LEVEL_LOADED,s.default.KEY_LOADED,s.default.FRAG_LOADED,s.default.FRAG_LOAD_EMERGENCY_ABORTED,s.default.FRAG_PARSING_INIT_SEGMENT,s.default.FRAG_PARSING_DATA,s.default.FRAG_PARSED,s.default.ERROR,s.default.AUDIO_TRACK_SWITCHING,s.default.AUDIO_TRACK_SWITCHED,s.default.BUFFER_CREATED,s.default.BUFFER_APPENDED,s.default.BUFFER_FLUSHED));return n.config=e.config,n.audioCodecSwap=!1,n.ticks=0,n._state=p.STOPPED,n.ontick=n.tick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),l.default.prototype.destroy.call(this),this.state=p.STOPPED}},{key:"startLoad",value:function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(r=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}t>0&&-1===e&&(f.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=p.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=p.STOPPED}},{key:"stopLoad",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=p.STOPPED,this.forceStartLoad=!1}},{key:"tick",value:function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){switch(this.state){case p.ERROR:break;case p.BUFFER_FLUSHING:this.fragLoadError=0;break;case p.IDLE:this._doTickIdle();break;case p.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=p.IDLE);break;case p.FRAG_LOADING_WAITING_RETRY:var t=performance.now(),n=this.retryDate;(!n||t>=n||this.media&&this.media.seeking)&&(f.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=p.IDLE);break;case p.ERROR:case p.STOPPED:case p.FRAG_LOADING:case p.PARSING:case p.PARSED:case p.ENDED:}this._checkBuffer(),this._checkFragmentChanged()}},{key:"_doTickIdle",value:function(){var e=this.hls,t=e.config,n=this.media;if(void 0===this.levelLastLoaded||n||!this.startFragRequested&&t.startFragPrefetch){var r;r=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var i=e.nextLoadLevel,o=this.levels[i];if(o){var l=o.bitrate,u=void 0;u=l?Math.max(8*t.maxBufferSize/l,t.maxBufferLength):t.maxBufferLength,u=Math.min(u,t.maxMaxBufferLength);var c=a.default.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,r,t.maxBufferHole),d=c.len;if(!(d>=u)){f.logger.trace("buffer length of "+d.toFixed(3)+" is below max of "+u.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=i;var h=o.details;if(void 0===h||h.live&&this.levelLastLoaded!==i)this.state=p.WAITING_LEVEL;else{var v=this.fragPrevious;if(!h.live&&v&&v.sn===h.endSN&&d&&!c.nextStart)if(Math.min(n.duration,v.start+v.duration)-Math.max(c.end,v.start)<=Math.max(.2,v.duration)){var g={};return this.altAudio&&(g.type="video"),this.hls.trigger(s.default.BUFFER_EOS,g),void(this.state=p.ENDED)}this._fetchPayloadOrEos(r,c,h)}}}}}},{key:"_fetchPayloadOrEos",value:function(e,t,n){var r=this.fragPrevious,i=this.level,a=n.fragments,o=a.length;if(0!==o){var s=a[0].start,l=a[o-1].start+a[o-1].duration,u=t.end,c=void 0;if(n.initSegment&&!n.initSegment.data)c=n.initSegment;else if(n.live){var d=this.config.initialLiveManifestSize;if(o<d)return void f.logger.warn("Can not start playback of a level, reason: not enough fragments "+o+" < "+d);if(null===(c=this._ensureFragmentAtLivePoint(n,u,s,l,r,a,o)))return}else u<s&&(c=a[0]);c||(c=this._findFragment(s,r,o,a,u,l,n)),c&&this._loadFragmentOrKey(c,i,n,e,u)}}},{key:"_ensureFragmentAtLivePoint",value:function(e,t,n,r,a,o,s){var l=this.hls.config,u=this.media,c=void 0,d=void 0!==l.liveMaxLatencyDuration?l.liveMaxLatencyDuration:l.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(n-l.maxFragLookUpTolerance,r-d)){var h=this.liveSyncPosition=this.computeLivePosition(n,e);f.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+h.toFixed(3)),t=h,u&&u.readyState&&u.duration>h&&(u.currentTime=h),this.nextLoadPosition=h}if(e.PTSKnown&&t>r&&u&&u.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(a){var p=a.sn+1;if(p>=e.startSN&&p<=e.endSN){var v=o[p-e.startSN];a.cc===v.cc&&(c=v,f.logger.log("live playlist, switching playlist, load frag with next SN: "+c.sn))}c||(c=i.default.search(o,(function(e){return a.cc-e.cc})))&&f.logger.log("live playlist, switching playlist, load frag with same CC: "+c.sn)}c||(c=o[Math.min(s-1,Math.round(s/2))],f.logger.log("live playlist, switching playlist, unknown, load middle frag : "+c.sn))}return c}},{key:"_findFragment",value:function(e,t,n,r,a,o,s){var l=this.hls.config,u=void 0,c=void 0,d=l.maxFragLookUpTolerance,h=t?r[t.sn-r[0].sn+1]:void 0,p=function(e){var t=Math.min(d,e.duration);return e.start+e.duration-t<=a?1:e.start-t>a&&e.start?-1:0};if(a<o?(a>o-d&&(d=0),c=h&&!p(h)?h:i.default.search(r,p)):c=r[n-1],c){var v=(u=c).sn-s.startSN,g=t&&u.level===t.level,m=r[v-1],y=r[v+1];if(t&&u.sn===t.sn)if(g&&!u.backtracked)if(u.sn<s.endSN){var A=t.deltaPTS;A&&A>l.maxBufferHole&&t.dropped&&v?(u=m,f.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),t.loadCounter--):(u=y,f.logger.log("SN just loaded, load next one: "+u.sn))}else u=null;else u.backtracked&&(y&&y.backtracked?(f.logger.warn("Already backtracked from fragment "+y.sn+", will not backtrack to fragment "+u.sn+". Loading fragment "+y.sn),u=y):(f.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),u.dropped=0,m?(m.loadCounter&&m.loadCounter--,(u=m).backtracked=!0):v&&(u=null)))}return u}},{key:"_loadFragmentOrKey",value:function(e,t,n,r,i){var a=this.hls,l=a.config;if(!e.decryptdata||null==e.decryptdata.uri||null!=e.decryptdata.key){if(f.logger.log("Loading "+e.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+t+", currentTime:"+r.toFixed(3)+",bufferEnd:"+i.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,e.loadCounter){e.loadCounter++;var u=l.fragLoadingLoopThreshold;if(e.loadCounter>u&&Math.abs(this.fragLoadIdx-e.loadIdx)<u)return void a.trigger(s.default.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:e})}else e.loadCounter=1;return e.loadIdx=this.fragLoadIdx,this.fragCurrent=e,this.startFragRequested=!0,isNaN(e.sn)||(this.nextLoadPosition=e.start+e.duration),e.autoLevel=a.autoLevelEnabled,e.bitrateTest=this.bitrateTest,a.trigger(s.default.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new o.default(a,"main")),void(this.state=p.FRAG_LOADING)}f.logger.log("Loading key for "+e.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+t),this.state=p.KEY_LOADING,a.trigger(s.default.KEY_LOADING,{frag:e})}},{key:"getBufferedFrag",value:function(e){return i.default.search(this._bufferedFrags,(function(t){return e<t.startPTS?-1:e>t.endPTS?1:0}))}},{key:"followingBufferedFrag",value:function(e){return e?this.getBufferedFrag(e.endPTS+.5):null}},{key:"_checkFragmentChanged",value:function(){var e,t,n=this.media;if(n&&n.readyState&&!1===n.seeking&&((t=n.currentTime)>n.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=t),a.default.isBuffered(n,t)?e=this.getBufferedFrag(t):a.default.isBuffered(n,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var r=e;if(r!==this.fragPlaying){this.hls.trigger(s.default.FRAG_CHANGED,{frag:r});var i=r.level;this.fragPlaying&&this.fragPlaying.level===i||this.hls.trigger(s.default.LEVEL_SWITCHED,{level:i}),this.fragPlaying=r}}}},{key:"immediateLevelSwitch",value:function(){if(f.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,t=void 0;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}},{key:"immediateLevelSwitchEnd",value:function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,a.default.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())}},{key:"nextLevelSwitch",value:function(){var e=this.media;if(e&&e.readyState){var t,n=void 0,r=void 0;if(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,(t=this.getBufferedFrag(e.currentTime))&&t.startPTS>1&&this.flushMainBuffer(0,t.startPTS-1),e.paused)n=0;else{var i=this.hls.nextLoadLevel,a=this.levels[i],o=this.fragLastKbps;n=o&&this.fragCurrent?this.fragCurrent.duration*a.bitrate/(1e3*o)+1:0}if((r=this.getBufferedFrag(e.currentTime+n))&&(r=this.followingBufferedFrag(r))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(r.maxStartPTS,Number.POSITIVE_INFINITY)}}}},{key:"flushMainBuffer",value:function(e,t){this.state=p.BUFFER_FLUSHING;var n={startOffset:e,endOffset:t};this.altAudio&&(n.type="video"),this.hls.trigger(s.default.BUFFER_FLUSHING,n)}},{key:"onMediaAttached",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&e.ended&&(f.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach((function(e){e.details&&e.details.fragments.forEach((function(e){e.loadCounter=void 0,e.backtracked=void 0}))})),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){var e=this.media,t=e?e.currentTime:void 0,n=this.config;isNaN(t)||f.logger.log("media seeking to "+t.toFixed(3));var r=this.mediaBuffer?this.mediaBuffer:e,i=a.default.bufferInfo(r,t,this.config.maxBufferHole);if(this.state===p.FRAG_LOADING){var o=this.fragCurrent;if(0===i.len&&o){var s=n.maxFragLookUpTolerance,l=o.start-s,u=o.start+o.duration+s;t<l||t>u?(o.loader&&(f.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),o.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=p.IDLE):f.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===p.ENDED&&(0===i.len&&(this.fragPrevious=0),this.state=p.IDLE);e&&(this.lastCurrentTime=t),this.state!==p.FRAG_LOADING&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*n.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=t),this.tick()}},{key:"onMediaSeeked",value:function(){var e=this.media,t=e?e.currentTime:void 0;isNaN(t)||f.logger.log("media seeked to "+t.toFixed(3)),this.tick()}},{key:"onMediaEnded",value:function(){f.logger.log("media ended"),this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoading",value:function(){f.logger.log("trigger BUFFER_RESET"),this.hls.trigger(s.default.BUFFER_RESET),this._bufferedFrags=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0}},{key:"onManifestParsed",value:function(e){var t,n=!1,r=!1;e.levels.forEach((function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(n=!0),-1!==t.indexOf("mp4a.40.5")&&(r=!0))})),this.audioCodecSwitch=n&&r,this.audioCodecSwitch&&f.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startLevelLoaded=!1,this.startFragRequested=!1;var i=this.config;(i.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(i.startPosition)}},{key:"onLevelLoaded",value:function(e){var t=e.details,n=e.level,r=this.levels[n],i=t.totalduration,a=0;if(f.logger.log("level "+n+" loaded ["+t.startSN+","+t.endSN+"],duration:"+i),this.levelLastLoaded=n,t.live){var o=r.details;o&&t.fragments.length>0?(u.default.mergeDetails(o,t),a=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(a,o),t.PTSKnown?f.logger.log("live playlist sliding:"+a.toFixed(3)):f.logger.log("live playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,f.logger.log("live playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(r.details=t,this.hls.trigger(s.default.LEVEL_UPDATED,{details:t,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var l=t.startTimeOffset;isNaN(l)?t.live?(this.startPosition=this.computeLivePosition(a,t),f.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(l<0&&(f.logger.log("negative start time offset "+l+", count from end of last fragment"),l=a+i+l),f.logger.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===p.WAITING_LEVEL&&(this.state=p.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===p.KEY_LOADING&&(this.state=p.IDLE,this.tick())}},{key:"onFragLoaded",value:function(e){var t=this.fragCurrent,n=e.frag;if(this.state===p.FRAG_LOADING&&t&&"main"===n.type&&n.level===t.level&&n.sn===t.sn){var r=e.stats,i=this.levels[t.level],a=i.details;if(f.logger.log("Loaded  "+t.sn+" of ["+a.startSN+" ,"+a.endSN+"],level "+t.level),this.bitrateTest=!1,this.stats=r,!0===n.bitrateTest&&this.hls.nextLoadLevel)this.state=p.IDLE,this.startFragRequested=!1,r.tparsed=r.tbuffered=performance.now(),this.hls.trigger(s.default.FRAG_BUFFERED,{stats:r,frag:t,id:"main"}),this.tick();else if("initSegment"===n.sn)this.state=p.IDLE,r.tparsed=r.tbuffered=performance.now(),a.initSegment.data=e.payload,this.hls.trigger(s.default.FRAG_BUFFERED,{stats:r,frag:t,id:"main"}),this.tick();else{this.state=p.PARSING;var l=a.totalduration,u=t.level,c=t.sn,d=this.config.defaultAudioCodec||i.audioCodec;this.audioCodecSwap&&(f.logger.log("swapping playlist audio codec"),void 0===d&&(d=this.lastAudioCodec),d&&(d=-1!==d.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,f.logger.log("Parsing "+c+" of ["+a.startSN+" ,"+a.endSN+"],level "+u+", cc "+t.cc);var h=this.demuxer;h||(h=this.demuxer=new o.default(this.hls,"main"));var v=this.media,g=!(v&&v.seeking)&&(a.PTSKnown||!a.live),m=a.initSegment?a.initSegment.data:[];h.push(e.payload,m,d,i.videoCodec,t,l,g,void 0)}}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(e){var t=this.fragCurrent,n=e.frag;if(t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===p.PARSING){var r,i,a=e.tracks;if(a.audio&&this.altAudio&&delete a.audio,i=a.audio){var o=this.levels[this.level].audioCodec,l=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(f.logger.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==i.metadata.channelCount&&-1===l.indexOf("firefox")&&(o="mp4a.40.5"),-1!==l.indexOf("android")&&"audio/mpeg"!==i.container&&(o="mp4a.40.2",f.logger.log("Android: force audio codec to "+o)),i.levelCodec=o,i.id=e.id}for(r in(i=a.video)&&(i.levelCodec=this.levels[this.level].videoCodec,i.id=e.id),this.hls.trigger(s.default.BUFFER_CODECS,a),a){i=a[r],f.logger.log("main track:"+r+",container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var u=i.initSegment;u&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(s.default.BUFFER_APPENDING,{type:r,data:u,parent:"main",content:"initSegment"}))}this.tick()}}},{key:"onFragParsingData",value:function(e){var t=this,n=this.fragCurrent,r=e.frag;if(n&&"main"===e.id&&r.sn===n.sn&&r.level===n.level&&("audio"!==e.type||!this.altAudio)&&this.state===p.PARSING){var i=this.levels[this.level],a=n;if(isNaN(e.endPTS)&&(e.endPTS=e.startPTS+n.duration,e.endDTS=e.startDTS+n.duration),f.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(a.dropped=e.dropped,a.dropped){if(!a.backtracked)return f.logger.warn("missing video frame(s), backtracking fragment"),a.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=p.IDLE,this.fragPrevious=a,void this.tick();f.logger.warn("Already backtracked on this fragment, appending with the gap")}else a.backtracked=!1;var o=u.default.updateFragPTSDTS(i.details,a,e.startPTS,e.endPTS,e.startDTS,e.endDTS),l=this.hls;l.trigger(s.default.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:o,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach((function(n){n&&n.length&&t.state===p.PARSING&&(t.appended=!0,t.pendingBuffering=!0,l.trigger(s.default.BUFFER_APPENDING,{type:e.type,data:n,parent:"main",content:"data"}))})),this.tick()}}},{key:"onFragParsed",value:function(e){var t=this.fragCurrent,n=e.frag;t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===p.PARSING&&(this.stats.tparsed=performance.now(),this.state=p.PARSED,this._checkAppendedParsed())}},{key:"onAudioTrackSwitching",value:function(e){var t=!!e.url,n=e.id;if(!t){if(this.mediaBuffer!==this.media){f.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var r=this.fragCurrent;r.loader&&(f.logger.log("switching to main audio track, cancel main fragment load"),r.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=p.IDLE}var i=this.hls;i.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),i.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:n}),this.altAudio=!1}}},{key:"onAudioTrackSwitched",value:function(e){var t=e.id,n=!!this.hls.audioTracks[t].url;if(n){var r=this.videoBuffer;r&&this.mediaBuffer!==r&&(f.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=n,this.tick()}},{key:"onBufferCreated",value:function(e){var t=e.tracks,n=void 0,r=void 0,i=!1;for(var a in t){var o=t[a];"main"===o.id?(r=a,n=o,"video"===a&&(this.videoBuffer=t[a].buffer)):i=!0}i&&n?(f.logger.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media}},{key:"onBufferAppended",value:function(e){if("main"===e.parent){var t=this.state;t!==p.PARSING&&t!==p.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}}},{key:"_checkAppendedParsed",value:function(){if(!(this.state!==p.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;f.logger.log("main buffered : "+c.default.toString(t.buffered));var n=this._bufferedFrags.filter((function(e){return a.default.isBuffered(t,(e.startPTS+e.endPTS)/2)}));n.push(e),this._bufferedFrags=n.sort((function(e,t){return e.startPTS-t.startPTS})),this.fragPrevious=e;var r=this.stats;r.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*r.total/(r.tbuffered-r.tfirst)),this.hls.trigger(s.default.FRAG_BUFFERED,{stats:r,frag:e,id:"main"}),this.state=p.IDLE}this.tick()}}},{key:"onError",value:function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var n=this.media,r=n&&a.default.isBuffered(n,n.currentTime)&&a.default.isBuffered(n,n.currentTime+.5);switch(e.details){case d.ErrorDetails.FRAG_LOAD_ERROR:case d.ErrorDetails.FRAG_LOAD_TIMEOUT:case d.ErrorDetails.KEY_LOAD_ERROR:case d.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal){var i=this.fragLoadError;i?i++:i=1;var o=this.config;if(i<=o.fragLoadingMaxRetry||r||t.autoLevel&&t.level){this.fragLoadError=i,t.loadCounter=0;var s=Math.min(Math.pow(2,i-1)*o.fragLoadingRetryDelay,o.fragLoadingMaxRetryTimeout);f.logger.warn("mediaController: frag loading failed, retry in "+s+" ms"),this.retryDate=performance.now()+s,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.state=p.FRAG_LOADING_WAITING_RETRY}else f.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=p.ERROR}break;case d.ErrorDetails.FRAG_LOOP_LOADING_ERROR:e.fatal||(r?(this._reduceMaxBufferLength(t.duration),this.state=p.IDLE):t.autoLevel&&0!==t.level||(e.fatal=!0,this.state=p.ERROR));break;case d.ErrorDetails.LEVEL_LOAD_ERROR:case d.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==p.ERROR&&(e.fatal?(this.state=p.ERROR,f.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==p.WAITING_LEVEL||(this.state=p.IDLE));break;case d.ErrorDetails.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==p.PARSING&&this.state!==p.PARSED||(r?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=p.IDLE):(f.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}}},{key:"_reduceMaxBufferLength",value:function(e){var t=this.config;t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,f.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*t.fragLoadingLoopThreshold)}},{key:"_checkBuffer",value:function(){var e=this.media,t=this.config;if(e&&e.readyState){var n=e.currentTime,r=this.mediaBuffer?this.mediaBuffer:e,i=r.buffered;if(!this.loadedmetadata&&i.length){this.loadedmetadata=!0;var o=e.seeking?n:this.startPosition,l=a.default.isBuffered(r,o),u=i.start(0);(n!==o||!l&&Math.abs(o-u)<t.maxSeekHole)&&(f.logger.log("target start position:"+o),l||(o=u,f.logger.log("target start position not buffered, seek to buffered.start(0) "+o)),f.logger.log("adjust currentTime from "+n+" to "+o),e.currentTime=o)}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var c=a.default.bufferInfo(e,n,0),h=!(e.paused||e.ended||0===e.buffered.length);if(n!==this.lastCurrentTime)this.stallReported&&(f.logger.warn("playback not stuck anymore @"+n+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(h){var p=performance.now(),v=this.hls;if(this.stalled){var g=p-this.stalled,m=c.len,y=this.nudgeRetry||0;if(m<=.5&&g>1e3*t.lowBufferWatchdogPeriod){this.stallReported||(this.stallReported=!0,f.logger.warn("playback stalling in low buffer @"+n),v.trigger(s.default.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:m}));var A=c.nextStart,_=A-n;if(A&&_<t.maxSeekHole&&_>0){this.nudgeRetry=++y;var b=y*t.nudgeOffset;f.logger.log("adjust currentTime from "+e.currentTime+" to next buffered @ "+A+" + nudge "+b),e.currentTime=A+b,this.stalled=void 0,v.trigger(s.default.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:A+b-n})}}else if(m>.5&&g>1e3*t.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,f.logger.warn("playback stalling in high buffer @"+n),v.trigger(s.default.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:m})),this.stalled=void 0,this.nudgeRetry=++y,y<t.nudgeMaxRetry){var E=e.currentTime,w=E+y*t.nudgeOffset;f.logger.log("adjust currentTime from "+E+" to "+w),e.currentTime=w,v.trigger(s.default.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else f.logger.error("still stuck in high buffer @"+n+" after "+t.nudgeMaxRetry+", raise fatal error"),v.trigger(s.default.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=p,this.stallReported=!1}}}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state=p.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()}},{key:"onBufferFlushed",value:function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;this._bufferedFrags=this._bufferedFrags.filter((function(t){return a.default.isBuffered(e,(t.startPTS+t.endPTS)/2)})),this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=p.IDLE,this.fragPrevious=null}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"computeLivePosition",value:function(e,t){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-n)}},{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,f.logger.log("main stream:"+t+"->"+e),this.hls.trigger(s.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),t}(l.default);n.default=v},{25:25,33:33,34:34,35:35,37:37,38:38,48:48,54:54,55:55}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(e(35)),a=s(e(34)),o=e(54);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.ERROR,i.default.SUBTITLE_TRACKS_UPDATED,i.default.SUBTITLE_TRACK_SWITCH,i.default.SUBTITLE_TRACK_LOADED,i.default.SUBTITLE_FRAG_PROCESSED));return n.config=e.config,n.vttFragSNsProcessed={},n.vttFragQueues=void 0,n.currentlyProcessing=null,n.currentTrackId=-1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){a.default.prototype.destroy.call(this)}},{key:"clearVttFragQueues",value:function(){var e=this;this.vttFragQueues={},this.tracks.forEach((function(t){e.vttFragQueues[t.id]=[]}))}},{key:"nextFrag",value:function(){if(null===this.currentlyProcessing&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var e=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.hls.trigger(i.default.FRAG_LOADING,{frag:e})}}},{key:"onSubtitleFragProcessed",value:function(e){e.success&&this.vttFragSNsProcessed[e.frag.trackId].push(e.frag.sn),this.currentlyProcessing=null,this.nextFrag()}},{key:"onError",value:function(e){var t=e.frag;t&&"subtitle"!==t.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())}},{key:"onSubtitleTracksUpdated",value:function(e){var t=this;o.logger.log("subtitle tracks updated"),this.tracks=e.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach((function(e){t.vttFragSNsProcessed[e.id]=[]}))}},{key:"onSubtitleTrackSwitch",value:function(e){this.currentTrackId=e.id,this.clearVttFragQueues()}},{key:"onSubtitleTrackLoaded",value:function(e){var t=this.vttFragSNsProcessed[e.id],n=this.vttFragQueues[e.id],r=this.currentlyProcessing?this.currentlyProcessing.sn:-1;e.details.fragments.forEach((function(i){(function(e){return t.indexOf(e.sn)>-1})(i)||i.sn===r||function(e){return n.some((function(t){return t.sn===e.sn}))}(i)||(i.trackId=e.id,n.push(i))})),this.nextFrag()}}]),t}(a.default);n.default=l},{34:34,35:35,54:54}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(e(35)),a=s(e(34)),o=e(54);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.MANIFEST_LOADING,i.default.MANIFEST_LOADED,i.default.SUBTITLE_TRACK_LOADED));return n.tracks=[],n.trackId=-1,n.media=void 0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"_onTextTracksChanged",value:function(){if(this.media){for(var e=-1,t=function(e){for(var t=[],n=0;n<e.length;n++)"subtitles"===e[n].kind&&t.push(e[n]);return t}(this.media.textTracks),n=0;n<t.length;n++)"showing"===t[n].mode&&(e=n);this.subtitleTrack=e}}},{key:"destroy",value:function(){a.default.prototype.destroy.call(this)}},{key:"onMediaAttached",value:function(e){this.media=e.media,this.media&&(this.trackChangeListener=this._onTextTracksChanged.bind(this),this.media.textTracks.addEventListener("change",this.trackChangeListener))}},{key:"onMediaDetaching",value:function(){this.media&&(this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=void 0)}},{key:"onManifestLoading",value:function(){this.tracks=[],this.trackId=-1}},{key:"onManifestLoaded",value:function(e){var t=this,n=e.subtitles||[];this.tracks=n,this.trackId=-1,this.hls.trigger(i.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach((function(e){e.default&&(t.subtitleTrack=e.id)}))}},{key:"onTick",value:function(){var e=this.trackId,t=this.tracks[e];if(t){var n=t.details;void 0!==n&&!0!==n.live||(o.logger.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(i.default.SUBTITLE_TRACK_LOADING,{url:t.url,id:e}))}}},{key:"onSubtitleTrackLoaded",value:function(e){var t=this;e.id<this.tracks.length&&(o.logger.log("subtitle track "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval((function(){t.onTick()}),1e3*e.details.targetduration,this)),!e.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))}},{key:"setSubtitleTrackInternal",value:function(e){if(e>=0&&e<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=e,o.logger.log("switching to subtitle track "+e);var t=this.tracks[e];this.hls.trigger(i.default.SUBTITLE_TRACK_SWITCH,{id:e});var n=t.details;void 0!==n&&!0!==n.live||(o.logger.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(i.default.SUBTITLE_TRACK_LOADING,{url:t.url,id:e}))}}},{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.trackId!==e&&this.setSubtitleTrackInternal(e)}}]),t}(a.default);n.default=l},{34:34,35:35,54:54}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(e(35)),a=u(e(34)),o=u(e(49)),s=u(e(58)),l=e(54);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}function d(e,t,n,r){return Math.min(t,r)-Math.max(e,n)}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.MEDIA_ATTACHING,i.default.MEDIA_DETACHING,i.default.FRAG_PARSING_USERDATA,i.default.MANIFEST_LOADING,i.default.MANIFEST_LOADED,i.default.FRAG_LOADED,i.default.LEVEL_SWITCHING,i.default.INIT_PTS_FOUND));if(n.hls=e,n.config=e.config,n.enabled=!0,n.Cues=e.config.cueHandler,n.textTracks=[],n.tracks=[],n.unparsedVttFrags=[],n.initPTS=void 0,n.cueRanges=[],n.config.enableCEA708Captions){var r=n,a=function(e,t){var n=null;try{n=new window.Event("addtrack")}catch(e){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)},s={newCue:function(e,t,n){if(!r.textTrack1){var i=r.getExistingTrack("1");if(i)r.textTrack1=i,c(r.textTrack1),a(r.textTrack1,r.media);else{var o=r.createTextTrack("captions",r.config.captionsTextTrack1Label,r.config.captionsTextTrack1LanguageCode);o&&(o.textTrack1=!0,r.textTrack1=o)}}r.addCues("textTrack1",e,t,n)}},l={newCue:function(e,t,n){if(!r.textTrack2){var i=r.getExistingTrack("2");if(i)r.textTrack2=i,c(r.textTrack2),a(r.textTrack2,r.media);else{var o=r.createTextTrack("captions",r.config.captionsTextTrack2Label,r.config.captionsTextTrack1LanguageCode);o&&(o.textTrack2=!0,r.textTrack2=o)}}r.addCues("textTrack2",e,t,n)}};n.cea608Parser=new o.default(0,s,l)}return n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"addCues",value:function(e,t,n,r){for(var i=this.cueRanges,a=!1,o=i.length;o--;){var s=i[o],l=d(s[0],s[1],t,n);if(l>=0&&(s[0]=Math.min(s[0],t),s[1]=Math.max(s[1],n),a=!0,l/(n-t)>.5))return}a||i.push([t,n]),this.Cues.newCue(this[e],t,n,r)}},{key:"onInitPtsFound",value:function(e){var t=this;void 0===this.initPTS&&(this.initPTS=e.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach((function(e){t.onFragLoaded(e)})),this.unparsedVttFrags=[])}},{key:"getExistingTrack",value:function(e){var t=this.media;if(t)for(var n=0;n<t.textTracks.length;n++){var r=t.textTracks[n];if(!0===r["textTrack"+e])return r}return null}},{key:"createTextTrack",value:function(e,t,n){var r=this.media;if(r)return r.addTextTrack(e,t,n)}},{key:"destroy",value:function(){a.default.prototype.destroy.call(this)}},{key:"onMediaAttaching",value:function(e){this.media=e.media}},{key:"onMediaDetaching",value:function(){c(this.textTrack1),c(this.textTrack2)}},{key:"onManifestLoading",value:function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0};var e=this.media;if(e){var t=e.textTracks;if(t)for(var n=0;n<t.length;n++)c(t[n])}}},{key:"onManifestLoaded",value:function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=e.subtitles||[];var n=this.media?this.media.textTracks:[];this.tracks.forEach((function(e,r){var i=void 0;if(r<n.length){var a=n[r];(function(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)})(a,e)&&(i=a)}i||(i=t.createTextTrack("subtitles",e.name,e.lang)),i.mode=e.default?"showing":"hidden",t.textTracks.push(i)}))}}},{key:"onLevelSwitching",value:function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions}},{key:"onFragLoaded",value:function(e){var t=e.frag,n=e.payload;if("main"===t.type){var r=t.sn;if(r!==this.lastSn+1){var a=this.cea608Parser;a&&a.reset()}this.lastSn=r}else if("subtitle"===t.type)if(n.byteLength){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(e);var o=this.vttCCs;o[t.cc]||(o[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc);var u=this.textTracks,c=this.hls;s.default.parse(n,this.initPTS,o,t.cc,(function(e){var n=u[t.trackId];e.forEach((function(e){if(!n.cues.getCueById(e.id))try{n.addCue(e)}catch(r){var t=new window.TextTrackCue(e.startTime,e.endTime,e.text);t.id=e.id,n.addCue(t)}})),c.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})}),(function(e){l.logger.log("Failed to parse VTT cue: "+e),c.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})}))}else this.hls.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})}},{key:"onFragParsingUserdata",value:function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var n=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,n)}}},{key:"extractCea608Data",value:function(e){for(var t,n,r,i=31&e[0],a=2,o=[],s=0;s<i;s++)t=e[a++],n=127&e[a++],r=127&e[a++],0===n&&0===r||0!=(4&t)&&0==(3&t)&&(o.push(n),o.push(r));return o}}]),t}(a.default);n.default=f},{34:34,35:35,49:49,54:54,58:58}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subtle=t,this.aesIV=n}return r(e,[{key:"decrypt",value:function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}}]),e}();n.default=i},{}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return r(e,[{key:"uint8ArrayToUint32Array_",value:function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;r<4;r++)n[r]=t.getUint32(4*r);return n}},{key:"initTable",value:function(){var e=this.sBox,t=this.invSBox,n=this.subMix,r=n[0],i=n[1],a=n[2],o=n[3],s=this.invSubMix,l=s[0],u=s[1],c=s[2],d=s[3],f=new Uint32Array(256),h=0,p=0,v=0;for(v=0;v<256;v++)f[v]=v<128?v<<1:v<<1^283;for(v=0;v<256;v++){var g=p^p<<1^p<<2^p<<3^p<<4;g=g>>>8^255&g^99,e[h]=g,t[g]=h;var m=f[h],y=f[m],A=f[y],_=257*f[g]^16843008*g;r[h]=_<<24|_>>>8,i[h]=_<<16|_>>>16,a[h]=_<<8|_>>>24,o[h]=_,_=16843009*A^65537*y^257*m^16843008*h,l[g]=_<<24|_>>>8,u[g]=_<<16|_>>>16,c[g]=_<<8|_>>>24,d[g]=_,h?(h=m^f[f[f[A^m]]],p^=f[f[p]]):h=p=1}}},{key:"expandKey",value:function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;r<t.length&&n;)n=t[r]===this.key[r],r++;if(!n){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var a=this.ksRows=4*(i+6+1),o=void 0,s=void 0,l=this.keySchedule=new Uint32Array(a),u=this.invKeySchedule=new Uint32Array(a),c=this.sBox,d=this.rcon,f=this.invSubMix,h=f[0],p=f[1],v=f[2],g=f[3],m=void 0,y=void 0;for(o=0;o<a;o++)o<i?m=l[o]=t[o]:(y=m,o%i==0?(y=c[(y=y<<8|y>>>24)>>>24]<<24|c[y>>>16&255]<<16|c[y>>>8&255]<<8|c[255&y],y^=d[o/i|0]<<24):i>6&&o%i==4&&(y=c[y>>>24]<<24|c[y>>>16&255]<<16|c[y>>>8&255]<<8|c[255&y]),l[o]=m=(l[o-i]^y)>>>0);for(s=0;s<a;s++)o=a-s,y=3&s?l[o]:l[o-4],u[s]=s<4||o<=4?y:h[c[y>>>24]]^p[c[y>>>16&255]]^v[c[y>>>8&255]]^g[c[255&y]],u[s]=u[s]>>>0}}},{key:"networkToHostOrderSwap",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:"decrypt",value:function(e,t,n){for(var r,i,a=this.keySize+6,o=this.invKeySchedule,s=this.invSBox,l=this.invSubMix,u=l[0],c=l[1],d=l[2],f=l[3],h=this.uint8ArrayToUint32Array_(n),p=h[0],v=h[1],g=h[2],m=h[3],y=new Int32Array(e),A=new Int32Array(y.length),_=void 0,b=void 0,E=void 0,w=void 0,S=void 0,k=void 0,C=void 0,T=void 0,I=void 0,x=void 0,R=void 0,L=void 0,O=this.networkToHostOrderSwap;t<y.length;){for(I=O(y[t]),x=O(y[t+1]),R=O(y[t+2]),L=O(y[t+3]),S=I^o[0],k=L^o[1],C=R^o[2],T=x^o[3],r=4,i=1;i<a;i++)_=u[S>>>24]^c[k>>16&255]^d[C>>8&255]^f[255&T]^o[r],b=u[k>>>24]^c[C>>16&255]^d[T>>8&255]^f[255&S]^o[r+1],E=u[C>>>24]^c[T>>16&255]^d[S>>8&255]^f[255&k]^o[r+2],w=u[T>>>24]^c[S>>16&255]^d[k>>8&255]^f[255&C]^o[r+3],S=_,k=b,C=E,T=w,r+=4;_=s[S>>>24]<<24^s[k>>16&255]<<16^s[C>>8&255]<<8^s[255&T]^o[r],b=s[k>>>24]<<24^s[C>>16&255]<<16^s[T>>8&255]<<8^s[255&S]^o[r+1],E=s[C>>>24]<<24^s[T>>16&255]<<16^s[S>>8&255]<<8^s[255&k]^o[r+2],w=s[T>>>24]<<24^s[S>>16&255]<<16^s[k>>8&255]<<8^s[255&C]^o[r+3],r+=3,A[t]=O(_^p),A[t+1]=O(w^v),A[t+2]=O(E^g),A[t+3]=O(b^m),p=I,v=x,g=R,m=L,t+=4}return A.buffer}},{key:"destroy",value:function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0}}]),e}();n.default=i},{}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(e(17)),a=u(e(20)),o=u(e(18)),s=e(33),l=e(54);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observer=t,this.config=n,this.logEnabled=!0;try{var r=crypto||self.crypto;this.subtle=r.subtle||r.webkitSubtle}catch(e){}this.disableWebCrypto=!this.subtle}return r(e,[{key:"isSync",value:function(){return this.disableWebCrypto&&this.config.enableSoftwareAES}},{key:"decrypt",value:function(e,t,n,r){var s=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(l.logger.log("JS AES decrypt"),this.logEnabled=!1);var u=this.decryptor;u||(this.decryptor=u=new o.default),u.expandKey(t),r(u.decrypt(e,0,n))}else{this.logEnabled&&(l.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new a.default(c,t)),this.fastAesKey.expandKey().then((function(a){new i.default(c,n).decrypt(e,a).catch((function(i){s.onWebCryptoError(i,e,t,n,r)})).then((function(e){r(e)}))})).catch((function(i){s.onWebCryptoError(i,e,t,n,r)}))}}},{key:"onWebCryptoError",value:function(e,t,n,r,i){this.config.enableSoftwareAES?(l.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,n,r,i)):(l.logger.error("decrypting error : "+e.message),this.observer.trigger(Event.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))}},{key:"destroy",value:function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)}}]),e}();n.default=c},{17:17,18:18,20:20,33:33,54:54}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subtle=t,this.key=n}return r(e,[{key:"expandKey",value:function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}]),e}();n.default=i},{}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(e(22)),a=e(54),o=s(e(27));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observer=t,this.config=r,this.remuxer=n}return r(e,[{key:"resetInitSegment",value:function(e,t,n,r){this._audioTrack={container:"audio/adts",type:"audio",id:-1,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:r,inputTimeScale:9e4}}},{key:"resetTimeStamp",value:function(){}},{key:"append",value:function(e,t,n,r){for(var s=this._audioTrack,l=o.default.getID3Data(e,0),u=90*o.default.getTimeStamp(l),c=0,d=u,f=e.length,h=l.length,p=[{pts:d,dts:d,data:l}];h<f-1;)if(i.default.isHeader(e,h)&&h+5<f){i.default.initTrackConfig(s,this.observer,e,h,s.manifestCodec);var v=i.default.appendFrame(s,e,h,u,c);if(!v){a.logger.log("Unable to parse AAC frame");break}h+=v.length,d=v.sample.pts,c++}else o.default.isHeader(e,h)?(l=o.default.getID3Data(e,h),p.push({pts:d,dts:d,data:l}),h+=l.length):h++;this.remuxer.remux(s,{samples:[]},{samples:p,inputTimeScale:9e4},{samples:[]},t,n,r)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(e){var t,n,r=o.default.getID3Data(e,0);if(r&&void 0!==o.default.getTimeStamp(r))for(t=r.length,n=Math.min(e.length-1,t+100);t<n;t++)if(i.default.probe(e,t))return a.logger.log("ADTS sync word found !"),!0;return!1}}]),e}();n.default=l},{22:22,27:27,54:54}],22:[function(e,t,n){"use strict";var r=e(54),i=e(33),a={getAudioConfig:function(e,t,n,a){var o,s,l,u,c,d=navigator.userAgent.toLowerCase(),f=a,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(o=1+((192&t[n+2])>>>6),!((s=(60&t[n+2])>>>2)>h.length-1))return u=(1&t[n+2])<<2,u|=(192&t[n+3])>>>6,r.logger.log("manifest codec:"+a+",ADTS data:type:"+o+",sampleingIndex:"+s+"["+h[s]+"Hz],channelConfig:"+u),/firefox/i.test(d)?s>=6?(o=5,c=new Array(4),l=s-3):(o=2,c=new Array(2),l=s):-1!==d.indexOf("android")?(o=2,c=new Array(2),l=s):(o=5,c=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&s>=6?l=s-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(s>=6&&1===u||/vivaldi/i.test(d))||!a&&1===u)&&(o=2,c=new Array(2)),l=s)),c[0]=o<<3,c[0]|=(14&s)>>1,c[1]|=(1&s)<<7,c[1]|=u<<3,5===o&&(c[1]|=(14&l)>>1,c[2]=(1&l)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:h[s],channelCount:u,codec:"mp4a.40."+o,manifestCodec:f};e.trigger(Event.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+s})},isHeaderPattern:function(e,t){return 255===e[t]&&240==(246&e[t+1])},getHeaderLength:function(e,t){return 1&e[t+1]?7:9},getFullFrameLength:function(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var n=this.getHeaderLength(e,t);t+5<e.length&&(n=this.getFullFrameLength(e,t));var r=t+n;if(r===e.length||r+1<e.length&&this.isHeaderPattern(e,r))return!0}return!1},initTrackConfig:function(e,t,n,i,a){if(!e.samplerate){var o=this.getAudioConfig(t,n,i,a);e.config=o.config,e.samplerate=o.samplerate,e.channelCount=o.channelCount,e.codec=o.codec,e.manifestCodec=o.manifestCodec,r.logger.log("parsed codec:"+e.codec+",rate:"+o.samplerate+",nb channel:"+o.channelCount)}},getFrameDuration:function(e){return 9216e4/e},appendFrame:function(e,t,n,r,i){var a=this.getFrameDuration(e.samplerate),o=this.parseFrameHeader(t,n,r,i,a);if(o){var s=o.stamp,l=o.headerLength,u=o.frameLength,c={unit:t.subarray(n+l,n+l+u),pts:s,dts:s};return e.samples.push(c),e.len+=u,{sample:c,length:u+l}}},parseFrameHeader:function(e,t,n,r,i){var a,o,s=e.length;if(a=this.getHeaderLength(e,t),o=this.getFullFrameLength(e,t),(o-=a)>0&&t+a+o<=s)return{headerLength:a,frameLength:o,stamp:n+r*i}}};t.exports=a},{33:33,54:54}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=h(e(35)),a=e(33),o=h(e(19)),s=h(e(21)),l=h(e(29)),u=h(e(32)),c=h(e(28)),d=h(e(45)),f=h(e(46));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observer=t,this.typeSupported=n,this.config=r,this.vendor=i}return r(e,[{key:"destroy",value:function(){var e=this.demuxer;e&&e.destroy()}},{key:"push",value:function(e,t,n,r,a,s,l,u,c,d,f,h){if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var p=this.decrypter;null==p&&(p=this.decrypter=new o.default(this.observer,this.config));var v,g=this;try{v=performance.now()}catch(e){v=Date.now()}p.decrypt(e,t.key.buffer,t.iv.buffer,(function(e){var o;try{o=performance.now()}catch(e){o=Date.now()}g.observer.trigger(i.default.FRAG_DECRYPTED,{stats:{tstart:v,tdecrypt:o}}),g.pushDecrypted(new Uint8Array(e),t,new Uint8Array(n),r,a,s,l,u,c,d,f,h)}))}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(n),r,a,s,l,u,c,d,f,h)}},{key:"pushDecrypted",value:function(e,t,n,r,o,h,p,v,g,m,y,A){var _=this.demuxer;if(!_||p&&!this.probe(e)){for(var b=this.observer,E=this.typeSupported,w=this.config,S=[{demux:s.default,remux:d.default},{demux:c.default,remux:d.default},{demux:u.default,remux:d.default},{demux:l.default,remux:f.default}],k=0,C=S.length;k<C;k++){var T=S[k],I=T.demux.probe;if(I(e)){var x=this.remuxer=new T.remux(b,w,E,this.vendor);_=new T.demux(b,x,w,E),this.probe=I;break}}if(!_)return void b.trigger(i.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=_}var R=this.remuxer;(p||v)&&(_.resetInitSegment(n,r,o,m),R.resetInitSegment()),p&&(_.resetTimeStamp(A),R.resetTimeStamp(A)),"function"==typeof _.setDecryptData&&_.setDecryptData(t),_.append(e,h,g,y)}}]),e}();n.default=p},{19:19,21:21,28:28,29:29,32:32,33:33,35:35,45:45,46:46}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=s(e(23)),i=s(e(35)),a=e(54),o=s(e(1));function s(e){return e&&e.__esModule?e:{default:e}}n.default=function(e){var t=new o.default;t.trigger=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e,e].concat(r))},t.off=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.removeListener.apply(t,[e].concat(r))};var n=function(t,n){e.postMessage({event:t,data:n})};e.addEventListener("message",(function(i){var o=i.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);e.demuxer=new r.default(t,o.typeSupported,s,o.vendor);try{(0,a.enableLogs)(!0===s.debug)}catch(e){console.warn("demuxerWorker: unable to enable logs")}n("init",null);break;case"demux":e.demuxer.push(o.data,o.decryptdata,o.initSegment,o.audioCodec,o.videoCodec,o.timeOffset,o.discontinuity,o.trackSwitch,o.contiguous,o.duration,o.accurateTimeOffset,o.defaultInitPTS)}})),t.on(i.default.FRAG_DECRYPTED,n),t.on(i.default.FRAG_PARSING_INIT_SEGMENT,n),t.on(i.default.FRAG_PARSED,n),t.on(i.default.ERROR,n),t.on(i.default.FRAG_PARSING_METADATA,n),t.on(i.default.FRAG_PARSING_USERDATA,n),t.on(i.default.INIT_PTS_FOUND,n),t.on(i.default.FRAG_PARSING_DATA,(function(t,n){var r=[],i={event:t,data:n};n.data1&&(i.data1=n.data1.buffer,r.push(n.data1.buffer),delete n.data1),n.data2&&(i.data2=n.data2.buffer,r.push(n.data2.buffer),delete n.data2),e.postMessage(i,r)}))}},{1:1,23:23,35:35,54:54}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(e(35)),a=c(e(23)),o=c(e(24)),s=e(54),l=e(33),u=c(e(1));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.hls=n,this.id=r;var c=this.observer=new u.default,d=n.config;c.trigger=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];c.emit.apply(c,[e,e].concat(n))},c.off=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];c.removeListener.apply(c,[e].concat(n))};var f=function(e,t){(t=t||{}).frag=this.frag,t.id=this.id,n.trigger(e,t)}.bind(this);c.on(i.default.FRAG_DECRYPTED,f),c.on(i.default.FRAG_PARSING_INIT_SEGMENT,f),c.on(i.default.FRAG_PARSING_DATA,f),c.on(i.default.FRAG_PARSED,f),c.on(i.default.ERROR,f),c.on(i.default.FRAG_PARSING_METADATA,f),c.on(i.default.FRAG_PARSING_USERDATA,f),c.on(i.default.INIT_PTS_FOUND,f);var h={mp4:MediaSource.isTypeSupported("video/mp4"),mpeg:MediaSource.isTypeSupported("audio/mpeg"),mp3:MediaSource.isTypeSupported('audio/mp4; codecs="mp3"')},p=navigator.vendor;if(d.enableWorker&&"undefined"!=typeof Worker){s.logger.log("demuxing in webworker");var v=void 0;try{var g=e(3);v=this.w=g(o.default),this.onwmsg=this.onWorkerMessage.bind(this),v.addEventListener("message",this.onwmsg),v.onerror=function(e){n.trigger(i.default.ERROR,{type:l.ErrorTypes.OTHER_ERROR,details:l.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},v.postMessage({cmd:"init",typeSupported:h,vendor:p,id:r,config:JSON.stringify(d)})}catch(e){s.logger.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),v&&URL.revokeObjectURL(v.objectURL),this.demuxer=new a.default(c,h,d,p),this.w=void 0}}else this.demuxer=new a.default(c,h,d,p)}return r(t,[{key:"destroy",value:function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)}},{key:"push",value:function(e,t,n,r,i,a,o,l){var u=this.w,c=isNaN(i.startDTS)?i.start:i.startDTS,d=i.decryptdata,f=this.frag,h=!(f&&i.cc===f.cc),p=!(f&&i.level===f.level),v=f&&i.sn===f.sn+1,g=!p&&v;if(h&&s.logger.log(this.id+":discontinuity detected"),p&&s.logger.log(this.id+":switch detected"),this.frag=i,u)u.postMessage({cmd:"demux",data:e,decryptdata:d,initSegment:t,audioCodec:n,videoCodec:r,timeOffset:c,discontinuity:h,trackSwitch:p,contiguous:g,duration:a,accurateTimeOffset:o,defaultInitPTS:l},[e]);else{var m=this.demuxer;m&&m.push(e,d,t,n,r,c,h,p,g,a,o,l)}}},{key:"onWorkerMessage",value:function(e){var t=e.data,n=this.hls;switch(t.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case i.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}}}]),t}();n.default=d},{1:1,23:23,24:24,3:3,33:33,35:35,54:54}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e(54),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return r(e,[{key:"loadWord",value:function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");r.set(e.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i}},{key:"skipBits",value:function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}},{key:"readBits",value:function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;return e>32&&i.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?n<<t|this.readBits(t):n}},{key:"skipLZ",value:function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var e=this.skipLZ();return this.readBits(e+1)-1}},{key:"readEG",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(e){var t,n=8,r=8;for(t=0;t<e;t++)0!==r&&(r=(n+this.readEG()+256)%256),n=0===r?n:r}},{key:"readSPS",value:function(){var e,t,n,r,i,a,o,s=0,l=0,u=0,c=0,d=this.readUByte.bind(this),f=this.readBits.bind(this),h=this.readUEG.bind(this),p=this.readBoolean.bind(this),v=this.skipBits.bind(this),g=this.skipEG.bind(this),m=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(d(),e=d(),f(5),v(3),d(),m(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var A=h();if(3===A&&v(1),m(),m(),v(1),p())for(a=3!==A?8:12,o=0;o<a;o++)p()&&y(o<6?16:64)}m();var _=h();if(0===_)h();else if(1===_)for(v(1),g(),g(),t=h(),o=0;o<t;o++)g();m(),v(1),n=h(),r=h(),0===(i=f(1))&&v(1),v(1),p()&&(s=h(),l=h(),u=h(),c=h());var b=[1,1];if(p()&&p())switch(d()){case 1:b=[1,1];break;case 2:b=[12,11];break;case 3:b=[10,11];break;case 4:b=[16,11];break;case 5:b=[40,33];break;case 6:b=[24,11];break;case 7:b=[20,11];break;case 8:b=[32,11];break;case 9:b=[80,33];break;case 10:b=[18,11];break;case 11:b=[15,11];break;case 12:b=[64,33];break;case 13:b=[160,99];break;case 14:b=[4,3];break;case 15:b=[3,2];break;case 16:b=[2,1];break;case 255:b=[d()<<8|d(),d()<<8|d()]}return{width:Math.ceil(16*(n+1)-2*s-2*l),height:(2-i)*(r+1)*16-(i?2:4)*(u+c),pixelRatio:b}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),e}();n.default=a},{54:54}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"isHeader",value:function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128}},{key:"isFooter",value:function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128}},{key:"getID3Data",value:function(t,n){for(var r=n,i=0;e.isHeader(t,n);){i+=10,i+=e._readSize(t,n+6),e.isFooter(t,n+10)&&(i+=10),n+=i}if(i>0)return t.subarray(r,r+i)}},{key:"_readSize",value:function(e,t){var n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,(n|=(127&e[t+2])<<7)|127&e[t+3]}},{key:"getTimeStamp",value:function(t){for(var n=e.getID3Frames(t),r=0;r<n.length;r++){var i=n[r];if(e.isTimeStampFrame(i))return e._readTimeStamp(i)}}},{key:"isTimeStampFrame",value:function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info}},{key:"_getFrameData",value:function(t){var n=String.fromCharCode(t[0],t[1],t[2],t[3]),r=e._readSize(t,4);return{type:n,size:r,data:t.subarray(10,10+r)}}},{key:"getID3Frames",value:function(t){for(var n=0,r=[];e.isHeader(t,n);){for(var i=e._readSize(t,n+6),a=(n+=10)+i;n+8<a;){var o=e._getFrameData(t.subarray(n)),s=e._decodeFrame(o);s&&r.push(s),n+=o.size+10}e.isFooter(t,n)&&(n+=10)}return r}},{key:"_decodeFrame",value:function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"T"===t.type[0]?e._decodeTextFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):void 0}},{key:"_readTimeStamp",value:function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),n=1&t[3],r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}}},{key:"_decodePrivFrame",value:function(t){if(!(t.size<2)){var n=e._utf8ArrayToStr(t.data),r=new Uint8Array(t.data.subarray(n.length+1));return{key:t.type,info:n,data:r.buffer}}}},{key:"_decodeTextFrame",value:function(t){if(!(t.size<2)){if("TXXX"===t.type){var n=1,r=e._utf8ArrayToStr(t.data.subarray(n));n+=r.length+1;var i=e._utf8ArrayToStr(t.data.subarray(n));return{key:t.type,info:r,data:i}}var a=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:a}}}},{key:"_decodeURLFrame",value:function(t){if("WXXX"===t.type){if(t.size<2)return;var n=1,r=e._utf8ArrayToStr(t.data.subarray(n));n+=r.length+1;var i=e._utf8ArrayToStr(t.data.subarray(n));return{key:t.type,info:r,data:i}}var a=e._utf8ArrayToStr(t.data);return{key:t.type,data:a}}},{key:"_utf8ArrayToStr",value:function(e){for(var t=void 0,n=void 0,r="",i=0,a=e.length;i<a;){var o=e[i++];switch(o>>4){case 0:return r;case 1:case 2:case 3:case 4:case 5:case 6:case 7:r+=String.fromCharCode(o);break;case 12:case 13:t=e[i++],r+=String.fromCharCode((31&o)<<6|63&t);break;case 14:t=e[i++],n=e[i++],r+=String.fromCharCode((15&o)<<12|(63&t)<<6|(63&n)<<0)}}return r}}]),e}();n.default=i},{}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(e(27)),a=e(54),o=s(e(30));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observer=t,this.config=r,this.remuxer=n}return r(e,[{key:"resetInitSegment",value:function(e,t,n,r){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:r,inputTimeScale:9e4}}},{key:"resetTimeStamp",value:function(){}},{key:"append",value:function(e,t,n,r){for(var a=i.default.getID3Data(e,0),s=90*i.default.getTimeStamp(a),l=a.length,u=e.length,c=0,d=0,f=this._audioTrack,h=[{pts:s,dts:s,data:a}];l<u;)if(o.default.isHeader(e,l)){var p=o.default.appendFrame(f,e,l,s,c);if(!p)break;l+=p.length,d=p.sample.pts,c++}else i.default.isHeader(e,l)?(a=i.default.getID3Data(e,l),h.push({pts:d,dts:d,data:a}),l+=a.length):l++;this.remuxer.remux(f,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},t,n,r)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(e){var t,n,r=i.default.getID3Data(e,0);if(r&&void 0!==i.default.getTimeStamp(r))for(t=r.length,n=Math.min(e.length-1,t+100);t<n;t++)if(o.default.probe(e,t))return a.logger.log("MPEG Audio sync word found !"),!0;return!1}}]),e}();n.default=l},{27:27,30:30,54:54}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(e(35)),a=Math.pow(2,32)-1,o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observer=t,this.remuxer=n}return r(e,[{key:"resetTimeStamp",value:function(e){this.initPTS=e}},{key:"resetInitSegment",value:function(t,n,r,a){if(t&&t.byteLength){var o=this.initData=e.parseInitSegment(t),s={};o.audio&&(s.audio={container:"audio/mp4",codec:n,initSegment:a?t:null}),o.video&&(s.video={container:"video/mp4",codec:r,initSegment:a?t:null}),this.observer.trigger(i.default.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else n&&(this.audioCodec=n),r&&(this.videoCodec=r)}},{key:"append",value:function(t,n,r,a){var o=this.initData;o||(this.resetInitSegment(t,this.audioCodec,this.videoCodec),o=this.initData);var s,l=this.initPTS;if(void 0===l){var u=e.getStartDTS(o,t);this.initPTS=l=u-n,this.observer.trigger(i.default.INIT_PTS_FOUND,{initPTS:l})}e.offsetStartDTS(o,t,l),s=e.getStartDTS(o,t),this.remuxer.remux(o.audio,o.video,null,null,s,r,a,t)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(t){if(t.length>=8){var n=e.bin2str(t.subarray(4,8));return["moof","ftyp","styp"].indexOf(n)>=0}return!1}},{key:"bin2str",value:function(e){return String.fromCharCode.apply(null,e)}},{key:"readUint32",value:function(e,t){e.data&&(t+=e.start,e=e.data);var n=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return n<0?4294967296+n:n}},{key:"writeUint32",value:function(e,t,n){e.data&&(t+=e.start,e=e.data),e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}},{key:"findBox",value:function(t,n){var r,i,a,o,s,l,u=[];if(t.data?(s=t.start,a=t.end,t=t.data):(s=0,a=t.byteLength),!n.length)return null;for(r=s;r<a;)l=(i=e.readUint32(t,r))>1?r+i:a,e.bin2str(t.subarray(r+4,r+8))===n[0]&&(1===n.length?u.push({data:t,start:r+8,end:l}):(o=e.findBox({data:t,start:r+8,end:l},n.slice(1))).length&&(u=u.concat(o))),r=l;return u}},{key:"parseInitSegment",value:function(t){var n=[];return e.findBox(t,["moov","trak"]).forEach((function(t){var r=e.findBox(t,["tkhd"])[0];if(r){var i=r.data[r.start],a=0===i?12:20,o=e.readUint32(r,a),s=e.findBox(t,["mdia","mdhd"])[0];if(s){a=0===(i=s.data[s.start])?12:20;var l=e.readUint32(s,a),u=e.findBox(t,["mdia","hdlr"])[0];if(u){var c={soun:"audio",vide:"video"}[e.bin2str(u.data.subarray(u.start+8,u.start+12))];c&&(n[o]={timescale:l,type:c},n[c]={timescale:l,id:o})}}}})),n}},{key:"getStartDTS",value:function(t,n){var r,i,a;return r=e.findBox(n,["moof","traf"]),i=[].concat.apply([],r.map((function(n){return e.findBox(n,["tfhd"]).map((function(r){var i,a;return i=e.readUint32(r,4),a=t[i].timescale||9e4,(e.findBox(n,["tfdt"]).map((function(t){var n,r;return n=t.data[t.start],r=e.readUint32(t,4),1===n&&(r*=Math.pow(2,32),r+=e.readUint32(t,8)),r}))[0]||1/0)/a}))}))),a=Math.min.apply(null,i),isFinite(a)?a:0}},{key:"offsetStartDTS",value:function(t,n,r){e.findBox(n,["moof","traf"]).map((function(n){return e.findBox(n,["tfhd"]).map((function(i){var o=e.readUint32(i,4),s=t[o].timescale||9e4;e.findBox(n,["tfdt"]).map((function(t){var n=t.data[t.start],i=e.readUint32(t,4);if(0===n)e.writeUint32(t,4,i-r*s);else{i*=Math.pow(2,32),i+=e.readUint32(t,8),i-=r*s;var o=Math.floor(i/(a+1)),l=Math.floor(i%(a+1));e.writeUint32(t,4,o),e.writeUint32(t,8,l)}}))}))}))}}]),e}();n.default=o},{35:35}],30:[function(e,t,n){"use strict";var r={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],appendFrame:function(e,t,n,r,i){if(!(n+24>t.length)){var a=this.parseHeader(t,n);if(a&&n+a.frameLength<=t.length){var o=r+i*(10368e4/a.sampleRate),s={unit:t.subarray(n,n+a.frameLength),pts:o,dts:o};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(s),e.len+=a.frameLength,{sample:s,length:a.frameLength}}}},parseHeader:function(e,t){var n=e[t+1]>>3&3,i=e[t+1]>>1&3,a=e[t+2]>>4&15,o=e[t+2]>>2&3,s=!!(2&e[t+2]);if(1!==n&&0!==a&&15!==a&&3!==o){var l=3===n?3-i:3===i?3:4,u=1e3*r.BitratesMap[14*l+a-1],c=3===n?0:2===n?1:2,d=r.SamplingRateMap[3*c+o],f=s?1:0;return{sampleRate:d,channelCount:e[t+3]>>6==3?1:2,frameLength:3===i?(3===n?12:6)*u/d+f<<2:(3===n?144:72)*u/d+f|0}}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var n=this.parseHeader(e,t),r=4;n&&n.frameLength&&(r=n.frameLength);var i=t+r;if(i===e.length||i+1<e.length&&this.isHeaderPattern(e,i))return!0}return!1}};t.exports=r},{}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(e(19)),a=function(){function e(t,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.decryptdata=r,this.discardEPB=a,this.decrypter=new i.default(t,n)}return r(e,[{key:"decryptBuffer",value:function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)}},{key:"decryptAacSample",value:function(e,t,n,r){var i=e[t].unit,a=i.subarray(16,i.length-i.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),s=this;this.decryptBuffer(o,(function(a){a=new Uint8Array(a),i.set(a,16),r||s.decryptAacSamples(e,t+1,n)}))}},{key:"decryptAacSamples",value:function(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(e,t,n,r),!r)return}}}},{key:"getAvcEncryptedData",value:function(e){for(var t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t),r=0,i=32;i<=e.length-16;i+=160,r+=16)n.set(e.subarray(i,i+16),r);return n}},{key:"getAvcDecryptedUnit",value:function(e,t){t=new Uint8Array(t);for(var n=0,r=32;r<=e.length-16;r+=160,n+=16)e.set(t.subarray(n,n+16),r);return e}},{key:"decryptAvcSample",value:function(e,t,n,r,i,a){var o=this.discardEPB(i.data),s=this.getAvcEncryptedData(o),l=this;this.decryptBuffer(s.buffer,(function(s){i.data=l.getAvcDecryptedUnit(o,s),a||l.decryptAvcSamples(e,t,n+1,r)}))}},{key:"decryptAvcSamples",value:function(e,t,n,r){for(;;t++,n=0){if(t>=e.length)return void r();for(var i=e[t].units;!(n>=i.length);n++){var a=i[n];if(!(a.length<=48||1!==a.type&&5!==a.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(e,t,n,r,a,o),!o)return}}}}}]),e}();n.default=a},{19:19}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(e(22)),a=d(e(30)),o=d(e(35)),s=d(e(26)),l=d(e(31)),u=e(54),c=e(33);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observer=t,this.config=r,this.typeSupported=i,this.remuxer=n,this.sampleAes=null}return r(e,[{key:"setDecryptData",value:function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new l.default(this.observer,this.config,e,this.discardEPB):this.sampleAes=null}},{key:"resetInitSegment",value:function(e,t,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack={container:"video/mp2t",type:"video",id:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:0},this._audioTrack={container:"video/mp2t",type:"audio",id:-1,inputTimeScale:9e4,duration:r,sequenceNumber:0,samples:[],len:0,isAAC:!0},this._id3Track={type:"id3",id:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0},this._txtTrack={type:"text",id:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0},this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=t,this.videoCodec=n,this._duration=r}},{key:"resetTimeStamp",value:function(){}},{key:"append",value:function(e,t,n,r){var i,a,s,l,d,f=e.length,h=!1;this.contiguous=n;var p=this.pmtParsed,v=this._avcTrack,g=this._audioTrack,m=this._id3Track,y=v.id,A=g.id,_=m.id,b=this._pmtId,E=v.pesData,w=g.pesData,S=m.pesData,k=this._parsePAT,C=this._parsePMT,T=this._parsePES,I=this._parseAVCPES.bind(this),x=this._parseAACPES.bind(this),R=this._parseMPEGPES.bind(this),L=this._parseID3PES.bind(this);for(f-=f%188,i=0;i<f;i+=188)if(71===e[i]){if(a=!!(64&e[i+1]),s=((31&e[i+1])<<8)+e[i+2],(48&e[i+3])>>4>1){if((l=i+5+e[i+4])===i+188)continue}else l=i+4;switch(s){case y:a&&(E&&(d=T(E))&&I(d,!1),E={data:[],size:0}),E&&(E.data.push(e.subarray(l,i+188)),E.size+=i+188-l);break;case A:a&&(w&&(d=T(w))&&(g.isAAC?x(d):R(d)),w={data:[],size:0}),w&&(w.data.push(e.subarray(l,i+188)),w.size+=i+188-l);break;case _:a&&(S&&(d=T(S))&&L(d),S={data:[],size:0}),S&&(S.data.push(e.subarray(l,i+188)),S.size+=i+188-l);break;case 0:a&&(l+=e[l]+1),b=this._pmtId=k(e,l);break;case b:a&&(l+=e[l]+1);var O=C(e,l,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(y=O.avc)>0&&(v.id=y),(A=O.audio)>0&&(g.id=A,g.isAAC=O.isAAC),(_=O.id3)>0&&(m.id=_),h&&!p&&(u.logger.log("reparse from beginning"),h=!1,i=-188),p=this.pmtParsed=!0;break;case 17:case 8191:break;default:h=!0}}else this.observer.trigger(o.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});E&&(d=T(E))?(I(d,!0),v.pesData=null):v.pesData=E,w&&(d=T(w))?(g.isAAC?x(d):R(d),g.pesData=null):(w&&w.size&&u.logger.log("last AAC PES packet truncated,might overlap between fragments"),g.pesData=w),S&&(d=T(S))?(L(d),m.pesData=null):m.pesData=S,null==this.sampleAes?this.remuxer.remux(g,v,m,this._txtTrack,t,n,r):this.decryptAndRemux(g,v,m,this._txtTrack,t,n,r)}},{key:"decryptAndRemux",value:function(e,t,n,r,i,a,o){if(e.samples&&e.isAAC){var s=this;this.sampleAes.decryptAacSamples(e.samples,0,(function(){s.decryptAndRemuxAvc(e,t,n,r,i,a,o)}))}else this.decryptAndRemuxAvc(e,t,n,r,i,a,o)}},{key:"decryptAndRemuxAvc",value:function(e,t,n,r,i,a,o){if(t.samples){var s=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,(function(){s.remuxer.remux(e,t,n,r,i,a,o)}))}else this.remuxer.remux(e,t,n,r,i,a,o)}},{key:"destroy",value:function(){this._initPTS=this._initDTS=void 0,this._duration=0}},{key:"_parsePAT",value:function(e,t){return(31&e[t+10])<<8|e[t+11]}},{key:"_parsePMT",value:function(e,t,n,r){var i,a,o={audio:-1,avc:-1,id3:-1,isAAC:!0};for(i=t+3+((15&e[t+1])<<8|e[t+2])-4,t+=12+((15&e[t+10])<<8|e[t+11]);t<i;){switch(a=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!r){u.logger.log("unkown stream type:"+e[t]);break}case 15:-1===o.audio&&(o.audio=a);break;case 21:-1===o.id3&&(o.id3=a);break;case 219:if(!r){u.logger.log("unkown stream type:"+e[t]);break}case 27:-1===o.avc&&(o.avc=a);break;case 3:case 4:n?-1===o.audio&&(o.audio=a,o.isAAC=!1):u.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:u.logger.warn("HEVC stream type found, not supported for now");break;default:u.logger.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return o}},{key:"_parsePES",value:function(e){var t,n,r,i,a,o,s,l,c=0,d=e.data;if(!e||0===e.size)return null;for(;d[0].length<19&&d.length>1;){var f=new Uint8Array(d[0].length+d[1].length);f.set(d[0]),f.set(d[1],d[0].length),d[0]=f,d.splice(1,1)}if(1===((t=d[0])[0]<<16)+(t[1]<<8)+t[2]){if((r=(t[4]<<8)+t[5])&&r>e.size-6)return null;192&(n=t[7])&&((o=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2)>4294967295&&(o-=8589934592),64&n?((s=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>4294967295&&(s-=8589934592),o-s>54e5&&(u.logger.warn(Math.round((o-s)/9e4)+"s delta between PTS and DTS, align them"),o=s)):s=o),l=(i=t[8])+9,e.size-=l,a=new Uint8Array(e.size);for(var h=0,p=d.length;h<p;h++){var v=(t=d[h]).byteLength;if(l){if(l>v){l-=v;continue}t=t.subarray(l),v-=l,l=0}a.set(t,c),c+=v}return r&&(r-=i+3),{data:a,pts:o,dts:s,len:r}}return null}},{key:"pushAccesUnit",value:function(e,t){if(e.units.length&&e.frame){var n=t.samples,r=n.length;!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(r||this.contiguous)?(e.id=r,n.push(e)):t.dropped++}e.debug.length&&u.logger.log(e.pts+"/"+e.dts+":"+e.debug)}},{key:"_parseAVCPES",value:function(e,t){var n,r,i,a=this,o=this._avcTrack,l=this._parseAVCNALu(e.data),u=this.avcSample,c=!1,d=this.pushAccesUnit.bind(this),f=function(e,t,n,r){return{key:e,pts:t,dts:n,units:[],debug:r}};e.data=null,u&&l.length&&(d(u,o),u=this.avcSample=f(!1,e.pts,e.dts,"")),l.forEach((function(t){switch(t.type){case 1:r=!0,u.frame=!0;var l=t.data;if(c&&l.length>4){var h=new s.default(l).readSliceType();2!==h&&4!==h&&7!==h&&9!==h||(u.key=!0)}break;case 5:r=!0,u||(u=a.avcSample=f(!0,e.pts,e.dts,"")),u.key=!0,u.frame=!0;break;case 6:r=!0,(n=new s.default(a.discardEPB(t.data))).readUByte();for(var p=0,v=0,g=!1,m=0;!g&&n.bytesAvailable>1;){p=0;do{p+=m=n.readUByte()}while(255===m);v=0;do{v+=m=n.readUByte()}while(255===m);if(4===p&&0!==n.bytesAvailable){if(g=!0,181===n.readUByte())if(49===n.readUShort())if(1195456820===n.readUInt())if(3===n.readUByte()){var y=n.readUByte(),A=31&y,_=[y,n.readUByte()];for(i=0;i<A;i++)_.push(n.readUByte()),_.push(n.readUByte()),_.push(n.readUByte());a._insertSampleInOrder(a._txtTrack.samples,{type:3,pts:e.pts,bytes:_})}}else if(v<n.bytesAvailable)for(i=0;i<v;i++)n.readUByte()}break;case 7:if(r=!0,c=!0,!o.sps){var b=(n=new s.default(t.data)).readSPS();o.width=b.width,o.height=b.height,o.pixelRatio=b.pixelRatio,o.sps=[t.data],o.duration=a._duration;var E=t.data.subarray(1,4),w="avc1.";for(i=0;i<3;i++){var S=E[i].toString(16);S.length<2&&(S="0"+S),w+=S}o.codec=w}break;case 8:r=!0,o.pps||(o.pps=[t.data]);break;case 9:r=!1,u&&d(u,o),u=a.avcSample=f(!1,e.pts,e.dts,"");break;case 12:r=!1;break;default:r=!1,u&&(u.debug+="unknown NAL "+t.type+" ")}u&&r&&u.units.push(t)})),t&&u&&(d(u,o),this.avcSample=null)}},{key:"_insertSampleInOrder",value:function(e,t){var n=e.length;if(n>0){if(t.pts>=e[n-1].pts)e.push(t);else for(var r=n-1;r>=0;r--)if(t.pts<e[r].pts){e.splice(r,0,t);break}}else e.push(t)}},{key:"_getLastNalUnit",value:function(){var e=this.avcSample,t=void 0;if(!e||0===e.units.length){var n=this._avcTrack.samples;e=n[n.length-1]}if(e){var r=e.units;t=r[r.length-1]}return t}},{key:"_parseAVCNALu",value:function(e){var t,n,r,i,a=0,o=e.byteLength,s=this._avcTrack,l=s.naluState||0,u=l,c=[],d=-1;for(-1===l&&(d=0,i=31&e[0],l=0,a=1);a<o;)if(t=e[a++],l)if(1!==l)if(t)if(1===t){if(d>=0)r={data:e.subarray(d,a-l-1),type:i},c.push(r);else{var f=this._getLastNalUnit();if(f&&(u&&a<=4-u&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-u)),(n=a-l-1)>0)){var h=new Uint8Array(f.data.byteLength+n);h.set(f.data,0),h.set(e.subarray(0,n),f.data.byteLength),f.data=h}}a<o?(d=a,i=31&e[a],l=0):l=-1}else l=0;else l=3;else l=t?0:2;else l=t?0:1;if(d>=0&&l>=0&&(r={data:e.subarray(d,o),type:i,state:l},c.push(r)),0===c.length){var p=this._getLastNalUnit();if(p){var v=new Uint8Array(p.data.byteLength+e.byteLength);v.set(p.data,0),v.set(e,p.data.byteLength),p.data=v}}return s.naluState=l,c}},{key:"discardEPB",value:function(e){for(var t,n,r=e.byteLength,i=[],a=1;a<r-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===i[0]&&(o++,i.shift()),n[a]=e[o];return n}},{key:"_parseAACPES",value:function(e){var t,n,r,a,s,l,d,f=this._audioTrack,h=e.data,p=e.pts,v=this.aacOverFlow,g=this.aacLastPTS;if(v){var m=new Uint8Array(v.byteLength+h.byteLength);m.set(v,0),m.set(h,v.byteLength),h=m}for(r=0,s=h.length;r<s-1&&!i.default.isHeader(h,r);r++);if(!r||(r<s-1?(l="AAC PES did not start with ADTS header,offset:"+r,d=!1):(l="no ADTS header found in AAC PES",d=!0),u.logger.warn("parsing error:"+l),this.observer.trigger(o.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:d,reason:l}),!d)){if(i.default.initTrackConfig(f,this.observer,h,r,this.audioCodec),n=0,t=i.default.getFrameDuration(f.samplerate),v&&g){var y=g+t;Math.abs(y-p)>1&&(u.logger.log("AAC: align PTS for overlapping frames by "+Math.round((y-p)/90)),p=y)}for(;r<s;)if(i.default.isHeader(h,r)&&r+5<s){var A=i.default.appendFrame(f,h,r,p,n);if(!A)break;r+=A.length,a=A.sample.pts,n++}else r++;v=r<s?h.subarray(r,s):null,this.aacOverFlow=v,this.aacLastPTS=a}}},{key:"_parseMPEGPES",value:function(e){for(var t=e.data,n=t.length,r=0,i=0,o=e.pts;i<n;)if(a.default.isHeader(t,i)){var s=a.default.appendFrame(this._audioTrack,t,i,o,r);if(!s)break;i+=s.length,r++}else i++}},{key:"_parseID3PES",value:function(e){this._id3Track.samples.push(e)}}],[{key:"probe",value:function(e){return e.length>=564&&71===e[0]&&71===e[188]&&71===e[376]}}]),e}();n.default=f},{22:22,26:26,30:30,31:31,33:33,35:35,54:54}],33:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},n.ErrorDetails={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException",WEBVTT_EXCEPTION:"webVTTException"}},{}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(54),o=e(33),s=function(e){return e&&e.__esModule?e:{default:e}}(e(35)),l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}return i(e,[{key:"destroy",value:function(){this.unregisterListeners()}},{key:"isEventHandler",value:function(){return"object"===r(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent}},{key:"registerListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach((function(e){if("hlsEventGeneric"===e)throw new Error("Forbidden event name: "+e);this.hls.on(e,this.onEvent)}),this)}},{key:"unregisterListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach((function(e){this.hls.off(e,this.onEvent)}),this)}},{key:"onEvent",value:function(e,t){this.onEventGeneric(e,t)}},{key:"onEventGeneric",value:function(e,t){try{(function(e,t){var n="on"+e.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,t)}).call(this,e,t).call()}catch(t){a.logger.error("internal error happened while processing "+e+":"+t.message),this.hls.trigger(s.default.ERROR,{type:o.ErrorTypes.OTHER_ERROR,details:o.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}}}]),e}();n.default=l},{33:33,35:35,54:54}],35:[function(e,t,n){"use strict";t.exports={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCH:"hlsLevelSwitch",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},{}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"getSilentFrame",value:function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}]),e}();n.default=i},{}],37:[function(e,t,n){"use strict";t.exports={isBuffered:function(e,t){if(e)for(var n=e.buffered,r=0;r<n.length;r++)if(t>=n.start(r)&&t<=n.end(r))return!0;return!1},bufferInfo:function(e,t,n){if(e){var r,i=e.buffered,a=[];for(r=0;r<i.length;r++)a.push({start:i.start(r),end:i.end(r)});return this.bufferedInfo(a,t,n)}return{len:0,start:t,end:t,nextStart:void 0}},bufferedInfo:function(e,t,n){var r,i,a,o,s,l=[];for(e.sort((function(e,t){return e.start-t.start||t.end-e.end})),s=0;s<e.length;s++){var u=l.length;if(u){var c=l[u-1].end;e[s].start-c<n?e[s].end>c&&(l[u-1].end=e[s].end):l.push(e[s])}else l.push(e[s])}for(s=0,r=0,i=a=t;s<l.length;s++){var d=l[s].start,f=l[s].end;if(t+n>=d&&t<f)i=d,r=(a=f)-t;else if(t+n<d){o=d;break}}return{len:r,start:i,end:a,nextStart:o}}}},{}],38:[function(e,t,n){"use strict";var r=e(54),i={mergeDetails:function(e,t){var n,a=Math.max(e.startSN,t.startSN)-t.startSN,o=Math.min(e.endSN,t.endSN)-t.startSN,s=t.startSN-e.startSN,l=e.fragments,u=t.fragments,c=0;if(o<a)t.PTSKnown=!1;else{for(var d=a;d<=o;d++){var f=l[s+d],h=u[d];h&&f&&(c=f.cc-h.cc,isNaN(f.startPTS)||(h.start=h.startPTS=f.startPTS,h.endPTS=f.endPTS,h.duration=f.duration,h.backtracked=f.backtracked,h.dropped=f.dropped,n=h))}if(c)for(r.logger.log("discontinuity sliding from playlist, take drift into account"),d=0;d<u.length;d++)u[d].cc+=c;if(n)i.updateFragPTSDTS(t,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS);else if(s>=0&&s<l.length){var p=l[s].start;for(d=0;d<u.length;d++)u[d].start+=p}t.PTSKnown=e.PTSKnown}},updateFragPTSDTS:function(e,t,n,r,a,o){var s=n;if(!isNaN(t.startPTS)){var l=Math.abs(t.startPTS-n);isNaN(t.deltaPTS)?t.deltaPTS=l:t.deltaPTS=Math.max(l,t.deltaPTS),s=Math.max(n,t.startPTS),n=Math.min(n,t.startPTS),r=Math.max(r,t.endPTS),a=Math.min(a,t.startDTS),o=Math.max(o,t.endDTS)}var u=n-t.start;t.start=t.startPTS=n,t.maxStartPTS=s,t.endPTS=r,t.startDTS=a,t.endDTS=o,t.duration=r-n;var c,d,f,h=t.sn;if(!e||h<e.startSN||h>e.endSN)return 0;for(c=h-e.startSN,(d=e.fragments)[c]=t,f=c;f>0;f--)i.updatePTS(d,f,f-1);for(f=c;f<d.length-1;f++)i.updatePTS(d,f,f+1);return e.PTSKnown=!0,u},updatePTS:function(e,t,n){var i=e[t],a=e[n],o=a.startPTS;isNaN(o)?a.start=n>t?i.start+i.duration:Math.max(i.start-a.duration,0):n>t?(i.duration=o-i.start,i.duration<0&&r.logger.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(a.duration=i.start-o,a.duration<0&&r.logger.warn("negative duration computed for frag "+a.sn+",level "+a.level+", there should be some duration drift between playlist and fragment!"))}};t.exports=i},{54:54}],39:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=g(e(2)),a=g(e(35)),o=e(33),s=g(e(43)),l=g(e(41)),u=g(e(42)),c=g(e(13)),d=g(e(12)),f=g(e(11)),h=e(54),p=g(e(1)),v=e(4);function g(e){return e&&e.__esModule?e:{default:e}}var m=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=e.DefaultConfig;if((n.liveSyncDurationCount||n.liveMaxLatencyDurationCount)&&(n.liveSyncDuration||n.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var i in r)i in n||(n[i]=r[i]);if(void 0!==n.liveMaxLatencyDurationCount&&n.liveMaxLatencyDurationCount<=n.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==n.liveMaxLatencyDuration&&(n.liveMaxLatencyDuration<=n.liveSyncDuration||void 0===n.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');(0,h.enableLogs)(n.debug),this.config=n,this._autoLevelCapping=-1;var a=this.observer=new p.default;a.trigger=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit.apply(a,[e,e].concat(n))},a.off=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.removeListener.apply(a,[e].concat(n))},this.on=a.on.bind(a),this.off=a.off.bind(a),this.trigger=a.trigger.bind(a);var o=this.abrController=new n.abrController(this),v=new n.bufferController(this),g=new n.capLevelController(this),m=new n.fpsController(this),y=new s.default(this),A=new l.default(this),_=new u.default(this),b=new f.default(this),E=[this.levelController=new d.default(this),this.streamController=new c.default(this)],w=n.audioStreamController;w&&E.push(new w(this)),this.networkControllers=E;var S=[y,A,_,o,v,g,m,b];if(w=n.audioTrackController){var k=new w(this);this.audioTrackController=k,S.push(k)}if(w=n.subtitleTrackController){var C=new w(this);this.subtitleTrackController=C,S.push(C)}[n.subtitleStreamController,n.timelineController].forEach((function(e){e&&S.push(new e(t))})),this.coreComponents=S}return r(e,null,[{key:"isSupported",value:function(){var e=window.MediaSource=window.MediaSource||window.WebKitMediaSource,t=window.SourceBuffer=window.SourceBuffer||window.WebKitSourceBuffer,n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return n&&r}},{key:"version",get:function(){return"0.7.11"}},{key:"Events",get:function(){return a.default}},{key:"ErrorTypes",get:function(){return o.ErrorTypes}},{key:"ErrorDetails",get:function(){return o.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:v.hlsDefaultConfig},set:function(t){e.defaultConfig=t}}]),r(e,[{key:"destroy",value:function(){h.logger.log("destroy"),this.trigger(a.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach((function(e){e.destroy()})),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1}},{key:"attachMedia",value:function(e){h.logger.log("attachMedia"),this.media=e,this.trigger(a.default.MEDIA_ATTACHING,{media:e})}},{key:"detachMedia",value:function(){h.logger.log("detachMedia"),this.trigger(a.default.MEDIA_DETACHING),this.media=null}},{key:"loadSource",value:function(e){e=i.default.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),h.logger.log("loadSource:"+e),this.url=e,this.trigger(a.default.MANIFEST_LOADING,{url:e})}},{key:"startLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;h.logger.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))}},{key:"stopLoad",value:function(){h.logger.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))}},{key:"swapAudioCodec",value:function(){h.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){h.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)}},{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){h.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){h.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){h.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){h.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){h.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){h.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,n=e?e.length:0,r=0;r<n;r++){if((e[r].realBitrate?Math.max(e[r].realBitrate,e[r].bitrate):e[r].bitrate)>t)return r}return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}}]),e}();n.default=m},{1:1,11:11,12:12,13:13,2:2,33:33,35:35,4:4,41:41,42:42,43:43,54:54}],40:[function(e,t,n){"use strict";t.exports=e(39).default},{39:39}],41:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(e(35)),a=l(e(34)),o=e(33),s=e(54);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.FRAG_LOADING));return n.loaders={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){var e=this.loaders;for(var t in e){var n=e[t];n&&n.destroy()}this.loaders={},a.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=e.frag,n=t.type,r=this.loaders[n],i=this.hls.config;t.loaded=0,r&&(s.logger.warn("abort previous fragment loader for type:"+n),r.abort()),r=this.loaders[n]=t.loader=void 0!==i.fLoader?new i.fLoader(i):new i.loader(i);var a,o,l=void 0;l={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var u=t.byteRangeStartOffset,c=t.byteRangeEndOffset;isNaN(u)||isNaN(c)||(l.rangeStart=u,l.rangeEnd=c),a={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},o={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},r.load(l,a,o)}},{key:"loadsuccess",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=e.data,o=n.frag;o.loader=void 0,this.loaders[o.type]=void 0,this.hls.trigger(i.default.FRAG_LOADED,{payload:a,frag:o,stats:t,networkDetails:r})}},{key:"loaderror",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(i.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:n})}},{key:"loadtimeout",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(i.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:n})}},{key:"loadprogress",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=t.frag;a.loaded=e.loaded,this.hls.trigger(i.default.FRAG_LOAD_PROGRESS,{frag:a,stats:e,networkDetails:r})}}]),t}(a.default);n.default=u},{33:33,34:34,35:35,54:54}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(e(35)),a=l(e(34)),o=e(33),s=e(54);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i.default.KEY_LOADING));return n.loaders={},n.decryptkey=null,n.decrypturl=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},a.default.prototype.destroy.call(this)}},{key:"onKeyLoading",value:function(e){var t=e.frag,n=t.type,r=this.loaders[n],a=t.decryptdata,o=a.uri;if(o!==this.decrypturl||null===this.decryptkey){var l=this.hls.config;r&&(s.logger.warn("abort previous key loader for type:"+n),r.abort()),t.loader=this.loaders[n]=new l.loader(l),this.decrypturl=o,this.decryptkey=null;var u,c,d;u={url:o,frag:t,responseType:"arraybuffer"},c={timeout:l.fragLoadingTimeOut,maxRetry:l.fragLoadingMaxRetry,retryDelay:l.fragLoadingRetryDelay,maxRetryDelay:l.fragLoadingMaxRetryTimeout},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(u,c,d)}else this.decryptkey&&(a.key=this.decryptkey,this.hls.trigger(i.default.KEY_LOADED,{frag:t}))}},{key:"loadsuccess",value:function(e,t,n){var r=n.frag;this.decryptkey=r.decryptdata.key=new Uint8Array(e.data),r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(i.default.KEY_LOADED,{frag:r})}},{key:"loaderror",value:function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(i.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:e})}},{key:"loadtimeout",value:function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(i.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})}}]),t}(a.default);n.default=u},{33:33,34:34,35:35,54:54}],43:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(e(2)),a=c(e(35)),o=c(e(34)),s=e(33),l=c(e(47)),u=e(54);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,h=/#EXT-X-MEDIA:(.*)/g,p=new RegExp([/#EXTINF:(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),v=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,g=function(){function e(){d(this,e),this.method=null,this.key=null,this.iv=null,this._uri=null}return r(e,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=i.default.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),e}(),m=function(){function e(){d(this,e),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}return r(e,[{key:"createInitializationVector",value:function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t}},{key:"fragmentDecryptdataFromLevelkey",value:function(e,t){var n=e;return e&&e.method&&e.uri&&!e.iv&&((n=new g).method=e.method,n.baseuri=e.baseuri,n.reluri=e.reluri,n.iv=this.createInitializationVector(t)),n}},{key:"cloneObj",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=i.default.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange){var e=this._byteRange=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var n=this.lastByteRangeEndOffset;e[0]=n||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0]}}return this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),e}(),y=function(e){function t(e){d(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a.default.MANIFEST_LOADING,a.default.LEVEL_LOADING,a.default.AUDIO_TRACK_LOADING,a.default.SUBTITLE_TRACK_LOADING));return n.loaders={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},o.default.prototype.destroy.call(this)}},{key:"onManifestLoading",value:function(e){this.load(e.url,{type:"manifest"})}},{key:"onLevelLoading",value:function(e){this.load(e.url,{type:"level",level:e.level,id:e.id})}},{key:"onAudioTrackLoading",value:function(e){this.load(e.url,{type:"audioTrack",id:e.id})}},{key:"onSubtitleTrackLoading",value:function(e){this.load(e.url,{type:"subtitleTrack",id:e.id})}},{key:"load",value:function(e,t){var n=this.loaders[t.type];if(n){var r=n.context;if(r&&r.url===e)return void u.logger.trace("playlist request ongoing");u.logger.warn("abort previous loader for type:"+t.type),n.abort()}var i=this.hls.config,a=void 0,o=void 0,s=void 0,l=void 0;"manifest"===t.type?(a=i.manifestLoadingMaxRetry,o=i.manifestLoadingTimeOut,s=i.manifestLoadingRetryDelay,l=i.manifestLoadingMaxRetryTimeout):(a=i.levelLoadingMaxRetry,o=i.levelLoadingTimeOut,s=i.levelLoadingRetryDelay,l=i.levelLoadingMaxRetryTimeout,u.logger.log("loading playlist for "+t.type+" "+(t.level||t.id))),n=this.loaders[t.type]=t.loader=void 0!==i.pLoader?new i.pLoader(i):new i.loader(i),t.url=e,t.responseType="";var c,d;c={timeout:o,maxRetry:a,retryDelay:s,maxRetryDelay:l},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},n.load(t,c,d)}},{key:"resolve",value:function(e,t){return i.default.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}},{key:"parseMasterPlaylist",value:function(e,t){var n=[],r=void 0;for(f.lastIndex=0;null!=(r=f.exec(e));){var i={},a=i.attrs=new l.default(r[1]);i.url=this.resolve(r[2],t);var o=a.decimalResolution("RESOLUTION");o&&(i.width=o.width,i.height=o.height),i.bitrate=a.decimalInteger("AVERAGE-BANDWIDTH")||a.decimalInteger("BANDWIDTH"),i.name=a.NAME;var s=a.CODECS;if(s){s=s.split(/[ ,]+/);for(var u=0;u<s.length;u++){var c=s[u];-1!==c.indexOf("avc1")?i.videoCodec=this.avc1toavcoti(c):-1!==c.indexOf("hvc1")?i.videoCodec=c:i.audioCodec=c}}n.push(i)}return n}},{key:"parseMasterPlaylistMedia",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=void 0,a=[],o=0;for(h.lastIndex=0;null!=(i=h.exec(e));){var s={},u=new l.default(i[1]);u.TYPE===n&&(s.groupId=u["GROUP-ID"],s.name=u.NAME,s.type=n,s.default="YES"===u.DEFAULT,s.autoselect="YES"===u.AUTOSELECT,s.forced="YES"===u.FORCED,u.URI&&(s.url=this.resolve(u.URI,t)),s.lang=u.LANGUAGE,s.name||(s.name=s.lang),r&&(s.audioCodec=r),s.id=o++,a.push(s))}return a}},{key:"avc1toavcoti",value:function(e){var t,n=e.split(".");return n.length>2?(t=n.shift()+".",t+=parseInt(n.shift()).toString(16),t+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):t=e,t}},{key:"parseLevelPlaylist",value:function(e,t,n,r){var i,a,o=0,s=0,c={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},d=new g,f=0,h=null,y=new m;for(p.lastIndex=0;null!==(i=p.exec(e));){var A=i[1];if(A){y.duration=parseFloat(A);var _=(" "+i[2]).slice(1);y.title=_||null,y.tagList.push(_?["INF",A,_]:["INF",A])}else if(i[3]){if(!isNaN(y.duration)){var b=o++;y.type=r,y.start=s,y.levelkey=d,y.sn=b,y.level=n,y.cc=f,y.baseurl=t,y.relurl=(" "+i[3]).slice(1),c.fragments.push(y),h=y,s+=y.duration,y=new m}}else if(i[4]){if(y.rawByteRange=(" "+i[4]).slice(1),h){var E=h.byteRangeEndOffset;E&&(y.lastByteRangeEndOffset=E)}}else if(i[5])y.rawProgramDateTime=(" "+i[5]).slice(1),y.tagList.push(["PROGRAM-DATE-TIME",y.rawProgramDateTime]);else{for(i=i[0].match(v),a=1;a<i.length&&void 0===i[a];a++);var w=(" "+i[a+1]).slice(1),S=(" "+i[a+2]).slice(1);switch(i[a]){case"#":y.tagList.push(S?[w,S]:[w]);break;case"PLAYLIST-TYPE":c.type=w.toUpperCase();break;case"MEDIA-SEQUENCE":o=c.startSN=parseInt(w);break;case"TARGETDURATION":c.targetduration=parseFloat(w);break;case"VERSION":c.version=parseInt(w);break;case"EXTM3U":break;case"ENDLIST":c.live=!1;break;case"DIS":f++,y.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":f=parseInt(w);break;case"KEY":var k=w,C=new l.default(k),T=C.enumeratedString("METHOD"),I=C.URI,x=C.hexadecimalInteger("IV");T&&(d=new g,I&&["AES-128","SAMPLE-AES"].indexOf(T)>=0&&(d.method=T,d.baseuri=t,d.reluri=I,d.key=null,d.iv=x));break;case"START":var R=w,L=new l.default(R).decimalFloatingPoint("TIME-OFFSET");isNaN(L)||(c.startTimeOffset=L);break;case"MAP":var O=new l.default(w);y.relurl=O.URI,y.rawByteRange=O.BYTERANGE,y.baseurl=t,y.level=n,y.type=r,y.sn="initSegment",c.initSegment=y,y=new m;break;default:u.logger.warn("line parsed but not handled: "+i)}}}return(y=h)&&!y.relurl&&(c.fragments.pop(),s-=y.duration),c.totalduration=s,c.averagetargetduration=s/c.fragments.length,c.endSN=o-1,c}},{key:"loadsuccess",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=e.data,o=e.url,l=n.type,c=n.id,d=n.level,f=this.hls;if(this.loaders[l]=void 0,void 0!==o&&0!==o.indexOf("data:")||(o=n.url),t.tload=performance.now(),0===i.indexOf("#EXTM3U"))if(i.indexOf("#EXTINF:")>0){var h="audioTrack"!==l&&"subtitleTrack"!==l,p=isNaN(d)?isNaN(c)?0:c:d,v=this.parseLevelPlaylist(i,o,p,"audioTrack"===l?"audio":"subtitleTrack"===l?"subtitle":"main");v.tload=t.tload,"manifest"===l&&f.trigger(a.default.MANIFEST_LOADED,{levels:[{url:o,details:v}],audioTracks:[],url:o,stats:t,networkDetails:r}),t.tparsed=performance.now(),v.targetduration?h?f.trigger(a.default.LEVEL_LOADED,{details:v,level:d||0,id:c||0,stats:t,networkDetails:r}):"audioTrack"===l?f.trigger(a.default.AUDIO_TRACK_LOADED,{details:v,id:c,stats:t,networkDetails:r}):"subtitleTrack"===l&&f.trigger(a.default.SUBTITLE_TRACK_LOADED,{details:v,id:c,stats:t,networkDetails:r}):f.trigger(a.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:o,reason:"invalid targetduration",networkDetails:r})}else{var g=this.parseMasterPlaylist(i,o);if(g.length){var m=this.parseMasterPlaylistMedia(i,o,"AUDIO",g[0].audioCodec),y=this.parseMasterPlaylistMedia(i,o,"SUBTITLES");if(m.length){var A=!1;m.forEach((function(e){e.url||(A=!0)})),!1===A&&g[0].audioCodec&&!g[0].attrs.AUDIO&&(u.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main"}))}f.trigger(a.default.MANIFEST_LOADED,{levels:g,audioTracks:m,subtitles:y,url:o,stats:t,networkDetails:r})}else f.trigger(a.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:o,reason:"no level found in manifest",networkDetails:r})}else f.trigger(a.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:o,reason:"no EXTM3U delimiter",networkDetails:r})}},{key:"loaderror",value:function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=t.loader;switch(t.type){case"manifest":n=s.ErrorDetails.MANIFEST_LOAD_ERROR,r=!0;break;case"level":n=s.ErrorDetails.LEVEL_LOAD_ERROR,r=!1;break;case"audioTrack":n=s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,r=!1}o&&(o.abort(),this.loaders[t.type]=void 0),this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:n,fatal:r,url:o.url,loader:o,response:e,context:t,networkDetails:i})}},{key:"loadtimeout",value:function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=t.loader;switch(t.type){case"manifest":n=s.ErrorDetails.MANIFEST_LOAD_TIMEOUT,r=!0;break;case"level":n=s.ErrorDetails.LEVEL_LOAD_TIMEOUT,r=!1;break;case"audioTrack":n=s.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT,r=!1}o&&(o.abort(),this.loaders[t.type]=void 0),this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:n,fatal:r,url:o.url,loader:o,context:t,networkDetails:i})}}]),t}(o.default);n.default=y},{2:2,33:33,34:34,35:35,47:47,54:54}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=Math.pow(2,32)-1,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"init",value:function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=a,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,l,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))}},{key:"box",value:function(e){for(var t,n=Array.prototype.slice.call(arguments,1),r=8,i=n.length,a=i;i--;)r+=n[i].byteLength;for((t=new Uint8Array(r))[0]=r>>24&255,t[1]=r>>16&255,t[2]=r>>8&255,t[3]=255&r,t.set(e,4),i=0,r=8;i<a;i++)t.set(n[i],r),r+=n[i].byteLength;return t}},{key:"hdlr",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}},{key:"mdhd",value:function(t,n){n*=t;var r=Math.floor(n/(i+1)),a=Math.floor(n%(i+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,a>>24,a>>16&255,a>>8&255,255&a,85,196,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))}},{key:"mfhd",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"minf",value:function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))}},{key:"moof",value:function(t,n,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,n))}},{key:"moov",value:function(t){for(var n=t.length,r=[];n--;)r[n]=e.trak(t[n]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))}},{key:"mvex",value:function(t){for(var n=t.length,r=[];n--;)r[n]=e.trex(t[n]);return e.box.apply(null,[e.types.mvex].concat(r))}},{key:"mvhd",value:function(t,n){n*=t;var r=Math.floor(n/(i+1)),a=Math.floor(n%(i+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,a>>24,a>>16&255,a>>8&255,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,o)}},{key:"sdtp",value:function(t){var n,r,i=t.samples||[],a=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,a[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e.box(e.types.sdtp,a)}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))}},{key:"avc1",value:function(t){var n,r,i,a=[],o=[];for(n=0;n<t.sps.length;n++)i=(r=t.sps[n]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));for(n=0;n<t.pps.length;n++)i=(r=t.pps[n]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(r));var s=e.box(e.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|t.sps.length].concat(a).concat([t.pps.length]).concat(o))),l=t.width,u=t.height,c=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))}},{key:"esds",value:function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}},{key:"mp4a",value:function(t){var n=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),e.box(e.types.esds,e.esds(t)))}},{key:"mp3",value:function(t){var n=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))}},{key:"stsd",value:function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))}},{key:"tkhd",value:function(t){var n=t.id,r=t.duration*t.timescale,a=t.width,o=t.height,s=Math.floor(r/(i+1)),l=Math.floor(r%(i+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>8&255,255&a,0,0,o>>8&255,255&o,0,0]))}},{key:"traf",value:function(t,n){var r=e.sdtp(t),a=t.id,o=Math.floor(n/(i+1)),s=Math.floor(n%(i+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,r.length+16+20+8+16+8+8),r)}},{key:"trak",value:function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"trex",value:function(t){var n=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(t,n){var r,i,a,o,s,l,u=t.samples||[],c=u.length,d=12+16*c,f=new Uint8Array(d);for(n+=8+d,f.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<c;r++)a=(i=u[r]).duration,o=i.size,s=i.flags,l=i.cts,f.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*r);return e.box(e.types.trun,f)}},{key:"initSegment",value:function(t){e.types||e.init();var n,r=e.moov(t);return(n=new Uint8Array(e.FTYP.byteLength+r.byteLength)).set(e.FTYP),n.set(r,e.FTYP.byteLength),n}}]),e}();n.default=a},{}],45:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(e(36)),a=u(e(35)),o=e(54),s=u(e(44)),l=e(33);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observer=t,this.config=n,this.typeSupported=r;var a=navigator.userAgent;this.isSafari=i&&i.indexOf("Apple")>-1&&a&&!a.match("CriOS"),this.ISGenerated=!1}return r(e,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(e){this._initPTS=this._initDTS=e}},{key:"resetInitSegment",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(e,t,n,r,i,s,l){if(this.ISGenerated){if(l){var u=this._initPTS,c=this._PTSNormalize,d=e.inputTimeScale||t.inputTimeScale,f=1/0,h=1/0,p=e.samples;if(p.length&&(f=h=c(p[0].pts-d*i,u)),(p=t.samples).length){var v=p[0];f=Math.min(f,c(v.pts-d*i,u)),h=Math.min(h,c(v.dts-d*i,u))}if(f!==1/0){var g=u-f;Math.abs(g)>10*d&&(o.logger.warn("timestamp inconsistency, "+(g/d).toFixed(3)+"s delta against expected value: missing discontinuity ? reset initPTS/initDTS"),this._initPTS=f,this._initDTS=h,this.observer.trigger(a.default.INIT_PTS_FOUND,{initPTS:f}))}}}else this.generateIS(e,t,i);if(this.ISGenerated)if(e.samples.length){e.timescale||(o.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,i));var m=this.remuxAudio(e,i,s,l);if(t.samples.length){var y=void 0;m&&(y=m.endPTS-m.startPTS),t.timescale||(o.logger.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,i)),this.remuxVideo(t,i,s,y,l)}}else{var A=void 0;t.samples.length&&(A=this.remuxVideo(t,i,s,l)),A&&e.codec&&this.remuxEmptyAudio(e,i,s,A)}n.samples.length&&this.remuxID3(n,i),r.samples.length&&this.remuxText(r,i),this.observer.trigger(a.default.FRAG_PARSED)}},{key:"generateIS",value:function(e,t,n){var r,i,u=this.observer,c=e.samples,d=t.samples,f=this.typeSupported,h="audio/mp4",p={},v={tracks:p},g=void 0===this._initPTS;if(g&&(r=i=1/0),e.config&&c.length&&(e.timescale=e.samplerate,o.logger.log("audio sampling rate : "+e.samplerate),e.isAAC||(f.mpeg?(h="audio/mpeg",e.codec=""):f.mp3&&(e.codec="mp3")),p.audio={container:h,codec:e.codec,initSegment:!e.isAAC&&f.mpeg?new Uint8Array:s.default.initSegment([e]),metadata:{channelCount:e.channelCount}},g&&(r=i=c[0].pts-e.inputTimeScale*n)),t.sps&&t.pps&&d.length){var m=t.inputTimeScale;t.timescale=m,p.video={container:"video/mp4",codec:t.codec,initSegment:s.default.initSegment([t]),metadata:{width:t.width,height:t.height}},g&&(r=Math.min(r,d[0].pts-m*n),i=Math.min(i,d[0].dts-m*n),this.observer.trigger(a.default.INIT_PTS_FOUND,{initPTS:r}))}Object.keys(p).length?(u.trigger(a.default.FRAG_PARSING_INIT_SEGMENT,v),this.ISGenerated=!0,g&&(this._initPTS=r,this._initDTS=i)):u.trigger(a.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})}},{key:"remuxVideo",value:function(e,t,n,r,i){var u,c,d,f,h,p,v,g=8,m=e.timescale,y=e.samples,A=[],_=y.length,b=this._PTSNormalize,E=this._initDTS,w=this.nextAvcDts,S=this.isSafari;S&&(n|=y.length&&w&&(i&&Math.abs(t-w/m)<.1||Math.abs(y[0].pts-w-E)<m/5)),n||(w=t*m),y.forEach((function(e){e.pts=b(e.pts-E,w),e.dts=b(e.dts-E,w)})),y.sort((function(e,t){var n=e.dts-t.dts,r=e.pts-t.pts;return n||r||e.id-t.id}));var k=y.reduce((function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)}),0);if(k<0){o.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(k/90)+" ms to overcome this issue");for(var C=0;C<y.length;C++)y[C].dts+=k}var T=y[0];h=Math.max(T.dts,0),f=Math.max(T.pts,0);var I=Math.round((h-w)/90);n&&I&&(I>1?o.logger.log("AVC:"+I+" ms hole between fragments detected,filling it"):I<-1&&o.logger.log("AVC:"+-I+" ms overlapping between fragments detected"),h=w,y[0].dts=h,f=Math.max(f-I,w),y[0].pts=f,o.logger.log("Video/PTS/DTS adjusted: "+Math.round(f/90)+"/"+Math.round(h/90)+",delta:"+I+" ms")),T=y[y.length-1],v=Math.max(T.dts,0),p=Math.max(T.pts,0,v),S&&(u=Math.round((v-h)/(y.length-1)));for(var x=0,R=0,L=0;L<_;L++){for(var O=y[L],D=O.units,M=D.length,P=0,N=0;N<M;N++)P+=D[N].data.length;R+=P,x+=M,O.length=P,O.dts=S?h+L*u:Math.max(O.dts,h),O.pts=Math.max(O.pts,O.dts)}var F=R+4*x+8;try{c=new Uint8Array(F)}catch(e){return void this.observer.trigger(a.default.ERROR,{type:l.ErrorTypes.MUX_ERROR,details:l.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:F,reason:"fail allocating video mdat "+F})}var B=new DataView(c.buffer);B.setUint32(0,F),c.set(s.default.types.mdat,4);for(var U=0;U<_;U++){for(var j=y[U],G=j.units,H=0,V=void 0,z=0,q=G.length;z<q;z++){var W=G[z],Y=W.data,K=W.data.byteLength;B.setUint32(g,K),g+=4,c.set(Y,g),g+=K,H+=4+K}if(S)V=Math.max(0,u*Math.round((j.pts-j.dts)/u));else{if(U<_-1)u=y[U+1].dts-j.dts;else{var X=this.config,Q=j.dts-y[U>0?U-1:U].dts;if(X.stretchShortVideoTrack){var J=X.maxBufferHole,Z=X.maxSeekHole,$=Math.floor(Math.min(J,Z)*m),ee=(r?f+r*m:this.nextAudioPts)-j.pts;ee>$?((u=ee-Q)<0&&(u=Q),o.logger.log("It is approximately "+ee/90+" ms to the next segment; using duration "+u/90+" ms for the last video frame.")):u=Q}else u=Q}V=Math.round(j.pts-j.dts)}A.push({size:H,duration:u,cts:V,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:j.key?2:1,isNonSync:j.key?0:1}})}this.nextAvcDts=v+u;var te=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,A.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var ne=A[0].flags;ne.dependsOn=2,ne.isNonSync=0}e.samples=A,d=s.default.moof(e.sequenceNumber++,h,e),e.samples=[];var re={data1:d,data2:c,startPTS:f/m,endPTS:(p+u)/m,startDTS:h/m,endDTS:this.nextAvcDts/m,type:"video",nb:A.length,dropped:te};return this.observer.trigger(a.default.FRAG_PARSING_DATA,re),re}},{key:"remuxAudio",value:function(e,t,n,r){var u,c,d,f,h,p,v,g=e.inputTimeScale,m=g/e.timescale,y=(e.isAAC?1024:1152)*m,A=this._PTSNormalize,_=this._initDTS,b=!e.isAAC&&this.typeSupported.mpeg,E=e.samples,w=[],S=this.nextAudioPts;if((n|=E.length&&S&&(r&&Math.abs(t-S/g)<.1||Math.abs(E[0].pts-S-_)<20*y))||(S=t*g),E.forEach((function(e){e.pts=e.dts=A(e.pts-_,S)})),E.sort((function(e,t){return e.pts-t.pts})),r&&e.isAAC)for(var k=0,C=S;k<E.length;){var T,I=E[k];T=I.pts-C;var x=Math.abs(1e3*T/g);if(T<=-y)o.logger.warn("Dropping 1 audio frame @ "+(C/g).toFixed(3)+"s due to "+x+" ms overlap."),E.splice(k,1),e.len-=I.unit.length;else if(T>=y&&x<1e4&&C){var R=Math.round(T/y);o.logger.warn("Injecting "+R+" audio frame @ "+(C/g).toFixed(3)+"s due to "+Math.round(1e3*T/g)+" ms gap.");for(var L=0;L<R;L++){var O=Math.max(C,0);(d=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(o.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),d=I.unit.subarray()),E.splice(k,0,{unit:d,pts:O,dts:O}),e.len+=d.length,C+=y,k++}I.pts=I.dts=C,C+=y,k++}else Math.abs(T),I.pts=I.dts=C,C+=y,k++}for(var D=0,M=E.length;D<M;D++){var P=E[D],N=P.unit,F=P.pts;if(void 0!==v)c.duration=Math.round((F-v)/m);else{var B=Math.round(1e3*(F-S)/g),U=0;if(n&&e.isAAC&&B){if(B>0&&B<1e4)U=Math.round((F-S)/y),o.logger.log(B+" ms hole between AAC samples detected,filling it"),U>0&&((d=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(d=N.subarray()),e.len+=U*d.length);else if(B<-12){o.logger.log("drop overlapping AAC sample, expected/parsed/delta:"+(S/g).toFixed(3)+"s/"+(F/g).toFixed(3)+"s/"+-B+"ms"),e.len-=N.byteLength;continue}F=S}if(p=Math.max(0,F),!(e.len>0))return;var j=b?e.len:e.len+8;u=b?0:8;try{f=new Uint8Array(j)}catch(e){return void this.observer.trigger(a.default.ERROR,{type:l.ErrorTypes.MUX_ERROR,details:l.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:j,reason:"fail allocating audio mdat "+j})}if(!b)new DataView(f.buffer).setUint32(0,j),f.set(s.default.types.mdat,4);for(var G=0;G<U;G++)(d=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(o.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),d=N.subarray()),f.set(d,u),u+=d.byteLength,c={size:d.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},w.push(c)}f.set(N,u);var H=N.byteLength;u+=H,c={size:H,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},w.push(c),v=F}var V=0,z=w.length;if(z>=2&&(V=w[z-2].duration,c.duration=V),z){this.nextAudioPts=S=v+m*V,e.len=0,e.samples=w,h=b?new Uint8Array:s.default.moof(e.sequenceNumber++,p/m,e),e.samples=[];var q=p/g,W=S/g,Y={data1:h,data2:f,startPTS:q,endPTS:W,startDTS:q,endDTS:W,type:"audio",nb:z};return this.observer.trigger(a.default.FRAG_PARSING_DATA,Y),Y}return null}},{key:"remuxEmptyAudio",value:function(e,t,n,r){var a=e.inputTimeScale,s=a/(e.samplerate?e.samplerate:a),l=this.nextAudioPts,u=(void 0!==l?l:r.startDTS*a)+this._initDTS,c=r.endDTS*a+this._initDTS,d=1024*s,f=Math.ceil((c-u)/d),h=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(o.logger.warn("remux empty Audio"),h){for(var p=[],v=0;v<f;v++){var g=u+v*d;p.push({unit:h,pts:g,dts:g}),e.len+=h.length}e.samples=p,this.remuxAudio(e,t,n)}else o.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")}},{key:"remuxID3",value:function(e,t){var n,r=e.samples.length,i=e.inputTimeScale,o=this._initPTS,s=this._initDTS;if(r){for(var l=0;l<r;l++)(n=e.samples[l]).pts=(n.pts-o)/i,n.dts=(n.dts-s)/i;this.observer.trigger(a.default.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[],t=t}},{key:"remuxText",value:function(e,t){e.samples.sort((function(e,t){return e.pts-t.pts}));var n,r=e.samples.length,i=e.inputTimeScale,o=this._initPTS;if(r){for(var s=0;s<r;s++)(n=e.samples[s]).pts=(n.pts-o)/i;this.observer.trigger(a.default.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[],t=t}},{key:"_PTSNormalize",value:function(e,t){var n;if(void 0===t)return e;for(n=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e}}]),e}();n.default=c},{33:33,35:35,36:36,44:44,54:54}],46:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(e(35)),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observer=t}return r(e,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(){}},{key:"resetInitSegment",value:function(){}},{key:"remux",value:function(e,t,n,r,a,o,s,l){var u=this.observer,c="";e&&(c+="audio"),t&&(c+="video"),u.trigger(i.default.FRAG_PARSING_DATA,{data1:l,startPTS:a,startDTS:a,type:c,nb:1,dropped:0}),u.trigger(i.default.FRAG_PARSED)}}]),e}();n.default=a},{35:35}],47:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=/^(\d+)x(\d+)$/,a=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,o=function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"==typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(n)&&(this[n]=t[n])}return r(e,[{key:"decimalInteger",value:function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"hexadecimalInteger",value:function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);return n}return null}},{key:"hexadecimalIntegerAsNumber",value:function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"decimalFloatingPoint",value:function(e){return parseFloat(this[e])}},{key:"enumeratedString",value:function(e){return this[e]}},{key:"decimalResolution",value:function(e){var t=i.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}}],[{key:"parseAttrList",value:function(e){var t,n={};for(a.lastIndex=0;null!==(t=a.exec(e));){var r=t[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[t[1]]=r}return n}}]),e}();n.default=o},{}],48:[function(e,t,n){"use strict";t.exports={search:function(e,t){for(var n=0,r=e.length-1,i=null,a=null;n<=r;){var o=t(a=e[i=(n+r)/2|0]);if(o>0)n=i+1;else{if(!(o<0))return a;r=i-1}}return null}}},{}],49:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},o=function(e){var t=e;return a.hasOwnProperty(e)&&(t=a[e]),String.fromCharCode(t)},s=15,l=100,u={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},c={17:2,18:4,21:6,22:8,23:10,19:13,20:15},d={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},f={25:2,26:4,29:6,30:8,31:10,27:13,28:15},h=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],p={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var n=this.verboseFilter[e];this.verboseLevel>=n&&console.log(this.time+" ["+e+"] "+t)}},v=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},g=function(){function e(t,n,r,a,o){i(this,e),this.foreground=t||"white",this.underline=n||!1,this.italics=r||!1,this.background=a||"black",this.flash=o||!1}return r(e,[{key:"reset",value:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}},{key:"setStyles",value:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}}},{key:"isDefault",value:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}},{key:"equals",value:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}},{key:"copy",value:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}},{key:"toString",value:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}]),e}(),m=function(){function e(t,n,r,a,o,s){i(this,e),this.uchar=t||" ",this.penState=new g(n,r,a,o,s)}return r(e,[{key:"reset",value:function(){this.uchar=" ",this.penState.reset()}},{key:"setChar",value:function(e,t){this.uchar=e,this.penState.copy(t)}},{key:"setPenState",value:function(e){this.penState.copy(e)}},{key:"equals",value:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}},{key:"copy",value:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)}},{key:"isEmpty",value:function(){return" "===this.uchar&&this.penState.isDefault()}}]),e}(),y=function(){function e(){i(this,e),this.chars=[];for(var t=0;t<l;t++)this.chars.push(new m);this.pos=0,this.currPenState=new g}return r(e,[{key:"equals",value:function(e){for(var t=!0,n=0;n<l;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;t<l;t++)this.chars[t].copy(e.chars[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;t<l;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}},{key:"setCursor",value:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(p.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>l&&(p.log("ERROR","Too large cursor position "+this.pos),this.pos=l)}},{key:"moveCursor",value:function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)}},{key:"backSpace",value:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}},{key:"insertChar",value:function(e){e>=144&&this.backSpace();var t=o(e);this.pos>=l?p.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))}},{key:"clearFromPos",value:function(e){var t;for(t=e;t<l;t++)this.chars[t].reset()}},{key:"clear",value:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}},{key:"clearToEndOfRow",value:function(){this.clearFromPos(this.pos)}},{key:"getTextString",value:function(){for(var e=[],t=!0,n=0;n<l;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")}},{key:"setPenStyles",value:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}]),e}(),A=function(){function e(){i(this,e),this.rows=[];for(var t=0;t<s;t++)this.rows.push(new y);this.currRow=s-1,this.nrRollUpRows=null,this.reset()}return r(e,[{key:"reset",value:function(){for(var e=0;e<s;e++)this.rows[e].clear();this.currRow=s-1}},{key:"equals",value:function(e){for(var t=!0,n=0;n<s;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;t<s;t++)this.rows[t].copy(e.rows[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;t<s;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}},{key:"backSpace",value:function(){this.rows[this.currRow].backSpace()}},{key:"clearToEndOfRow",value:function(){this.rows[this.currRow].clearToEndOfRow()}},{key:"insertChar",value:function(e){this.rows[this.currRow].insertChar(e)}},{key:"setPen",value:function(e){this.rows[this.currRow].setPenStyles(e)}},{key:"moveCursor",value:function(e){this.rows[this.currRow].moveCursor(e)}},{key:"setCursor",value:function(e){p.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)}},{key:"setPAC",value:function(e){p.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var n=0;n<s;n++)this.rows[n].clear();var r=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var a=i.rows[r].cueStartTime;if(a&&a<p.time)for(var o=0;o<this.nrRollUpRows;o++)this.rows[t-this.nrRollUpRows+o+1].copy(i.rows[r+o])}}this.currRow=t;var l=this.rows[this.currRow];if(null!==e.indent){var u=e.indent,c=Math.max(u-1,0);l.setCursor(e.indent),e.color=l.chars[c].penState.foreground}var d={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(d)}},{key:"setBkgData",value:function(e){p.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}},{key:"setRollUpRows",value:function(e){this.nrRollUpRows=e}},{key:"rollUp",value:function(){if(null!==this.nrRollUpRows){p.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),p.log("INFO","Rolling up")}else p.log("DEBUG","roll_up but nrRollUpRows not set yet")}},{key:"getDisplayText",value:function(e){e=e||!1;for(var t=[],n="",r=-1,i=0;i<s;i++){var a=this.rows[i].getTextString();a&&(r=i+1,e?t.push("Row "+r+": '"+a+"'"):t.push(a.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n}},{key:"getTextAndFormat",value:function(){return this.rows}}]),e}(),_=function(){function e(t,n){i(this,e),this.chNr=t,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new A,this.nonDisplayedMemory=new A,this.lastOutputScreen=new A,this.currRollUpRow=this.displayedMemory.rows[s-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return r(e,[{key:"reset",value:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[s-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null}},{key:"getHandler",value:function(){return this.outputFilter}},{key:"setHandler",value:function(e){this.outputFilter=e}},{key:"setPAC",value:function(e){this.writeScreen.setPAC(e)}},{key:"setBkgData",value:function(e){this.writeScreen.setBkgData(e)}},{key:"setMode",value:function(e){e!==this.mode&&(this.mode=e,p.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}},{key:"insertChars",value:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";p.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(p.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}},{key:"ccRCL",value:function(){p.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}},{key:"ccBS",value:function(){p.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}},{key:"ccAOF",value:function(){}},{key:"ccAON",value:function(){}},{key:"ccDER",value:function(){p.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}},{key:"ccRU",value:function(e){p.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}},{key:"ccFON",value:function(){p.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})}},{key:"ccRDC",value:function(){p.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}},{key:"ccTR",value:function(){p.log("INFO","TR"),this.setMode("MODE_TEXT")}},{key:"ccRTD",value:function(){p.log("INFO","RTD"),this.setMode("MODE_TEXT")}},{key:"ccEDM",value:function(){p.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()}},{key:"ccCR",value:function(){p.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()}},{key:"ccENM",value:function(){p.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}},{key:"ccEOC",value:function(){if(p.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,p.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()}},{key:"ccTO",value:function(e){p.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}},{key:"ccMIDROW",value:function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}p.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}},{key:"outputDataUpdate",value:function(){var e=p.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}},{key:"cueSplitAtTime",value:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}]),e}(),b=function(){function e(t,n,r){i(this,e),this.field=t||1,this.outputs=[n,r],this.channels=[new _(1,n),new _(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return r(e,[{key:"getHandler",value:function(e){return this.channels[e].getHandler()}},{key:"setHandler",value:function(e,t){this.channels[e].setHandler(t)}},{key:"addData",value:function(e,t){var n,r,i,a=!1;this.lastTime=e,p.setTime(e);for(var o=0;o<t.length;o+=2)if(r=127&t[o],i=127&t[o+1],0!==r||0!==i){if(p.log("DATA","["+v([t[o],t[o+1]])+"] -> ("+v([r,i])+")"),(n=this.parseCmd(r,i))||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(a=this.parseChars(r,i)))if(this.currChNr&&this.currChNr>=0){this.channels[this.currChNr-1].insertChars(a)}else p.log("WARNING","No channel found yet. TEXT-MODE?");n?this.dataCounters.cmd+=2:a?this.dataCounters.char+=2:(this.dataCounters.other+=2,p.log("WARNING","Couldn't parse cleaned data "+v([r,i])+" orig: "+v([t[o],t[o+1]])))}else this.dataCounters.padding+=2}},{key:"parseCmd",value:function(e,t){var n;if(!((20===e||28===e)&&32<=t&&t<=47)&&!((23===e||31===e)&&33<=t&&t<=35))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,p.log("DEBUG","Repeated command ("+v([e,t])+") is dropped"),!0;n=20===e||23===e?1:2;var r=this.channels[n-1];return 20===e||28===e?32===t?r.ccRCL():33===t?r.ccBS():34===t?r.ccAOF():35===t?r.ccAON():36===t?r.ccDER():37===t?r.ccRU(2):38===t?r.ccRU(3):39===t?r.ccRU(4):40===t?r.ccFON():41===t?r.ccRDC():42===t?r.ccTR():43===t?r.ccRTD():44===t?r.ccEDM():45===t?r.ccCR():46===t?r.ccENM():47===t&&r.ccEOC():r.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0}},{key:"parseMidrow",value:function(e,t){var n=null;return(17===e||25===e)&&32<=t&&t<=47&&((n=17===e?1:2)!==this.currChNr?(p.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].ccMIDROW(t),p.log("DEBUG","MIDROW ("+v([e,t])+")"),!0))}},{key:"parsePAC",value:function(e,t){var n,r;if(!((17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127)&&!((16===e||24===e)&&64<=t&&t<=95))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=e<=23?1:2,r=64<=t&&t<=95?1===n?u[e]:d[e]:1===n?c[e]:f[e];var i=this.interpretPAC(r,t);return this.channels[n-1].setPAC(i),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0}},{key:"interpretPAC",value:function(e,t){var n,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r}},{key:"parseChars",value:function(e,t){var n=null,r=null,i=null;if(e>=25?(n=2,i=e-8):(n=1,i=e),17<=i&&i<=19){var a;a=17===i?t+80:18===i?t+112:t+144,p.log("INFO","Special char '"+o(a)+"' in channel "+n),r=[a]}else 32<=e&&e<=127&&(r=0===t?[e]:[e,t]);if(r){var s=v(r);p.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return r}},{key:"parseBackgroundAttributes",value:function(e,t){var n,r,i;return!(!((16===e||24===e)&&32<=t&&t<=47)&&!((23===e||31===e)&&45<=t&&t<=47)||(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=h[r],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),i=e<24?1:2,this.channels[i-1].setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,0))}},{key:"reset",value:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null}},{key:"cueSplitAtTime",value:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}}]),e}();n.default=b},{}],50:[function(e,t,n){"use strict";var r=e(57),i={newCue:function(e,t,n,i){for(var a,o,s,l,u,c=window.VTTCue||window.TextTrackCue,d=0;d<i.rows.length;d++)if(s=!0,l=0,u="",!(a=i.rows[d]).isEmpty()){for(var f=0;f<a.chars.length;f++)a.chars[f].uchar.match(/\s/)&&s?l++:(u+=a.chars[f].uchar,s=!1);a.cueStartTime=t,t===n&&(n+=1e-4),o=new c(t,n,(0,r.fixLineBreaks)(u.trim())),l>=16?l--:l++,navigator.userAgent.match(/Firefox\//)?o.line=d+1:o.line=d>7?d-2:d+1,o.align="left",o.position=Math.max(0,Math.min(100,l/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(o)}}};t.exports=i},{57:57}],51:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.findFragWithCC=function(e,t){return r.default.search(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))};var r=function(e){return e&&e.__esModule?e:{default:e}}(e(48))},{48:48}],52:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(e(53)),a=function(){function e(t,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hls=t,this.defaultEstimate_=a,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new i.default(n),this.fast_=new i.default(r)}return r(e,[{key:"sample",value:function(e,t){var n=8e3*t/(e=Math.max(e,this.minDelayMs_)),r=e/1e3;this.fast_.sample(r,n),this.slow_.sample(r,n)}},{key:"canEstimate",value:function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_}},{key:"getEstimate",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:"destroy",value:function(){}}]),e}();n.default=a},{53:53}],53:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return r(e,[{key:"sample",value:function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_}}]),e}();n.default=i},{}],54:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(){}var a={trace:i,debug:i,log:i,warn:i,info:i,error:i},o=a;n.enableLogs=function(e){if(!0===e||"object"===(void 0===e?"undefined":r(e))){!function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach((function(t){o[t]=e[t]?e[t].bind(e):function(e){var t=self.console[e];return t?function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];r[0]&&(r[0]=function(e,t){return"["+e+"] > "+t}(e,r[0])),t.apply(self.console,r)}:i}(t)}))}(e,"debug","log","info","warn","error");try{o.log()}catch(e){o=a}}else o=a},n.logger=o},{}],55:[function(e,t,n){"use strict";t.exports={toString:function(e){for(var t="",n=e.length,r=0;r<n;r++)t+="["+e.start(r).toFixed(3)+","+e.end(r).toFixed(3)+"]";return t}}},{}],56:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var e="auto",t={"":!0,lr:!0,rl:!0},n={start:!0,middle:!0,end:!0,left:!0,right:!0};function r(e){return"string"==typeof e&&(!!n[e.toLowerCase()]&&e.toLowerCase())}function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function a(n,a,o){var s=this,l=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),u={};l?s=document.createElement("custom"):u.enumerable=!0,s.hasBeenReset=!1;var c="",d=!1,f=n,h=a,p=o,v=null,g="",m=!0,y="auto",A="start",_=50,b="middle",E=50,w="middle";if(Object.defineProperty(s,"id",i({},u,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},u,{get:function(){return d},set:function(e){d=!!e}})),Object.defineProperty(s,"startTime",i({},u,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},u,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},u,{get:function(){return p},set:function(e){p=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},u,{get:function(){return v},set:function(e){v=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},u,{get:function(){return g},set:function(e){var n=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");g=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},u,{get:function(){return m},set:function(e){m=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},u,{get:function(){return y},set:function(t){if("number"!=typeof t&&t!==e)throw new SyntaxError("An invalid number or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},u,{get:function(){return A},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");A=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},u,{get:function(){return _},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},u,{get:function(){return b},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},u,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},u,{get:function(){return w},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");w=t,this.hasBeenReset=!0}})),s.displayState=void 0,l)return s}return a.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},a}()},{}],57:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.fixLineBreaks=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e(56)),i=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};function a(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new i,this.regionList=[]}function o(){this.values=Object.create(null)}function s(e,t,n,r){var i=r?e.split(r):[e];for(var a in i)if("string"==typeof i[a]){var o=i[a].split(n);if(2===o.length)t(o[0],o[1])}}o.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var l=new r.default(0,0,0),u="middle"===l.align?"middle":"center";function c(e,t,n){var r=e;function i(){var t=function(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}(e);if(null===t)throw new Error("Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function a(){e=e.replace(/^\s+/,"")}if(a(),t.startTime=i(),a(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),a(),t.endTime=i(),a(),function(e,t){var r=new o;s(e,(function(e,t){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),o=a[0];r.integer(e,o),r.percent(e,o)&&r.set("snapToLines",!1),r.alt(e,o,["auto"]),2===a.length&&r.alt("lineAlign",a[1],["start",u,"end"]);break;case"position":a=t.split(","),r.percent(e,a[0]),2===a.length&&r.alt("positionAlign",a[1],["start",u,"end","line-left","line-right","auto"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start",u,"end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");var i=r.get("line","auto");"auto"===i&&-1===l.line&&(i=-1),t.line=i,t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align",u);var a=r.get("position","auto");"auto"===a&&50===l.position&&(a="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=a}(e,t)}function d(e){return e.replace(/<br(?: \/)?>/gi,"\n")}a.prototype={parse:function(e){var t=this;function n(){var e=t.buffer,n=0;for(e=d(e);n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}function i(e){s(e,(function(e,t){switch(e){case"Region":console.log("parse region",t)}}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var a;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var o=(a=n()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var l=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(l?l=!1:a=n(),t.state){case"HEADER":/:/.test(a)?i(a):a||(t.state="ID");continue;case"NOTE":a||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){t.state="NOTE";break}if(!a)continue;if(t.cue=new r.default(0,0,""),t.state="CUE",-1===a.indexOf("--\x3e")){t.cue.id=a;continue}case"CUE":try{c(a,t.cue,t.regionList)}catch(e){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var u=-1!==a.indexOf("--\x3e");if(!a||u&&(l=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=a;continue;case"BADCUE":a||(t.state="ID");continue}}}catch(e){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return this.onflush&&this.onflush(),this}},n.fixLineBreaks=d,n.default=a},{56:56}],58:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(e(57)),i=function(e,t,n){return e.substr(n||0,t.length)===t},a=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()},o={parse:function(e,t,n,o,s,l){var u=String.fromCharCode.apply(null,new Uint8Array(e)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),c="00:00.000",d=0,f=0,h=0,p=[],v=void 0,g=!0,m=new r.default;m.oncue=function(e){var t=n[o],r=n.ccOffset;t&&t.new&&(void 0!==f?r=n.ccOffset=t.start:function(e,t,n){var r=e[t],i=e[r.prevCC];if(!i||!i.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,void(r.new=!1);for(;i&&i.new;)e.ccOffset+=r.start-i.start,r.new=!1,i=e[(r=i).prevCC];e.presentationOffset=n}(n,o,h)),h&&(r=h+n.ccOffset-n.presentationOffset),e.startTime+=r-f,e.endTime+=r-f,e.id=a(e.startTime)+a(e.endTime)+a(e.text),e.text=decodeURIComponent(escape(e.text)),e.endTime>0&&p.push(e)},m.onparsingerror=function(e){v=e},m.onflush=function(){v&&l?l(v):s(p)},u.forEach((function(e){if(g){if(i(e,"X-TIMESTAMP-MAP=")){g=!1,e.substr(16).split(",").forEach((function(e){i(e,"LOCAL:")?c=e.substr(6):i(e,"MPEGTS:")&&(d=parseInt(e.substr(7)))}));try{d-=t=t<0?t+8589934592:t,f=function(e){var t=parseInt(e.substr(-3)),n=parseInt(e.substr(-6,2)),r=parseInt(e.substr(-9,2)),i=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;return isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)?-1:(t+=1e3*n,t+=6e4*r,t+=36e5*i)}(c)/1e3,h=d/9e4,-1===f&&(v=new Error("Malformed X-TIMESTAMP-MAP: "+e))}catch(t){v=new Error("Malformed X-TIMESTAMP-MAP: "+e)}return}""===e&&(g=!1)}m.parse(e+"\n")})),m.flush()}};t.exports=o},{57:57}],59:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e(54),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return r(e,[{key:"destroy",value:function(){this.abort(),this.loader=null}},{key:"abort",value:function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null}},{key:"load",value:function(e,t,n){this.context=e,this.config=t,this.callbacks=n,this.stats={trequest:performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()}},{key:"loadInternal",value:function(){var e,t=this.context;e="undefined"!=typeof XDomainRequest?this.loader=new XDomainRequest:this.loader=new XMLHttpRequest;var n=this.stats;n.tfirst=0,n.loaded=0;var r=this.xhrSetup;try{if(r)try{r(e,t.url)}catch(n){e.open("GET",t.url,!0),r(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(n){return void this.callbacks.onError({code:e.status,text:n.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()}},{key:"readystatechange",value:function(e){var t=e.currentTarget,n=t.readyState,r=this.stats,a=this.context,o=this.config;if(!r.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===r.tfirst&&(r.tfirst=Math.max(performance.now(),r.trequest)),4===n){var s=t.status;if(s>=200&&s<300){r.tload=Math.max(r.tfirst,performance.now());var l=void 0,u=void 0;"arraybuffer"===a.responseType?u=(l=t.response).byteLength:u=(l=t.responseText).length,r.loaded=r.total=u;var c={url:t.responseURL,data:l};this.callbacks.onSuccess(c,r,a,t)}else r.retry>=o.maxRetry||s>=400&&s<499?(i.logger.error(s+" while loading "+a.url),this.callbacks.onError({code:s,text:t.statusText},a,t)):(i.logger.warn(s+" while loading "+a.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),r.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),o.timeout)}},{key:"loadtimeout",value:function(){i.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)}},{key:"loadprogress",value:function(e){var t=e.currentTarget,n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total);var r=this.callbacks.onProgress;r&&r(n,this.context,null,t)}}]),e}();n.default=a},{54:54}]},{},[40])(40)},function(e,t,n){"use strict";var r=s(n(1)),i=s(n(2)),a=s(n(3)),o=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var l={init:n(285)},u=function(){function e(t){(0,r.default)(this,e),this.s=t,this.dom=null}return(0,i.default)(e,[{key:"createDom",value:function(){if("Y"!==this.s.isOnlyAudio)return null;var e=o.default.createDivFromString("plv-live-player-audio");return this.dom=e,this.init(),e}},{key:"init",value:function(){var e=this.s;this.dom.innerHTML=l.init({setting:e})}},{key:"show",value:function(){this.dom.style.display="block"}},{key:"hide",value:function(){this.dom.style.display="none"}},{key:"updateFlow",value:function(){switch(this.s.flowStatus){case a.default.PLAYING:this.show();break;case a.default.ENDED:this.hide()}}}]),e}();e.exports=function(e){var t=new u(e);return e.audio=t,t}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var a=t.split("\n"),o=Math.max(r-3,0),s=Math.min(a.length,r+3),l=i(n),u=a.slice(o,s).map((function(e,t){var n=t+o+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="plv-live-player-audio-bg" style="background: url(<%= setting.defaultBlue %>)  center center / cover no-repeat;"></div>\r\n<div class="plv-live-player-audio-icon" style="background: url(<%= setting.audioImage %>) center center no-repeat;"></div>',__filename="src\\js\\component\\templates\\audio.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="plv-live-player-audio-bg" style="background: url('),__append(escapeFn(setting.defaultBlue)),__append(')  center center / cover no-repeat;"></div>\r\n<div class="plv-live-player-audio-icon" style="background: url('),__line=2,__append(escapeFn(setting.audioImage)),__append(') center center no-repeat;"></div>');return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){"use strict";var r=o(n(1)),i=o(n(2)),a=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}var s={init:n(287)},l=function(){function e(t){(0,r.default)(this,e),this.dom=null,this.setting=t,this.emitter=t.event,this.LogoDis=20}return(0,i.default)(e,[{key:"createDom",value:function(){return this.dom=a.default.createDivFromString("plv-live-player-logo"),this.dom}},{key:"init",value:function(){var e=this.setting;e.logoImage&&e.logoImage.length>0&&(this.dom.innerHTML=s.init({setting:e}),this.dom.style.opacity=isNaN(parseFloat(this.setting.logoOpacity))?1:parseFloat(this.setting.logoOpacity),this.logoPosition(e.logoPosition||"tr"))}},{key:"logoPosition",value:function(e){var t=0,n=0,r=0,i=0;switch(e){case"tr":t=this.LogoDis,r=this.LogoDis;break;case"tl":t=this.LogoDis,i=this.LogoDis;break;case"br":n=this.LogoDis,r=this.LogoDis;break;case"bl":n=this.LogoDis,i=this.LogoDis}t>0&&(this.dom.style.top=t+"px"),n>0&&(this.dom.style.bottom=n+"px"),i>0&&(this.dom.style.left=i+"px"),r>0&&(this.dom.style.right=r+"px")}}]),e}();e.exports=function(e){var t=new l(e);return e.logo=t,t}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var a=t.split("\n"),o=Math.max(r-3,0),s=Math.min(a.length,r+3),l=i(n),u=a.slice(o,s).map((function(e,t){var n=t+o+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<%if (setting.logoImage) {%> <img src="<%= setting.logoImage %>" class="plv-live-player-logo-img"><% } %>\r\n<%if (setting.logoHref) {%> <a href="<%= setting.logoHref %>" target="_blank"></a><% } %>',__filename="src\\js\\component\\templates\\logo.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})setting.logoImage&&(__append(' <img src="'),__append(escapeFn(setting.logoImage)),__append('" class="plv-live-player-logo-img">')),__append("\r\n"),__line=2,setting.logoHref&&(__append(' <a href="'),__append(escapeFn(setting.logoHref)),__append('" target="_blank"></a>'));return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){"use strict";var r=o(n(1)),i=o(n(2)),a=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}var s={init:n(289)},l=function(){function e(t){(0,r.default)(this,e),this.settings=t,this.dom=null}return(0,i.default)(e,[{key:"createDom",value:function(){var e=this.settings,t="Version:  "+e.version,n="由保利威提供视频服务",r="https://www.polyv.net/";return"Y"===e.isRightMenuEnabled&&(n=e.rightMenu,r=e.rightMenuHref),this.dom=a.default.createDOMFromString(s.init({version:t,context:n,href:r})),this.dom}},{key:"show",value:function(e,t){this.dom&&(this.dom.style.display="block",this.dom.style.left=e+"px",this.dom.style.top=t+"px")}},{key:"hide",value:function(){this.dom&&(this.dom.style.display="none")}}]),e}();e.exports=function(e){var t=new l(e);return e.rightMenuPanel=t,t}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var a=t.split("\n"),o=Math.max(r-3,0),s=Math.min(a.length,r+3),l=i(n),u=a.slice(o,s).map((function(e,t){var n=t+o+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="plv-live-player-rightMenu">\r\n  <ul>\r\n    <li><%= version %></li>\r\n    <%if (context) {%><li><a href="<%= href %>" target="_blank"><%= context %></a></li><% } %>\r\n  </ul>\r\n</div>',__filename="src\\js\\component\\templates\\rightMenu.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="plv-live-player-rightMenu">\r\n  <ul>\r\n    <li>'),__line=3,__append(escapeFn(version)),__append("</li>\r\n    "),__line=4,context&&(__append('<li><a href="'),__append(escapeFn(href)),__append('" target="_blank">'),__append(escapeFn(context)),__append("</a></li>")),__append("\r\n  </ul>\r\n</div>"),__line=6;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(59)),i=u(n(1)),a=u(n(2));t.default=function(e){return new c(e)};var o=u(n(0)),s=u(n(41)),l=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){(0,i.default)(this,e),this.setting=t,this.emitter=t.event,this.dom=null}return(0,a.default)(e,[{key:"createDom",value:function(){if(this.setting.ban_ui)return null;var e=o.default.createDOMFromString('\n        <div class="plv-live-player-big-play-btn" style="display: none;background-color: rgba(0,0,0,0.8);"></div>\n      ');return this.bindClick(e),this.dom=e,this.dom}},{key:"bindClick",value:function(e){var t=this;o.default.addHandler(e,"click",(function(){var n=t.setting;n.rightMenuShow||(s.default.hasClass(e,"plv-hide")?n.videoPanel.pause():(n.clickPlay=!0,n.videoPanel.play()))}))}},{key:"hide",value:function(){s.default.addClass(this.dom,"plv-hide")}},{key:"show",value:function(){this.dom.style.display="block",s.default.removeClass(this.dom,"plv-hide")}},{key:"updateFlow",value:function(){var e,t=this.setting;this[(e={},(0,r.default)(e,l.default.PLAYING,"hide"),(0,r.default)(e,l.default.READY_PLAY,"show"),(0,r.default)(e,l.default.PAUSE,"show"),e)[t.flowStatus]||"hide"]()}}]),e}()},function(e,t,n){"use strict";var r=a(n(1)),i=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}var o=n(292),s=void 0;document.addEventListener("click",(function e(){s=!0,document.removeEventListener("click",e)}));var l=function(){function e(){var t=this;(0,r.default)(this,e),this.support=void 0,this.callbackAry=[],new Promise((function(e){if(void 0===s){var t=document.createElement("audio");t.src=o;var n=document.getElementsByTagName("body")[0]||document.getElementsByTagName("html")[0];n.appendChild(t);var r=t.play();if(!r)return n.removeChild(t),void e(!0);r.then((function(){n.removeChild(t),e(!0)})).catch((function(r){n.removeChild(t),e(!1)}))}else e(s)})).then((function(e){t.support=e,t.callbackAry.forEach((function(e){return e(t.support)})),t.callbackAry=void 0}))}return(0,i.default)(e,[{key:"bind",value:function(e){if("function"==typeof e)return s?(this.support=!0,void e(this.support)):void(void 0!==this.support?e(this.support):this.callbackAry&&this.callbackAry.push(e))}}]),e}();e.exports=l},function(e,t){e.exports="data:audio/mpeg;base64,SUQzAwAAAAAyQVRZRVIAAAAGAAAAMjAxOABUREFUAAAABgAAADE4MTAAVElNRQAAAAYAAAAxMDA0AFBSSVYAABEHAABYTVAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDQgNzkuMTYyMDQ1LCAyMDE4LzAxLzIzLTA2OjA1OjUyICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgeG1sbnM6eG1wRE09Imh0dHA6Ly9ucy5hZG9iZS5jb20veG1wLzEuMC9EeW5hbWljTWVkaWEvIgogICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgQXVkaXRpb24gQ0MgMjAxOC4xIChXaW5kb3dzKSIKICAgeG1wOkNyZWF0ZURhdGU9IjIwMTgtMTAtMThUMTA6MDQ6MDQrMDg6MDAiCiAgIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMTAtMThUMTA6MDQ6MTgrMDg6MDAiCiAgIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTEwLTE4VDEwOjA0OjE4KzA4OjAwIgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjZlOTAxZGFmLWY2MzEtZGQ0MC05NzU1LWE2OTMzZTg1MDFhNSIKICAgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2ZTkwMWRhZi1mNjMxLWRkNDAtOTc1NS1hNjkzM2U4NTAxYTUiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiOWNkN2EzNy0zYTAyLWVhNDEtOGM5Zi0xODVmMWI5OWNhMDIiCiAgIGRjOmZvcm1hdD0iYXVkaW8vbXBlZyI+CiAgIDx4bXBETTpUcmFja3M+CiAgICA8cmRmOkJhZz4KICAgICA8cmRmOmxpCiAgICAgIHhtcERNOnRyYWNrTmFtZT0iQ3VlUG9pbnQgTWFya2VycyIKICAgICAgeG1wRE06dHJhY2tUeXBlPSJDdWUiCiAgICAgIHhtcERNOmZyYW1lUmF0ZT0iZjgwMDAiLz4KICAgICA8cmRmOmxpCiAgICAgIHhtcERNOnRyYWNrTmFtZT0iQ0QgVHJhY2sgTWFya2VycyIKICAgICAgeG1wRE06dHJhY2tUeXBlPSJUcmFjayIKICAgICAgeG1wRE06ZnJhbWVSYXRlPSJmODAwMCIvPgogICAgIDxyZGY6bGkKICAgICAgeG1wRE06dHJhY2tOYW1lPSJTdWJjbGlwIE1hcmtlcnMiCiAgICAgIHhtcERNOnRyYWNrVHlwZT0iSW5PdXQiCiAgICAgIHhtcERNOmZyYW1lUmF0ZT0iZjgwMDAiLz4KICAgIDwvcmRmOkJhZz4KICAgPC94bXBETTpUcmFja3M+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmI5Y2Q3YTM3LTNhMDItZWE0MS04YzlmLTE4NWYxYjk5Y2EwMiIKICAgICAgc3RFdnQ6d2hlbj0iMjAxOC0xMC0xOFQxMDowNDoxOCswODowMCIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgQXVkaXRpb24gQ0MgMjAxOC4xIChXaW5kb3dzKSIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iL21ldGFkYXRhIi8+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjZlOTAxZGFmLWY2MzEtZGQ0MC05NzU1LWE2OTMzZTg1MDFhNSIKICAgICAgc3RFdnQ6d2hlbj0iMjAxOC0xMC0xOFQxMDowNDoxOCswODowMCIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgQXVkaXRpb24gQ0MgMjAxOC4xIChXaW5kb3dzKSIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgIDx4bXBNTTpEZXJpdmVkRnJvbQogICAgc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpiOWNkN2EzNy0zYTAyLWVhNDEtOGM5Zi0xODVmMWI5OWNhMDIiCiAgICBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmI5Y2Q3YTM3LTNhMDItZWE0MS04YzlmLTE4NWYxYjk5Y2EwMiIKICAgIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiOWNkN2EzNy0zYTAyLWVhNDEtOGM5Zi0xODVmMWI5OWNhMDIiLz4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/jGMAAAAACXAAAAAC0BLEAAAAAAABFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/jGMAxAAACXAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/jGMBsAAACXAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFRBRwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADIwMTgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(59)),i=l(n(1)),a=l(n(2)),o=l(n(294)),s=l(n(12));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){(0,i.default)(this,e),this.set=t,this.getQosType(),this.addEvent()}return(0,a.default)(e,[{key:"addEvent",value:function(){var e,t=this,n=this.set,i=(e={},(0,r.default)(e,s.default.START_FIRST_LOADING,(function(){t.startFirstLoadingTime=Date.now(),n.hasSendLoading=!1})),(0,r.default)(e,s.default.END_FIRST_LOADING,(function(){t.loadingTime=Date.now()-t.startFirstLoadingTime,t.qosType.set(2001,{type:"loading",time:t.loadingTime}),t.sendQos(2001),n.hasSendLoading=!0})),(0,r.default)(e,s.default.START_BUFFER,(function(){t.startbufferTime=Date.now(),n.hasSendBuffer=!1})),(0,r.default)(e,s.default.END_BUFFER,(function(){t.bufferTime=Date.now()-t.startbufferTime,t.qosType.set(3001,{type:"buffer",time:t.bufferTime}),t.sendQos(3001),n.hasSendBuffer=!0})),(0,r.default)(e,s.default.PLAYER_ERROR,(function(){t.qosType.set(1001,{type:"error",errorcode:n.errorCode}),t.sendQos(1001)})),(0,r.default)(e,s.default.AD_PLAY,(function(){t.sendAdQos(4001)})),(0,r.default)(e,s.default.AD_ERROR,(function(){t.sendAdQos(4002)})),e);Object.keys(i).forEach((function(e){n.event.on(e,i[e])}))}},{key:"getQosType",value:function(){var e=this.set;this.qosType=new Map([[1001,{type:"error",code:"load_video_failure",uri:e.video.src,errormsg:"播放视频失败"}],[2001,{type:"loading",time:this.loadingTime}],[3001,{type:"buffer",time:this.bufferTime}],[4001,{type:"adplay"}],[4002,{type:"aderror"}]])}},{key:"getQosData",value:function(e){var t=this.set,n={pid:t.pid,uid:t.uid,cid:t.vid};for(var r in t.session_id&&(n.session_id=t.session_id),t.params)n[r]=t.params[r];return n.client=t.pn+"-"+t.version,Object.assign(n,this.qosType.get(e)),n}},{key:"sendQos",value:function(e){var t=this.getQosData(e);o.default.sendQos(t)}},{key:"sendAdQos",value:function(e){var t=this.getQosData(e);o.default.sendAdQos(t)}}]),e}();t.default=u},function(e,t,n){"use strict";var r=i(n(295));function i(e){return e&&e.__esModule?e:{default:e}}var a=i(n(42)).default.protocol,o={sendQos:function(e){return(0,r.default)({url:a+"//rtas.videocc.net/qos",data:e})},sendAdQos:function(e){return(0,r.default)({url:a+"//rtas.videocc.net/adstats",data:e})}};e.exports=o},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(25));e.exports=function(e){var t=e.url,n=e.type,i=void 0===n?"GET":n,a=e.data;return new Promise((function(e,n){(0,r.default)({url:t,type:i,data:a,success:function(t){e(t)},error:function(e){n(e)}})})).catch((function(e){return console.info(e),""}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}var o="//player.polyv.net/livescript/liveplayer.js",s=function(){function e(t){(0,r.default)(this,e);var n=t.wrap,i=t.params,a=t.cb||function(){},o=e.createScript(e.url);o.onload=function(){a(),e._init(n,i)},window.polyvObject?(a(),e._init(n,i)):document.querySelector("head").appendChild(o)}return(0,i.default)(e,[{key:"url",get:function(){return o}}],[{key:"createScript",value:function(e){var t=document.createElement("script");return t.src=e,t}}]),(0,i.default)(e,null,[{key:"_init",value:function(e,t){return window.polyvObject(e).livePlayer(t)}}]),e}();s.url=o,t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(61)),i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}t.default={apiInit:function(){this.s2j_onInitOver(),this.j2s_setBarrage()},j2s_setBarrage:function(){var e=!1;!0===this.danmuEnable&&"N"===this.closeDanmuEnable&&(e=!0),window.j2s_setBarrage&&(e=window.j2s_setBarrage()),this.setBarrage=e,!this.banDanmuBtn&&this.danmubtn&&e&&this.danmubtn.show(),this.showDanmu||this.setBarrageStatus(!1)},j2s_addBarrageMessage:function(e){this.multiPlayer?this.multiPlayer.j2s_addBarrageMessage(e):this.danmu&&this.danmu.addBarrage(e)},setBarrageStatus:function(e){this.multiPlayer?this.multiPlayer.setBarrageStatus(e):e?(this.danmu&&this.danmu.show(),this.danmubtn&&this.danmubtn.changeStatus(!1)):(this.danmu&&this.danmu.hide(),this.danmubtn&&this.danmubtn.changeStatus(!0))},j2s_showBarrage:function(){this.multiPlayer?this.multiPlayer.j2s_showBarrage():this.setBarrageStatus(!0)},j2s_hideBarrage:function(e){this.multiPlayer?this.multiPlayer.j2s_hideBarrage():this.setBarrageStatus(e)},j2s_setVolume:function(e){e=(e=e<0?0:e)>1?1:e,this.multiPlayer?this.multiPlayer.j2s_setVolume(e):this.volumeslide&&this.volumeslide.setVolume(e)},j2s_changeHorseMessage:function(e){this.multiPlayer?this.multiPlayer.j2s_changeHorseMessage&&this.multiPlayer.j2s_changeHorseMessage(e):this.marqueePanel&&this.marqueePanel.changeMarqueeContent(e)},j2s_resumeVideo:function(){this.multiPlayer?this.multiPlayer.j2s_resumeVideo():this.videoPanel&&(this.jsautoplay=!0,this.autoPlay=!0,this.videoPanel.play())},j2s_pauseVideo:function(){this.multiPlayer?this.multiPlayer.j2s_pauseVideo():this.videoPanel&&this.videoPanel.pause()},j2s_getCurrentTime:function(){var e=0;return this.multiPlayer?e=this.multiPlayer.j2s_getCurrentTime():this.videoPanel&&(e=this.videoPanel.getCurrentTime()),e},j2s_seekVideo:function(e){this.multiPlayer?this.multiPlayer.j2s_seekVideo(e):this.videoPanel&&this.videoPanel.seek(e)},changeParam:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.multiPlayer?this.multiPlayer.changeParam(t):(this.param1=t[0]?t[0]:this.param1,this.param2=t[1]?t[1]:this.param2,this.param3=t[2]?t[2]:this.param3,this.param4=t[3]?t[3]:this.param4,this.param5=t[4]?t[4]:this.param5,this.params=i.default.getParams(this))},changeSessionId:function(e){this.multiPlayer?this.multiPlayer.changeSessionId(e):this.session_id=e||this.session_id},j2s_setStatistics:function(e){"string"==typeof e&&(e=JSON.parse(e)),this.multiPlayer?this.multiPlayer.j2s_setStatistics&&this.multiPlayer.j2s_setStatistics(e):(this.param1=e.param1?e.param1:this.param1,this.param2=e.param2?e.param2:this.param2,this.param3=e.param3?e.param3:this.param3,this.param4=e.param4?e.param4:this.param4,this.param5=e.param5?e.param5:this.param5,this.session_id=e.sid?e.sid:this.session_id,this.params=i.default.getParams(this))},sendUte:function(e,t){r.default&&(this.ute=e,this.uted=t,r.default.sendStat2(this),this.ute="",this.uted="")},j2s_resetStream:function(){this.multiPlayer?this.multiPlayer.j2s_resetStream():this.videoPanel&&this.videoPanel.resetStream&&this.videoPanel.resetStream()},j2s_changeStream:function(e){this.event.emit("__onChangeStream",e)},changeVod:function(e){this.multiPlayer?this.multiPlayer.changeVod(e):this.event.emit("__onChangeVod",e)},j2s_changeLevel:function(e){this.multiPlayer?this.multiPlayer.j2s_changeLevel(e):this.event.emit("__onChangeLevel",e)},j2s_changeRate:function(e){this.multiPlayer?this.multiPlayer.j2s_changeRate(e):this.event.emit("__onChangeRate",e)},changeLine:function(e){this.multiPlayer?this.multiPlayer.changeLine(e):this.event.emit("__onChangeLine",e)},showVolumePanel:function(e){this.multiPlayer?this.multiPlayer.showVolumePanel(e):this.event.emit("__onShowVolumePanel",e)},destroy:function(){this.multiPlayer?this.multiPlayer.destroy():this.event.emit("__onDestroy")},s2j_onInitOver:function(){window.s2j_onInitOver&&window.s2j_onInitOver(this.vid),window.s2j_onJsInitOver&&window.s2j_onJsInitOver(this.vid),this.event.emit("s2j_onInitOver",{cid:this.vid,vid:this.videoId}),this.event.emit("s2j_onJsInitOver",{cid:this.vid,vid:this.videoId}),this.event.emit("s2j_onInterfaceInitOver",{cid:this.vid,vid:this.videoId})},onApiStatus:function(e){window.s2j_onApiStatus&&window.s2j_onApiStatus(e),this.event.emit("s2j_onApiStatus",{status:e,cid:this.vid,vid:this.videoId}),this.s2j_onStreamStatus(e)},s2j_onStreamStatus:function(e){this.event.emit("s2j_onStreamStatus",{status:e,cid:this.vid,vid:this.videoId})},s2j_volume:function(e){this.event.emit("s2j_volume",{volume:e,cid:this.vid,vid:this.videoId})},s2j_onFullScreen:function(e){this.event.emit("s2j_onFullScreen",{fullscreen:e,cid:this.vid,vid:this.videoId})},s2j_barrageStatus:function(e){this.event.emit("s2j_barrageStatus",{status:e,cid:this.vid,vid:this.videoId})},s2j_broadcastBarrageMsg:function(e){this.event.emit("s2j_broadcastBarrageMsg",{msg:e,cid:this.vid,vid:this.videoId})},s2j_onLoadedMetadata:function(){this.event.emit("s2j_onLoadedMetadata",{cid:this.vid,vid:this.videoId})},s2j_onSeek:function(e,t){this.event.emit("s2j_onSeek",{position:e,offset:t,cid:this.vid,vid:this.videoId})},s2j_onStartPlay:function(){this.event.emit("s2j_onStartPlay",{cid:this.vid,vid:this.videoId})},s2j_onPlay:function(){this.event.emit("videoPlay"),this.event.emit("s2j_onPlay",{cid:this.vid,vid:this.videoId}),this.event.emit("s2j_onVideoPlay",{cid:this.vid,vid:this.videoId})},s2j_onPause:function(){this.event.emit("videoPause"),this.event.emit("s2j_onPause",{cid:this.vid,vid:this.videoId}),this.event.emit("s2j_onVideoPause",{cid:this.vid,vid:this.videoId})},s2j_onOver:function(){this.event.emit("videoEnded"),this.event.emit("s2j_onOver",{cid:this.vid,vid:this.videoId}),this.event.emit("s2j_onPlayOver",{cid:this.vid,vid:this.videoId})},onPlayerError:function(){this.event.emit("s2j_onPlayerError",{errorCode:this.errorCode,cid:this.vid})},s2j_requestMarqueeAPI:function(){var e=!1;window.s2j_requestMarqueeAPI?e=window.s2j_requestMarqueeAPI():this.event.emit&&(e=this.event.emit("s2j_requestMarqueeAPI")),this.requestMarqueeAPI=e},onAutoPlay:function(e){this.event.emit("onAutoPlay",{cid:this.vid,autoplay:e})},onSEIInfo:function(e){var t=null;try{t=parseFloat(JSON.parse(e.userData).app_data),t-=Math.round(1e3*(this.video.buffered.end(0)-this.video.currentTime))}catch(e){}t&&t>0&&this.event.emit("seiInfo",{time:t,data:e})},onPPTDelayTime:function(){this.event.emit("s2j_onPptDelayTime",{cid:this.vid,pptDelayTime:this.pptDelayTime[this.line].pc})}}},function(e,t,n){"use strict";var r=a(n(299)),i=a(n(300));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=function(e){return{addEvent:function(t){switch(t){case"__restrictJsonInit":e.event.on("__restrictJsonInit",this.restrictJsonInit);break;case"__channelJsonInit":e.event.on("__channelJsonInit",this.channelJsonInit)}},restrictJsonInit:function(){r.default.init(e)},channelJsonInit:function(){i.default.init(e)}}}},function(e,t,n){"use strict";var r=a(n(25)),i=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var o={init:function(e){var t=this;(0,r.default)({url:1===e.restrictLoadTime?e.restrictUrl:e.backUpRestrictUrl,time:5e3,success:function(n){t.done(e,n)},error:function(){t.fail(e)}})},done:function(e,t){e=Object.assign(e,t),t.canWatch?this.loadChannelJson(e):(e.errorCode=t.errorCode,e.updateFlowStatus(i.default.ERROR),console.error(e.errorCode,t.errorMsg))},fail:function(e){1===e.restrictLoadTime?(e.restrictLoadTime=2,this.init(e)):2===e.restrictLoadTime&&(e.restrictLoadTime=0,this.loadChannelJson(e))},loadChannelJson:function(e){e.event.emit("__channelJsonInit")}};e.exports=o},function(e,t,n){"use strict";var r=f(n(134)),i=f(n(135)),a=f(n(0)),o=f(n(42)),s=f(n(87)),l=f(n(3)),u=f(n(318)),c=f(n(319)),d=f(n(320));function f(e){return e&&e.__esModule?e:{default:e}}var h={init:function(e){var t=this;a.default.channelLoad(e).then((function(n){n?t.done(e,n):(e.errorCode="LIVE-#001",e.updateFlowStatus(l.default.ERROR),console.error(e.errorCode,"channel json数据失败/错误"))})).catch((function(n){console.info(n),t.fail(e)}))},done:function(){var e=(0,i.default)(r.default.mark((function e(t,n){var i,f,h,p,v,g;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.debug){e.next=7;break}if((i=u.default.check(n))[0]){e.next=7;break}return t.errorCode=i[1],t.updateFlowStatus(l.default.ERROR),console.error(t.errorCode,"黑白名单限制"),e.abrupt("return");case 7:if(!0===t.validUrl&&"polyv.net"!==o.default.host.replace(/.*\.([^\.]+\.[^\.]+)$/,"$1")){e.next=18;break}return f=new c.default(t,n.channelRestrictModel),e.next=11,f.getResult();case 11:if((h=e.sent).isVerified){e.next=18;break}return t.errorCode=h.errCode,h.message&&t.error.showErrorByMsg(h.message),t.updateFlowStatus(l.default.ERROR),console.error(t.errorCode,"授权限制"),e.abrupt("return");case 18:t.channelLoadTime=1,"boolean"==typeof t.autoplay&&(n.autoPlay=t.autoplay),t.jsautoplay&&(n.autoPlay=t.jsautoplay),t.event.emit("s2j_onChannelJsonData",{data:n}),p=t.name,!0===(t=Object.assign(t,n)).useFlv&&(t.useHls="N"),p&&p.length>0&&(t.stream=p),t.line>t.lines.length-1&&(t.line=t.lines.length-1),v=t.lines[t.line].flv,"Y"===t.useHls&&(v=t.lines[t.line].m3u8),"Y"===n.isOnlyAudio?"ws"===t.lines[t.line].cdnType?v+="&only-audio=1":"ali"===t.lines[t.line].cdnType&&(v+="&onlyAudio=1"):n.lines[t.line].multirateModel&&!t.banMultirate&&(v=n.lines[t.line].multirateModel.defaultDefinitionUrl,"Y"===t.useHls&&(v=n.lines[t.line].multirateModel.defaultDefinitionM3u8Url),t.df>=0&&(g=n.lines[t.line].multirateModel.definitions,t.df=t.df>g.length-1?g.length-1:t.df,t.lines[t.line].multirateModel.defaultDefinition=g[g.length-1-t.df].definition,v=g[g.length-1-t.df].url,"Y"===t.useHls&&(v=g[g.length-1-t.df].m3u8))),t.liveUrl=v,s.default.initPanel(t),t.volumeslide.init(),t.progress.init(),t.plvContainer.dom.oncontextmenu=function(e){if(e.preventDefault(),!t.banRightMenu){var n=e.clientX,r=e.clientY;t.rightMenuPanel.show(n,r),t.rightMenuShow=!0}},a.default.addHandler(window,"click",(function(){t.rightMenuPanel.hide(),t.rightMenuShow=!1})),this.record=new d.default(t),t.apiInit(),t.onAutoPlay(t.supportAutoplay),t.onPPTDelayTime(),t.event.emit("__initMarquee");case 41:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),fail:function(e){1===e.channelLoadTime?(e.channelLoadTime=0,this.init(e)):(e.errorCode="LIVE-#011",e.updateFlowStatus(l.default.ERROR),console.error(e.errorCode,"channel json加载失败/错误"))}};e.exports=h},function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,a=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(302),i)r.regeneratorRuntime=a;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag",u="object"==typeof e,c=t.regeneratorRuntime;if(c)u&&(e.exports=c);else{(c=t.regeneratorRuntime=u?e.exports:{}).wrap=_;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",v={},g={};g[o]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(L([])));y&&y!==r&&i.call(y,o)&&(g=y);var A=S.prototype=E.prototype=Object.create(g);w.prototype=A.constructor=S,S.constructor=w,S[l]=w.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(A),e},c.awrap=function(e){return{__await:e}},k(C.prototype),C.prototype[s]=function(){return this},c.AsyncIterator=C,c.async=function(e,t,n,r){var i=new C(_(e,t,n,r));return c.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(A),A[l]="Generator",A[o]=function(){return this},A.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=L,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function _(e,t,n,r){var i=t&&t.prototype instanceof E?t:E,a=Object.create(i.prototype),o=new R(r||[]);return a._invoke=function(e,t,n){var r=d;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return O()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=T(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var l=b(e,t,n);if("normal"===l.type){if(r=n.done?p:f,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function b(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function E(){}function w(){}function S(){}function k(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function C(e){var t;this._invoke=function(n,r){function a(){return new Promise((function(t,a){!function t(n,r,a,o){var s=b(e[n],e,r);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,a,o)}),(function(e){t("throw",e,a,o)})):Promise.resolve(u).then((function(e){l.value=e,a(l)}),o)}o(s.arg)}(n,r,t,a)}))}return t=t?t.then(a,a):a()}}function T(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,T(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=b(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,v;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){e.exports={default:n(304),__esModule:!0}},function(e,t,n){n(118),n(49),n(56),n(305),n(316),n(317),e.exports=n(11).Promise},function(e,t,n){"use strict";var r,i,a,o,s=n(38),l=n(8),u=n(50),c=n(88),d=n(28),f=n(23),h=n(51),p=n(306),v=n(307),g=n(136),m=n(137).set,y=n(311)(),A=n(89),_=n(138),b=n(312),E=n(139),w=l.TypeError,S=l.process,k=S&&S.versions,C=k&&k.v8||"",T=l.Promise,I="process"==c(S),x=function(){},R=i=A.f,L=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(9)("species")]=function(e){e(x,x)};return(I||"function"==typeof PromiseRejectionEvent)&&e.then(x)instanceof t&&0!==C.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(e){}}(),O=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},D=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,i=1==e._s,a=0,o=function(t){var n,a,o,s=i?t.ok:t.fail,l=t.resolve,u=t.reject,c=t.domain;try{s?(i||(2==e._h&&N(e),e._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),o=!0)),n===t.promise?u(w("Promise-chain cycle")):(a=O(n))?a.call(n,l,u):l(n)):u(r)}catch(e){c&&!o&&c.exit(),u(e)}};n.length>a;)o(n[a++]);e._c=[],e._n=!1,t&&!e._h&&M(e)}))}},M=function(e){m.call(l,(function(){var t,n,r,i=e._v,a=P(e);if(a&&(t=_((function(){I?S.emit("unhandledRejection",i,e):(n=l.onunhandledrejection)?n({promise:e,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=I||P(e)?2:1),e._a=void 0,a&&t.e)throw t.v}))},P=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(e){m.call(l,(function(){var t;I?S.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},F=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),D(t,!0))},B=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw w("Promise can't be resolved itself");(t=O(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,u(B,r,1),u(F,r,1))}catch(e){F.call(r,e)}})):(n._v=e,n._s=1,D(n,!1))}catch(e){F.call({_w:n,_d:!1},e)}}};L||(T=function(e){p(this,T,"Promise","_h"),h(e),r.call(this);try{e(u(B,this,1),u(F,this,1))}catch(e){F.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(313)(T.prototype,{then:function(e,t){var n=R(g(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=I?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new r;this.promise=e,this.resolve=u(B,e,1),this.reject=u(F,e,1)},A.f=R=function(e){return e===T||e===o?new a(e):i(e)}),d(d.G+d.W+d.F*!L,{Promise:T}),n(55)(T,"Promise"),n(314)("Promise"),o=n(11).Promise,d(d.S+d.F*!L,"Promise",{reject:function(e){var t=R(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!L),"Promise",{resolve:function(e){return E(s&&this===o?T:this,e)}}),d(d.S+d.F*!(L&&n(315)((function(e){T.all(e).catch(x)}))),"Promise",{all:function(e){var t=this,n=R(t),r=n.resolve,i=n.reject,a=_((function(){var n=[],a=0,o=1;v(e,!1,(function(e){var s=a++,l=!1;n.push(void 0),o++,t.resolve(e).then((function(e){l||(l=!0,n[s]=e,--o||r(n))}),i)})),--o||r(n)}));return a.e&&i(a.v),n.promise},race:function(e){var t=this,n=R(t),r=n.reject,i=_((function(){v(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(50),i=n(308),a=n(309),o=n(15),s=n(113),l=n(131),u={},c={};(t=e.exports=function(e,t,n,d,f){var h,p,v,g,m=f?function(){return e}:l(e),y=r(n,d,t?2:1),A=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(a(m)){for(h=s(e.length);h>A;A++)if((g=t?y(o(p=e[A])[0],p[1]):y(e[A]))===u||g===c)return g}else for(v=m.call(e);!(p=v.next()).done;)if((g=i(v,y,p.value,t))===u||g===c)return g}).BREAK=u,t.RETURN=c},function(e,t,n){var r=n(15);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},function(e,t,n){var r=n(29),i=n(9)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[i]===e)}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(8),i=n(137).set,a=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,l="process"==n(39)(o);e.exports=function(){var e,t,n,u=function(){var r,i;for(l&&(r=o.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(l)n=function(){o.nextTick(u)};else if(!a||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(u)}}else n=function(){i.call(r,u)};else{var d=!0,f=document.createTextNode("");new a(u).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(8).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(22);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){"use strict";var r=n(8),i=n(11),a=n(19),o=n(20),s=n(9)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];o&&t&&!t[s]&&a.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(9)("iterator"),i=!1;try{var a=[7][r]();a.return=function(){i=!0},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a=[7],o=a[r]();o.next=function(){return{done:n=!0}},a[r]=function(){return o},e(a)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(28),i=n(11),a=n(8),o=n(136),s=n(139);r(r.P+r.R,"Promise",{finally:function(e){var t=o(this,i.Promise||a.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){"use strict";var r=n(28),i=n(89),a=n(138);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=a(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={host:function(e){return e&&e.__esModule?e:{default:e}}(n(42)).default.host,data:null,result:[!0,""],check:function(e){return this.data=e,this.data.channelRestrictModel&&this.checkWhiteList()[0]&&this.checkblackList()[0]?(this.checkUserStatus()[0],this.result):this.result},checkWhiteList:function(){var e=this.data.channelRestrictModel.webSiteWhitelist,t=!1;if(e&&e.length>0){for(var n in e.push("polyv.cn"),e.push("videocc.net"),e.push("polyv.net"),e)if(this.host.indexOf(e[n])>-1){t=!0;break}return this.result=[t,"LIVE-#007"],this.result}return this.result},checkblackList:function(){var e=this.data.channelRestrictModel.webSiteBlacklist;for(var t in e)if(this.host.indexOf(e[t])>-1){this.result=[!1,"LIVE-#008"];break}return this.result},checkUserStatus:function(){var e=this.data.channelRestrictModel.userStatus;return e&&"NORMAL"!==e&&"TRIAL"!==e&&(this.result=[!1,"LIVE-#002"]),this.result}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(134)),i=u(n(135)),a=u(n(1)),o=u(n(2)),s=u(n(25)),l=u(n(60));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n){(0,a.default)(this,e),this.setting=t,this.authUrl=n.authUrl}return(0,o.default)(e,[{key:"verify",value:function(){var e=(0,i.default)(r.default.mark((function e(){var t,n,i,a=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.setting.vid,n=this.setting.code||"",i=(new Date).getTime(),e.abrupt("return",new Promise((function(e,r){(0,s.default)({url:a.authUrl,data:{vid:t,code:n,t:i},success:function(r){var a=JSON.parse(r);if(1===a.status){var o=(0,l.default)("vid="+t+"&username="+(a.username||"")+"&code="+n+"&status="+a.status+"&s="+a.show+"&t="+i);e({isVerified:o===a.sign,message:a.message})}else e({isVerified:!1,message:a.message})},error:function(){r(new Error("网络错误"))}})})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getResult",value:function(){var e=(0,i.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.authUrl){e.next=2;break}return e.abrupt("return",{isVerified:!0});case 2:return e.prev=2,e.next=5,this.verify();case 5:return t=e.sent,e.abrupt("return",{isVerified:t.isVerified,errCode:t.isVerified?"":"LIVE-#012",message:t.message});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{isVerified:!1,errCode:"",message:e.t0});case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(1)),i=c(n(2)),a=n(321),o=c(n(3)),s=c(n(31)),l=c(n(0)),u=n(322);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){(0,r.default)(this,e),this.player=t,this.video=t.video,this.check=t.marqueeCheck,this.init()}return(0,i.default)(e,[{key:"init",value:function(){var e=this;new u.Record({element:this.video,callback:function(t){("Y"===e.player.recordingProtectEnabled||parseInt(t)!==a.a*a.b)&&e.error(t)}})}},{key:"error",value:function(e){if(this.player.errorCode="LIVE-#0"+e,parseInt(e)===a.a*a.b){var t=l.default.getLanguageTxt(s.default.popupErrorMsg,this.player.language)+" "+this.player.errorCode;this.player.error.showErrorByMsg(t)}this.player.updateFlowStatus(o.default.ERROR)}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inter=window.setInterval,t.cinter=window.clearInterval,t.show="show",t.re="re",t.cord="cord",t.er="Error",t.a=2,t.aa=7,t.b=8,t.c="style",t.ga="getAttribute",t.d=window.getComputedStyle,t.f="flex-grow",t.ec="errorCode"},function(e,t,n){window,e.exports=function(){return(n={},e.m=t=[function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";t.__esModule=!0;var e=function(){function e(){}return e.prototype.init=function(){document.write("ad")},e}();t.default=e})?r.apply(t,[]):r)||(e.exports=i)},function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";t.__esModule=!0;var e=n(2),r=n(10),i=function(){function t(e){this.container=e,this.$danmuBox=null,this.init()}return t.prototype.init=function(){this.$danmuBox=e(r),e(this.container).append(this.$danmuBox)},t.prototype.add=function(){},t.prototype.show=function(){},t.prototype.hide=function(){},t.prototype.destroy=function(){},t}();t.default=i})?r.apply(t,[]):r)||(e.exports=i)},function(e,t,n){var r=n(3),i=n(4),a=n(5),o=n(6),s=n(9);function l(e,t){if(!e)throw new Error("no selector specified");if(e instanceof Array)return new u(e);var n=t;if(n?n instanceof u&&(n=t[0]):n=document,e instanceof NodeList){for(var i=[],a=0;a<e.length;++a)i.push(e[a]);return new u(i,e)}return e instanceof u?e:e.nodeName?new u([e]):("string"==typeof e&&(e=e.trim()),"<"==e.charAt(0)?l(r(e)):"string"==typeof e?l(n.querySelectorAll(e),e):void 0)}function u(e,t){Array.prototype.push.apply(this,e),this.selector=t}var c=((e.exports=l).List=u).prototype;c.attr=function(e,t){return void 0===t?this[0].getAttribute(e):(this[0].setAttribute(e,t),this)},c.removeAttr=function(e){return this[0].removeAttribute(e),this},c.data=function(e,t){return this.attr("data-"+e,t)},c.clone=function(){for(var e=[],t=0,n=this.length;t<n;++t)e.push(this[t].cloneNode(!0));return new u(e)},c.at=function(e){return new u([this[e]],this.selector)},c.first=function(){return new u([this[0]],this.selector)},c.last=function(){return new u([this[this.length-1]],this.selector)},c.length=function(){return this.length},c.text=function(e){if(void 0!==e)return this[0].textContent=e,this;for(var t="",n=0;n<this.length;++n)t+=this[n].textContent;return t},c.html=function(e){var t=this[0];if(e){if("string"!=typeof e)throw new Error(".html() requires a string");return t.innerHTML=e,this}return t.innerHTML},c.on=function(e,t,n,r){if("string"==typeof t){var i=this[0],s=function(e){var r=e.target;do{if(a(r,t)){var o=new function(e){for(var t in e)this[t]=e[t]}(e);return o.currentTarget=r,n.call(r,o)}r=r.parentElement}while(r&&r!==i)};"mouseenter"===e&&(e="mouseover");for(var l=0;l<this.length;++l)n._delegate=s,o.bind(this[l],e,s,r);return this}for(r=n,n=t,l=0;l<this.length;++l)o.bind(this[l],e,n,r);return this},c.off=function(e,t,n,r){if("string"==typeof t){for(var i=0;i<this.length;++i)delegate.unbind(this[i],e,n._delegate,r);return this}for(r=n,n=t,i=0;i<this.length;++i)o.unbind(this[i],e,n,r);return this},c.each=function(e){for(var t=0;t<this.length;++t)e(new u([this[t]],this.selector),t);return this},c.forEach=function(e){return Array.prototype.forEach.call(this,e),this},c.map=function(e){return Array.prototype.map.call(this,e)},c.select=function(){for(var e=0;e<this.length;++e)this[e].select();return this},c.filter=function(e){return new u(Array.prototype.filter.call(this,(function(t){return e(new u([t],this.selector))})),this.selector)},c.value=function(e){var t=this[0];return e?(t.value=e,this):t.value},c.offset=function(){var e=this[0],t=0,n=0;if(e.offsetParent)for(;t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;);return{left:t,top:n}},c.position=function(){var e=this[0];return{top:e.offsetTop,left:e.offsetLeft}},c.outerHeight=function(){return this[0].offsetHeight},c.innerHeight=function(){return this[0].clientHeight},c.contentHeight=function(){var e=window.getComputedStyle(this[0],null),t=e.getPropertyValue("padding-top").replace("px","")-0,n=e.getPropertyValue("padding-bottom").replace("px","")-0;return this.innerHeight()-t-n},c.scrollHeight=function(){return this[0].scrollHeight},c.outerWidth=function(){return this[0].offsetWidth},c.innerWidth=function(){return this[0].clientWidth},c.contentWidth=function(){var e=window.getComputedStyle(this[0],null),t=e.getPropertyValue("padding-left").replace("px","")-0,n=e.getPropertyValue("padding-right").replace("px","")-0;return this.innerWidth()-t-n},c.scrollWidth=function(){return this[0].scrollWidth},c.addClass=function(e){for(var t,n=0;n<this.length;++n)(t=this[n])._classes=t._classes||i(t),t._classes.add(e);return this},c.removeClass=function(e){for(var t,n=0;n<this.length;++n)(t=this[n])._classes=t._classes||i(t),t._classes.remove(e);return this},c.toggleClass=function(e){for(var t,n=0;n<this.length;++n)(t=this[n])._classes=t._classes||i(t),t._classes.toggle(e);return this},c.hasClass=function(e){for(var t,n=0;n<this.length;++n)if((t=this[n])._classes=t._classes||i(t),t._classes.has(e))return!0;return!1},c.css=function(e,t){if(e instanceof Object)for(var n in e)this.setStyle(n,e[n]);return 2==arguments.length?this.setStyle(e,t):this.getStyle(e)},c.setStyle=function(e,t){for(var n=0;n<this.length;++n)this[n].style[e]=t;return this},c.getStyle=function(e){var t=this[0];if(t)return t.style[e]},c.find=function(e){return l(e,this)},c.next=function(){for(var e=[],t=0;t<this.length;++t){var n=this[t].nextElementSibling;n&&e.push(n)}return new u(e)},c.prev=function(){for(var e=[],t=0;t<this.length;++t){var n=this[t].previousElementSibling;n&&e.push(n)}return new u(e)},c.emit=function(e,t){return o.emit(this[0],e,t),this},c.parent=function(){for(var e=[],t=0;t<this.length;++t)e.push(this[t].parentNode);return new u(e)},c.prepend=function(e){for(var t=0;t<this.length;++t)s.prepend(this[t],l(e));return this},c.append=function(e){for(var t=0;t<this.length;++t)s.append(this[t],l(e));return this},c.before=function(e){for(var t=0;t<this.length;++t)s.before(this[t],l(e));return this},c.after=function(e){for(var t=0;t<this.length;++t)s.after(this[t],l(e));return this},c.remove=function(){for(var e=0;e<this.length;++e)s.remove(this[e])},c.replace=function(e){for(var t=0;t<this.length;++t)s.replace(this[t],l(e));return this},c.empty=function(){for(var e=0;e<this.length;++e)s.empty(this[e]);return this}},function(e,t){var n={option:[1,'<select multiple="multiple">',"</select>"],optgroup:[1,'<select multiple="multiple">',"</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tbody:[1,"<table>","</table>"],tfoot:[1,"<table>","</table>"],colgroup:[1,"<table>","</table>"],caption:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],th:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:[0,"",""]};e.exports=function(e){if("string"!=typeof e)throw new TypeError("String expected");var t=/<([\w:]+)/.exec(e);if(!t)throw new Error("No elements were generated.");var r=t[1];if("body"==r)return(i=document.createElement("html")).innerHTML=e,[i.removeChild(i.lastChild)];var i,a=n[r]||n._default,o=a[0],s=a[1],l=a[2];for((i=document.createElement("div")).innerHTML=s+e+l;o--;)i=i.lastChild;for(var u=[],c=i.firstChild;u.push(c),c=c.nextElementSibling;);for(var d=0;d<u.length;++d)i.removeChild(u[d]);return u}},function(e,t){var n=/\s+/;function r(e){this.el=e,this.list=e.classList}e.exports=function(e){return new r(e)},r.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~t.indexOf(e)||t.push(e),this.el.className=t.join(" "),this},r.prototype.remove=function(e){if(this.list)return this.list.remove(e),this;var t=this.array(),n=t.indexOf(e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},r.prototype.toggle=function(e){return this.list?(this.list.toggle(e),this):this.has(e)?this.remove(e):this.add(e)},r.prototype.array=function(){var e=this.el.className.split(n);return""===e[0]&&e.pop(),e},r.prototype.has=function(e){return this.list?this.list.contains(e):!!~this.array().indexOf(e)}},function(e,t){var n=Element.prototype,r=n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;e.exports=function(e,t){if(r)return r.call(e,t);for(var n=e.parentNode.querySelectorAll(t),i=0;i<n.length;++i)if(n[i]==e)return!0;return!1}},function(e,t,n){t.bind=function(e,t,n,r){return e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent("on"+t,n),n},t.unbind=function(e,t,n,r){return e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent("on"+t,n),n},t.emit=function(e,t,n){n=n||{};var i=a(t),o=document.createEvent(i+"s"),s="function"==typeof o["init"+i]?"init"+i:"initEvent",l=r[s],u=[],c={};n.type=t;for(var d=0;d<l.length;++d){var f=n[h=l[d]];void 0===f&&(f=o[h]),u.push(f)}for(var h in o[s].apply(o,u),n)c[h]||(o[h]=n[h]);return e.dispatchEvent(o)};var r=n(7),i=n(8),a=function(){var e={};for(var t in i)for(var n=i[t],r=0;r<n.length;r++)e[n[r]]=t;return function(t){return e[t]||"Event"}}()},function(e){e.exports=JSON.parse('{"initEvent":["type","bubbles","cancelable"],"initUIEvent":["type","bubbles","cancelable","view","detail"],"initMouseEvent":["type","bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget"],"initMutationEvent":["type","bubbles","cancelable","relatedNode","prevValue","newValue","attrName","attrChange"],"initKeyEvent":["type","bubbles","cancelable","view","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode"]}')},function(e){e.exports=JSON.parse('{"MouseEvent":["click","mousedown","mouseup","mouseover","mousemove","mouseout"],"KeyEvent":["keydown","keyup","keypress"],"MutationEvent":["DOMSubtreeModified","DOMNodeInserted","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","DOMAttrModified","DOMCharacterDataModified"],"HTMLEvent":["load","unload","abort","error","select","change","submit","reset","focus","blur","resize","scroll"],"UIEvent":["DOMFocusIn","DOMFocusOut","DOMActivate"]}')},function(e,t){function n(e){for(var t=document.createDocumentFragment(),n=0;n<e.length;++n)t.appendChild(e[n]);return t}e.exports.remove=function(e){if(e.parentNode)return e.parentNode.removeChild(e)},e.exports.replace=function(e,t){if(e.parentNode)return e.parentNode.replaceChild(n(t),e)},e.exports.prepend=function(e,t){return e.insertBefore(n(t),e.firstChild)},e.exports.append=function(e,t){return document.createDocumentFragment(),e.appendChild(n(t))},e.exports.after=function(e,t){if(e.parentNode)return e.nextSilbling?e.parentNode.insertBefore(n(t),e.nextSilbling):e.parentNode.appendChild(n(t))},e.exports.before=function(e,t){if(e.parentNode)return e.parentNode.insertBefore(n(t),e)},e.exports.empty=function(e){e.innerHTML=""}},function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";var t=n(11);e.exports='<div class="'+t.danmu+'"></div>'})?r.apply(t,[]):r)||(e.exports=i)},function(e,t,n){var r=n(12);"string"==typeof r&&(r=[[e.i,r,""]]),n(14)(r,{insert:"head",singleton:!1}),r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(13)(!1)).push([e.i,".plv-player-module-danmu-1WUId {\n  position: relative;\n  height: 100%; }\n\n.plv-player-module-danmu__item-2V068 {\n  position: absolute;\n  color: #fff;\n  font-size: 14px;\n  white-space: nowrap;\n  overflow: hidden; }\n\n.plv-player-module-danmu__img-1MRbG {\n  position: relative;\n  top: 7px;\n  width: 30px;\n  height: 30px; }\n",""]),t.locals={danmu:"plv-player-module-danmu-1WUId",danmu__item:"plv-player-module-danmu__item-2V068",danmu__img:"plv-player-module-danmu__img-1MRbG"}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=function(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t);return"/*# ".concat(n," */")}(r),a=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot).concat(e," */")}));return[n].concat(a).concat([i]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var o=0;o<e.length;o++){var s=e[o];null!=s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="(".concat(s[2],") and (").concat(n,")")),t.push(s))}},t}},function(e,t,n){"use strict";var r={},i=function(){var e;return function(){return void 0===e&&(e=Boolean(window&&document&&document.all&&!window.atob)),e}}(),a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}();function o(e,t){for(var n=[],r={},i=0;i<e.length;i++){var a=e[i],o=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[o]?r[o].parts.push(s):n.push(r[o]={id:o,parts:[s]})}return n}function s(e,t){for(var n=0;n<e.length;n++){var i=e[n],a=r[i.id],o=0;if(a){for(a.refs++;o<a.parts.length;o++)a.parts[o](i.parts[o]);for(;o<i.parts.length;o++)a.parts.push(h(i.parts[o],t))}else{for(var s=[];o<i.parts.length;o++)s.push(h(i.parts[o],t));r[i.id]={id:i.id,refs:1,parts:s}}}}function l(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var r=n.nc;r&&(e.attributes.nonce=r)}if(Object.keys(e.attributes).forEach((function(n){t.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(t);else{var i=a(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var u=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function c(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}var d=null,f=0;function h(e,t){var n,r,i;if(t.singleton){var a=f++;n=d=d||l(t),r=c.bind(null,n,a,!1),i=c.bind(null,n,a,!0)}else n=l(t),r=function(e,t,n){var r=n.css,i=n.media,a=n.sourceMap;if(i&&e.setAttribute("media",i),a&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=o(e,t);return s(n,t),function(e){for(var i=[],a=0;a<n.length;a++){var l=n[a],u=r[l.id];u&&(u.refs--,i.push(u))}e&&s(o(e,t),t);for(var c=0;c<i.length;c++){var d=i[c];if(0===d.refs){for(var f=0;f<d.parts.length;f++)d.parts[f]();delete r[d.id]}}}}},function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";t.__esModule=!0;var e=function(e){return e&&e.__esModule?e:{default:e}}(n(16));t.default=e.default})?r.apply(t,[]):r)||(e.exports=i)},function(e,t,n){var r;window,r=function(){return(n={},e.m=t=[function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var s=function(e){if("#"===e[0])return e;for(var t=Number(e).toString(16),n=6-t.length,r=0;r<n;r++)t="0"+t;return"#"+t},l={"font-size":"30px",color:"#000000",transition:"transform 20s linear","-webkit-transition":"-webkit-transform 20s linear",transform:"translateX(0)","-webkit-transform":"translateX(0)",opacity:"1",left:"100%",display:"inline-block"},u={margin:"0px",padding:"0px",position:"absolute",overflow:"visible",visibility:"visible",bottom:"auto",border:"0px solid transparent",animation:"none","-webkit-animation":"none","user-select":"none","-webkit-user-select":"none","white-space":"nowrap","pointer-events":"none","z-index":"auto"},c={width:"100%",height:"100%",top:"0px",left:"0px",transform:"none","-webkit-transform":"none",display:"block",opacity:"1",overflow:"hidden"},d=function(){function e(t){var n=t.video,r=t.wrap,i=t.data,a=t.marqueeCheck,o=t.vid;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lifeTime=5,this.interval=0,this.parentDataString="",this.hideParentDataString="",this.childrenDataString="",this.firstPlay=!1,this.legalRemove=!0,this.left=0,this.top=0,this.vid=o,this.video=n,this.wrap=r,this.check=!!a&&!!n,this.checkCallback="function"==typeof a?a:function(){},this.marqueeData=i,this.clock2,this.options={},this.options.style=l,this.fixMarqueeHideInterval=20}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"checkExist",value:function(){var t=this;this.existClock&&clearInterval(this.existClock),this.existClock=setInterval((function(){if(t.video&&!t.video.paused&&t.marqueeChild&&t.marqueeWrap&&t.styleE2&&t.styleE1){var n=t.options.content&&t.options.content===t.marqueeChild.textContent,r=e.getStyleString(t.marqueeChild,t.legalString)===t.styleE2.textContent,i=e.getStyleString(t.marqueeWrap,t.legalPstring)===t.styleE1.textContent,a=t.marqueeWrap.getAttribute("style")||t.marqueeChild.getAttribute("style"),o=!(!t.styleE1.parentNode||!t.styleE2.parentNode),s=t.marqueeWrap.parentNode===t.wrap,l=!1,u=!1,c=!1,d=!0,f=!1;if(s){var h=t.marqueeWrap.offsetWidth;1<Math.abs(h-t.video.offsetWidth)&&(l=!0),1<Math.abs(t.marqueeWrap.offsetHeight-t.video.offsetHeight)&&(u=!0),d=!t.marqueeWrap.offsetTop&&!t.marqueeWrap.offsetLeft;var p=window.getComputedStyle(t.marqueeChild);c=t.checkStyle(p),t.checkPosition(p,h)||(d=!1),(t.video.offsetTop||t.video.offsetLeft)&&(d=!1),3!==t.setting&&(f=t.checkStyle(window.getComputedStyle(t.marqueeWrap),!1,!0))}!(l||u||f)&&d&&o&&!a&&r&&i&&!c&&n&&(s||t.legalRemove)||(t.checkCallback(),t.existClock&&clearInterval(t.existClock))}}),5e3)}},{key:"checkPosition",value:function(e,t){var n=[2,5,7],r=parseInt(e.left),i=parseInt(e.top);return!(this.setting&&(1<Math.abs(i-this.top)||-1===n.indexOf(this.setting)&&1<Math.abs(r-t)||-1!==n.indexOf(this.setting)&&1<Math.abs(r-this.left)))}},{key:"checkStyle",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return!!(Number(e.opacity)<.01||"none"===e.display||"visible"!==e.visibility||t&&parseInt(e.fontSize)<12||parseInt(e.marginTop||"")||parseInt(e.marginBottom||"")||parseInt(e.marginLeft||"")||parseInt(e.marginRight||"")||parseInt(e.paddingLeft||"")||parseInt(e.paddingRight||"")||parseInt(e.paddingTop||"")||parseInt(e.paddingBottom||"")||parseInt(e.borderBottomWidth||"")||parseInt(e.borderTopWidth||"")||parseInt(e.borderLeftWidth||"")||parseInt(e.borderRightWidth||"")||"absolute"!==e.position||"auto"!==e.zIndex&&"0"!==e.zIndex||n&&parseInt(e.bottom||""))}},{key:"getEvents",value:function(){var e=this;return{play:function(){if(e.marqueeWrap&&(e.legalPstring=e.parentDataString,e.setStyle1Text(),!e.firstPlay))switch(e.firstPlay=!0,e.wrap.appendChild(e.marqueeWrap),e.legalRemove=!1,e.check&&e.checkExist(),e.setting){case 1:e.showStyle1();break;case 2:e.showStyle2();break;case 3:e.showStyle3();break;case 4:e.showStyle1(.3);break;case 5:e.showStyle2(.3);break;case 6:e.showStyle1();break;case 7:e.showStyle2();break;default:return}},pause:function(){e.legalPstring=e.hideParentDataString,e.setStyle1Text()},ended:function(){e.firstPlay=!1,e.removeMarqueeWrap(),e.clock&&clearInterval(e.clock),e.initElement()}}}},{key:"setup",value:function(){var t=this.video;this.styleE1=e.createStyle(),this.styleE2=e.createStyle(),this.wrap.appendChild(this.styleE1),this.wrap.appendChild(this.styleE2),this.setting=(this.marqueeData.setting||1)/1,this.lifeTime=(this.marqueeData.lifeTime||1)/1*1e3,this.interval=1e3*(this.marqueeData.interval/1||0),this.legalPstring=this.parentDataString=e.makeStyleString(u)+e.makeStyleString(c),this.hideParentDataString=this.parentDataString.replace("opacity:1","opacity:0"),this.options.style=e.mixOption(this.options.style,this.marqueeData),this.options.content=this.marqueeData.username,this.options.speed=(this.marqueeData.speed?this.marqueeData.speed/10:20)/1,this.legalString=this.childrenDataString=e.makeStyleString(u)+e.makeStyleString(this.options.style),this.marqueeWrap=e.createParentElement();var n=this.marqueeChild=e.createRandomElement();if(n.textContent=this.options.content,this.marqueeWrap.appendChild(n),this.childWidth=this.countChildWidth(),this.childHeight=parseInt(this.options.style["font-size"]),this.setStyle1Text(),this.setStyle2Text(),this.eventObject=this.getEvents(),t)for(var r in this.eventObject)"function"==typeof this.eventObject[r]&&t.addEventListener(r,this.eventObject[r]);(!t||t.paused)&&t||this.eventObject.play(),6!==this.setting&&7!==this.setting||(this.vid&&t?(this.showFixMarquee(),this.eventObject.timeupdate=this.timeupdate.bind(this),t.addEventListener("timeupdate",this.eventObject.timeupdate)):this.showLiveFixMarquee())}},{key:"setStyle1Text",value:function(){this.styleE1&&this.marqueeWrap&&(this.styleE1.textContent=e.getStyleString(this.marqueeWrap,this.legalPstring))}},{key:"setStyle2Text",value:function(){this.styleE2&&this.marqueeChild&&(this.styleE2.textContent=e.getStyleString(this.marqueeChild,this.legalString))}},{key:"countChildWidth",value:function(){var e=document.createElement("div");e.setAttribute("style",this.childrenDataString),e.textContent=this.options.content,e.style.visibility="hidden",e.style.position="fixed";var t=document.querySelector("body")||document.querySelector("html")||document;t.appendChild(e);var n=e.clientWidth;return setTimeout((function(){t.removeChild(e)}),16),n}},{key:"initElement",value:function(){var t=this.video&&this.video.paused?this.hideParentDataString:this.parentDataString;this.removeMarqueeWrap(),this.legalPstring=t,this.marqueeWrap=e.createParentElement(),this.marqueeChild=e.createRandomElement(),this.legalString=this.childrenDataString,this.marqueeChild.textContent=this.options.content,this.marqueeWrap.appendChild(this.marqueeChild),this.wrap.appendChild(this.marqueeWrap),this.setStyle1Text(),this.setStyle2Text(),this.legalRemove=!1}},{key:"timeupdate",value:function(){if(this.video){var t=this.fixMarqueeData,n=t.vidData,r=t.style,i=t.cycleTime,a=this.video.currentTime%i;if(-1!==t.index){var o=n[t.index].interval;if(a>=o[0]&&a<o[1])return}var s=n.findIndex((function(e){return a>=e.interval[0]&&a<e.interval[1]}));if(t.index!==s){if(this.removeFixMarquee(),-1!==s){var l=n[s];t.el=e.createFixMarquee(l.position,this.options.content,r),this.wrap.append(t.el)}t.index=s}}}},{key:"removeFixMarquee",value:function(){if(this.fixMarqueeData&&this.fixMarqueeData.el)try{e.removeChild(this.fixMarqueeData.el)}catch(e){}}},{key:"showFixMarquee",value:function(){if(this.vid){var t=i({},u);delete t.bottom;var n=e.convertVid(this.vid,this.fixMarqueeHideInterval),r=i({},this.marqueeData);r.alpha=.01,this.fixMarqueeData={style:e.makeStyleString(t)+e.makeStyleString(e.mixOption({},r)),index:-1,vidData:n,cycleTime:n.reduce((function(e,t){return e+t.seconds+20}),0)}}}},{key:"showLiveFixMarquee",value:function(){var t=this,n=i({},u),r=i({},l,{alpha:.01,fontSize:"14",filter:"on",fontColor:"0xffffff"});this.liveFixMarquee={style:"",clock:NaN,el:e.createRandomElement(5),styleEl:e.createStyle(),clear:function(){t.liveFixMarquee.clock&&clearTimeout(t.liveFixMarquee.clock),t.liveFixMarquee.clock=NaN},append:function(){t.wrap.appendChild(t.liveFixMarquee.el),t.wrap.appendChild(t.liveFixMarquee.styleEl)},remove:function(){e.removeChild(t.liveFixMarquee.el),e.removeChild(t.liveFixMarquee.styleEl)},initElement:function(){(t.liveFixMarquee.el=e.createRandomElement(5)).textContent=t.options.content,t.liveFixMarquee.append()},countStyle:function(){var i=t.wrap,a=i.clientWidth,o=i.clientHeight,s=Math.floor(Math.random()*(a-16*t.options.content.length)),l=e.countTop(o,16,1),u=e.makeStyleString(n)+e.makeStyleString(e.mixOption({top:"".concat(l,"px"),left:"".concat(s,"px")},r));t.liveFixMarquee.styleEl.textContent=e.getStyleString(t.liveFixMarquee.el,u)}},this.showLiveFixMarqueeStyle()}},{key:"showLiveFixMarqueeStyle",value:function(){var e=this;this.liveFixMarquee.initElement(),this.liveFixMarquee.countStyle(),function t(){e.liveFixMarquee.clock=setTimeout((function(){e.liveFixMarquee.remove(),e.liveFixMarquee.initElement(),e.liveFixMarquee.countStyle(),t()}),e.interval||3e3)}()}},{key:"removeLiveFixMarquee",value:function(){this.liveFixMarquee&&(this.liveFixMarquee.clear(),this.liveFixMarquee.remove(),this.liveFixMarquee=null)}},{key:"showStyle1",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;this.countStyle1Position(t),this.clock=setInterval((function(){e.initElement(),e.countStyle1Position(t)}),1e3*(this.options.speed+2))}},{key:"showStyle2",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;this.countStyle2Position(t),this.clock2=setTimeout((function(){e.removeMarqueeWrap()}),this.lifeTime),this.clock=setInterval((function(){e.clock2&&clearTimeout(e.clock2),e.initElement(),e.countStyle2Position(t),e.clock2=setTimeout((function(){e.removeMarqueeWrap()}),e.lifeTime)}),this.interval+this.lifeTime)}},{key:"showStyle3",value:function(){var e=this;this.countStyle1Position(),this.clock=setInterval((function(){e.initElement(),e.countStyle1Position()}),this.interval+1e3*this.options.speed);var t=0;this.clock2=setInterval((function(){e.countStyle3Position(t),t=t?0:1}),3e3)}},{key:"initMarqueeWrap",value:function(){var e=this;this.marqueeWrap&&(this.marqueeWrap.onclick=function(){e.video&&e.video.click()})}},{key:"countStyle1Position",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;if(this.marqueeWrap&&this.childHeight&&this.childWidth){var n=this.marqueeWrap,r=n.clientWidth,i=n.clientHeight;this.top=e.countTop(i,this.childHeight,t),this.left=r,this.legalString="".concat(this.childrenDataString.replace(/translateX\(0\)/g,"translateX(-"+(r+this.childWidth)+"px)"),"top:").concat(this.top,"px"),this.setStyle2Text()}}},{key:"countStyle2Position",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;if(this.marqueeWrap&&this.childHeight&&this.childWidth){var n=this.marqueeWrap,r=n.clientWidth,i=n.clientHeight;this.left=Math.floor(Math.random()*(r-this.childWidth)),this.top=e.countTop(i,this.childHeight,t),this.legalString="".concat(this.childrenDataString.replace("left:100%","left:"+this.left+"px"),"top:").concat(this.top,"px"),this.setStyle2Text()}}},{key:"countStyle3Position",value:function(e){this.legalPstring=this.parentDataString.replace("opacity:1","opacity:".concat(e)),this.setStyle1Text()}},{key:"removeMarqueeWrap",value:function(){this.legalRemove=!0;try{e.removeChild(this.marqueeWrap)}catch(e){}}},{key:"removeStyle",value:function(){this.styleE1&&e.removeChild(this.styleE1),this.styleE2&&e.removeChild(this.styleE2)}},{key:"destroy",value:function(){var e=this.setting;if(this.existClock&&clearInterval(this.existClock),this.removeMarqueeWrap(),this.removeStyle(),this.removeFixMarquee(),this.removeLiveFixMarquee(),this.clock&&clearInterval(this.clock),3===e&&this.clock2&&clearInterval(this.clock2),2!==e&&5!==e&&7!==e||!this.clock2||clearTimeout(this.clock2),this.video)for(var t in this.eventObject)this.video.removeEventListener(t,this.eventObject[t])}}],[{key:"removeChild",value:function(e){if(e){var t=e.parentNode;t&&t.removeChild(e)}}},{key:"makeStyleString",value:function(e){var t="";for(var n in e)t+="".concat(n,":").concat(e[n]," !important;");return t}},{key:"createRandomElement",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:4;return document.createElement(function(e){for(var t="",n=0;n<e;n++)t+=String.fromCharCode(122-Math.floor(26*Math.random()));return t}(e))}},{key:"createParentElement",value:function(){return e.createRandomElement()}},{key:"parseColor",value:function(e){for(var t=(e/1).toString(16),n=6-t.length,r=0;r<n;r++)t="0"+t;return"#"+t}},{key:"mixOption",value:function(e,t){return t.fontSize&&(e["font-size"]=Math.max(t.fontSize/1,12)+"px"),t.fontColor&&(e.color=s(t.fontColor)),t.alpha&&("string"==typeof t.alpha&&"%"===t.alpha.slice(-1)?e.opacity=parseInt(t.alpha)/100+"":e.opacity=Math.max(t.alpha/1,.01)+""),t.speed&&(e.transition="transform ".concat(t.speed/10,"s linear"),e["-webkit-transition"]="-webkit-transform ".concat(t.speed/10,"s linear")),"on"===t.filter&&(e["text-shadow"]=t.filterColor?"0 0 2px ".concat(s(t.filterColor)):"0 0 2px #000000"),e}},{key:"createStyle",value:function(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}},{key:"getStyleString",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return"".concat(e.nodeName.toLowerCase(),"{").concat(t,"}")}},{key:"convertVid",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:20,n=e.slice(0,32),r=0;return function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(new Array(8)).reduce((function(e,i,a){var o=n.slice(4*a,4*(a+1)),s=parseInt(o[2],16)+parseInt(o[3],16)+30,l=r+s;return e.push({content:o,seconds:s,position:parseInt(o.slice(0,2),16)%4,interval:[r,l]}),r=l+t,e}),[])}},{key:"createFixMarquee",value:function(t){var n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",o=e.createRandomElement();return o.setAttribute("style",i+e.makeStyleString((a(n={},t%2==0?"left":"right","20px"),a(n,1<t?"bottom":"top","20px"),n))),o.textContent=r,o}},{key:"countTop",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=e-t,i=Math.floor(Math.random()*(r*n));return i<r*n/2?i:r*(1-n)+i}}]),e}();t.default=d}],e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(e){return t[e]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=0)).default;function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var t,n},e.exports=r()},function(e,t,n){var r,i,a;n(18),n(95),i=[n(95),n(18)],void 0===(a="function"==typeof(r=function(e,r){"use strict";var i,a=n(99);e=a(e),r=a(r),t.__esModule=!0;var o=n(100),s={};(0,r.default)(i=(0,e.default)(o).call(o)).call(i,(function(e){var t=o(e).default,n=e.split("/")[1];t&&"utils"!==n&&(s[n.replace(n[0],n[0].toUpperCase())]=t)})),t.default=s})?r.apply(t,i):r)||(e.exports=a)},function(e,t,n){e.exports=n(19)},function(e,t,n){n(20);var r=n(86),i=n(81),a=Array.prototype,o={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===a||e instanceof Array&&t===a.forEach||o.hasOwnProperty(i(e))?r:t}},function(e,t,n){n(21);var r=n(85),i=n(31),a=n(38),o=n(28),s=n(64)("toStringTag");for(var l in r){var u=i[l],c=u&&u.prototype;c&&!c[s]&&a(c,s,l),o[l]=o.Array}},function(e,t,n){"use strict";var r=n(22),i=n(27),a=n(28),o=n(29),s=n(51),l="Array Iterator",u=o.set,c=o.getterFor(l);e.exports=s(Array,"Array",(function(e,t){u(this,{type:l,target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(e,t,n){var r=n(23),i=n(26);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(24),i=n(25),a="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t){e.exports=function(){}},function(e,t){e.exports={}},function(e,t,n){var r,i,a,o=n(30),s=n(31),l=n(43),u=n(38),c=n(47),d=n(48),f=n(50),h=s.WeakMap;if(o){var p=new h,v=p.get,g=p.has,m=p.set;r=function(e,t){return m.call(p,e,t),t},i=function(e){return v.call(p,e)||{}},a=function(e){return g.call(p,e)}}else{var y=d("state");f[y]=!0,r=function(e,t){return u(e,y,t),t},i=function(e){return c(e,y)?e[y]:{}},a=function(e){return c(e,y)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(31),i=n(33),a=r.WeakMap;e.exports="function"==typeof a&&/native code/.test(i.call(a))},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(32))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(34);e.exports=r("native-function-to-string",Function.toString)},function(e,t,n){var r=n(35),i=n(36);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.4.2",mode:r?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!0},function(e,t,n){var r=n(31),i=n(37),a="__core-js_shared__",o=r[a]||i(a,{});e.exports=o},function(e,t,n){var r=n(31),i=n(38);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(39),i=n(40),a=n(46);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(24);e.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(39),i=n(41),a=n(44),o=n(45),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(39),i=n(24),a=n(42);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(31),i=n(43),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(43);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(43);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(34),i=n(49),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(52),i=n(59),a=n(61),o=n(82),s=n(78),l=n(38),u=n(84),c=n(64),d=n(35),f=n(28),h=n(60),p=h.IteratorPrototype,v=h.BUGGY_SAFARI_ITERATORS,g=c("iterator"),m="values",y="entries",A=function(){return this};e.exports=function(e,t,n,c,h,_,b){i(n,t,c);var E,w,S,k=function(e){if(e===h&&R)return R;if(!v&&e in I)return I[e];switch(e){case"keys":case m:case y:return function(){return new n(this,e)}}return function(){return new n(this)}},C=t+" Iterator",T=!1,I=e.prototype,x=I[g]||I["@@iterator"]||h&&I[h],R=!v&&x||k(h),L="Array"==t&&I.entries||x;if(L&&(E=a(L.call(new e)),p!==Object.prototype&&E.next&&(d||a(E)===p||(o?o(E,p):"function"!=typeof E[g]&&l(E,g,A)),s(E,C,!0,!0),d&&(f[C]=A))),h==m&&x&&x.name!==m&&(T=!0,R=function(){return x.call(this)}),d&&!b||I[g]===R||l(I,g,R),f[t]=R,h)if(w={values:k(m),keys:_?R:k("keys"),entries:k(y)},b)for(S in w)!v&&!T&&S in I||u(I,S,w[S]);else r({target:t,proto:!0,forced:v||T},w);return w}},function(e,t,n){"use strict";var r=n(31),i=n(53).f,a=n(55),o=n(56),s=n(57),l=n(38),u=n(47),c=function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,d,f,h,p,v,g,m,y=e.target,A=e.global,_=e.stat,b=e.proto,E=A?r:_?r[y]:(r[y]||{}).prototype,w=A?o:o[y]||(o[y]={}),S=w.prototype;for(f in t)n=!a(A?f:y+(_?".":"#")+f,e.forced)&&E&&u(E,f),p=w[f],n&&(v=e.noTargetGet?(m=i(E,f))&&m.value:E[f]),h=n&&v?v:t[f],n&&typeof p==typeof h||(g=e.bind&&n?s(h,r):e.wrap&&n?c(h):b&&"function"==typeof h?s(Function.call,h):h,(e.sham||h&&h.sham||p&&p.sham)&&l(g,"sham",!0),w[f]=g,b&&(u(o,d=y+"Prototype")||l(o,d,{}),o[d][f]=h,e.real&&S&&!S[f]&&l(S,f,h)))}},function(e,t,n){var r=n(39),i=n(54),a=n(46),o=n(22),s=n(45),l=n(47),u=n(41),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=o(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(l(e,t))return a(!i.f.call(e,t),e[t])}},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(24),i=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==u||n!=l&&("function"==typeof t?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},l=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},function(e,t){e.exports={}},function(e,t,n){var r=n(58);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){"use strict";var r=n(60).IteratorPrototype,i=n(67),a=n(46),o=n(78),s=n(28),l=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:a(1,n)}),o(e,u,!1,!0),s[u]=l,e}},function(e,t,n){"use strict";var r,i,a,o=n(61),s=n(38),l=n(47),u=n(64),c=n(35),d=u("iterator"),f=!1;[].keys&&("next"in(a=[].keys())?(i=o(o(a)))!==Object.prototype&&(r=i):f=!0),null==r&&(r={}),c||l(r,d)||s(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(e,t,n){var r=n(47),i=n(62),a=n(48),o=n(63),s=a("IE_PROTO"),l=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t,n){var r=n(26);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(24);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(31),i=n(34),a=n(47),o=n(49),s=n(65),l=n(66),u=i("wks"),c=r.Symbol,d=l?c:o;e.exports=function(e){return a(u,e)||(s&&a(c,e)?u[e]=c[e]:u[e]=d("Symbol."+e)),u[e]}},function(e,t,n){var r=n(24);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){var r=n(65);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol()},function(e,t,n){var r=n(44),i=n(68),a=n(75),o=n(50),s=n(76),l=n(42),u=n(48)("IE_PROTO"),c="prototype",d=function(){},f=function(){var e,t=l("iframe"),n=a.length;for(t.style.display="none",s.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),f=e.F;n--;)delete f[c][a[n]];return f()};e.exports=Object.create||function(e,t){var n;return null!==e?(d[c]=r(e),n=new d,d[c]=null,n[u]=e):n=f(),void 0===t?n:i(n,t)},o[u]=!0},function(e,t,n){var r=n(39),i=n(40),a=n(44),o=n(69);e.exports=r?Object.defineProperties:function(e,t){a(e);for(var n,r=o(t),s=r.length,l=0;l<s;)i.f(e,n=r[l++],t[n]);return e}},function(e,t,n){var r=n(70),i=n(75);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(47),i=n(22),a=n(71).indexOf,o=n(50);e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)!r(o,n)&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~a(u,n)||u.push(n));return u}},function(e,t,n){var r=n(22),i=n(72),a=n(74),o=function(e){return function(t,n,o){var s,l=r(t),u=i(l.length),c=a(o,u);if(e&&n!=n){for(;c<u;)if((s=l[c++])!=s)return!0}else for(;c<u;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t,n){var r=n(73),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t,n){var r=n(73),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r=n(77);e.exports=r("document","documentElement")},function(e,t,n){var r=n(56),i=n(31),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t,n){var r=n(79),i=n(40).f,a=n(38),o=n(47),s=n(80),l=n(64)("toStringTag");e.exports=function(e,t,n,u){if(e){var c=n?e:e.prototype;o(c,l)||i(c,l,{configurable:!0,value:t}),u&&!r&&a(c,"toString",s)}}},function(e,t,n){var r={};r[n(64)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){"use strict";var r=n(79),i=n(81);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,n){var r=n(79),i=n(25),a=n(64)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:o?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r=n(44),i=n(83);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,a){return r(n),i(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},function(e,t,n){var r=n(43);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var r=n(38);e.exports=function(e,t,n,i){i&&i.enumerable?e[t]=n:r(e,t,n)}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){e.exports=n(87)},function(e,t,n){n(88);var r=n(94);e.exports=r("Array").forEach},function(e,t,n){"use strict";var r=n(52),i=n(89);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(e,t,n){"use strict";var r=n(90).forEach,i=n(93);e.exports=i("forEach")?function(e){return r(this,e,1<arguments.length?arguments[1]:void 0)}:[].forEach},function(e,t,n){var r=n(57),i=n(23),a=n(62),o=n(72),s=n(91),l=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,c=4==e,d=6==e,f=5==e||d;return function(h,p,v,g){for(var m,y,A=a(h),_=i(A),b=r(p,v,3),E=o(_.length),w=0,S=g||s,k=t?S(h,E):n?S(h,0):void 0;w<E;w++)if((f||w in _)&&(y=b(m=_[w],w,A),e))if(t)k[w]=y;else if(y)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:l.call(k,m)}else if(c)return!1;return d?-1:u||c?c:k}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},function(e,t,n){var r=n(43),i=n(92),a=n(64)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(25);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";var r=n(24);e.exports=function(e,t){var n=[][e];return!n||!r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t,n){var r=n(56);e.exports=function(e){return r[e+"Prototype"]}},function(e,t,n){e.exports=n(96)},function(e,t,n){n(20);var r=n(97),i=n(81),a=Array.prototype,o={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.keys;return e===a||e instanceof Array&&t===a.keys||o.hasOwnProperty(i(e))?r:t}},function(e,t,n){e.exports=n(98)},function(e,t,n){n(21);var r=n(94);e.exports=r("Array").keys},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r={"./ad/index.js":0,"./danmu/index.js":1,"./marquee/index.js":15,"./polyvPlayerModule/index.js":17,"./record/index.ts":101,"./utils/index.js":125};function i(e){var t=a(e);return n(t)}function a(e){if(n.o(r,e))return r[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}i.keys=function(){return Object.keys(r)},i.resolve=a,(e.exports=i).id=100},function(e,t,n){var r,i,a;n(102),n(111),i=[n(116),n(111),n(102)],void 0===(a="function"==typeof(r=function(e,r,i){"use strict";var a=n(99);e=a(e),r=a(r),i=a(i),t.__esModule=!0;var o=n(120),s="d1f43ce0af2fb2f44bba8af1d9afc0aa",l=(0,i.default)(s).call(s,0,10),u=(0,i.default)(s).call(s,-10),c=window.setInterval,d=window.clearInterval,f="getAttribute",h=window.getComputedStyle,p="errorCode",v=function(){function t(e){var t=e.element,n=e.callback;this.element=t,this.isVideoElement="VIDEO"===t.tagName,this.errorCode=null,this.clock=null,this.check=!!n&&!!t,this.callback="function"==typeof n?n:function(){},this.init()}return t.prototype.setStorage=function(){window.sessionStorage&&(o.session.set(l,u),o.session.set(p,this.errorCode))},t.prototype.getStorage=function(e){return!!window.sessionStorage&&o.session.get(e)},t.prototype.init=function(){var t=this;this.getStorage(l)!==u?this.clock=c((function(){if(t.isVideoElement){var n=t.element[f]("style"),i=(v=h(t.element))["flex-grow"]/1,a=t.check&&v.zIndex,o=t.element[f]("width")||t.element[f]("height"),s=t.element[f]("id"),l=s&&-1!==(0,r.default)(s).call(s,"360"),u=s&&-1!==(0,r.default)(s).call(s,"__wow_video_player__")||t.element[f]("uc-video-toolbar-id"),c=t.element[f]("__polyvNMSL__"),d=(0,e.default)((0,e.default)(window.MediaSource)),p=window.EventTarget&&d===window.EventTarget;n||1===i||a&&"auto"!==a||l||o||u?t.recordChecked(16):(p||c)&&t.recordChecked(15)}else{var v;v=(v=(v=t.element.style.cssText.toLocaleLowerCase()).replace(/\s+/g,"")).replace(/\;+/g,""),/visibility:visible|!important/i.test(v)&&t.recordChecked(16)}}),5e3):this.callback(this.getStorage(p))},t.prototype.recordChecked=function(e){this.errorCode=e,this.setStorage(),this.destroy(),this.callback(e)},t.prototype.destroy=function(){d(this.clock)},t}();t.default=v})?r.apply(t,i):r)||(e.exports=a)},function(e,t,n){e.exports=n(103)},function(e,t,n){e.exports=n(104)},function(e,t,n){var r=n(105),i=Array.prototype;e.exports=function(e){var t=e.slice;return e===i||e instanceof Array&&t===i.slice?r:t}},function(e,t,n){n(106);var r=n(94);e.exports=r("Array").slice},function(e,t,n){"use strict";var r=n(52),i=n(43),a=n(92),o=n(74),s=n(72),l=n(22),u=n(107),c=n(108),d=n(64)("species"),f=[].slice,h=Math.max;r({target:"Array",proto:!0,forced:!c("slice")},{slice:function(e,t){var n,r,c,p=l(this),v=s(p.length),g=o(e,v),m=o(void 0===t?v:t,v);if(a(p)&&("function"!=typeof(n=p.constructor)||n!==Array&&!a(n.prototype)?i(n)&&null===(n=n[d])&&(n=void 0):n=void 0,n===Array||void 0===n))return f.call(p,g,m);for(r=new(void 0===n?Array:n)(h(m-g,0)),c=0;g<m;g++,c++)g in p&&u(r,c,p[g]);return r.length=c,r}})},function(e,t,n){"use strict";var r=n(45),i=n(40),a=n(46);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},function(e,t,n){var r=n(24),i=n(64),a=n(109),o=i("species");e.exports=function(e){return 51<=a||!r((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){var r,i,a=n(31),o=n(110),s=a.process,l=s&&s.versions,u=l&&l.v8;u?i=(r=u.split("."))[0]+r[1]:o&&(!(r=o.match(/Edge\/(\d+)/))||74<=r[1])&&(r=o.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},function(e,t,n){var r=n(77);e.exports=r("navigator","userAgent")||""},function(e,t,n){e.exports=n(112)},function(e,t,n){e.exports=n(113)},function(e,t,n){var r=n(114),i=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===i||e instanceof Array&&t===i.indexOf?r:t}},function(e,t,n){n(115);var r=n(94);e.exports=r("Array").indexOf},function(e,t,n){"use strict";var r=n(52),i=n(71).indexOf,a=n(93),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0,l=a("indexOf");r({target:"Array",proto:!0,forced:s||l},{indexOf:function(e){return s?o.apply(this,arguments)||0:i(this,e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,n){e.exports=n(117)},function(e,t,n){e.exports=n(118)},function(e,t,n){n(119);var r=n(56);e.exports=r.Object.getPrototypeOf},function(e,t,n){var r=n(52),i=n(24),a=n(62),o=n(61),s=n(63);r({target:"Object",stat:!0,forced:i((function(){o(1)})),sham:!s},{getPrototypeOf:function(e){return o(a(e))}})},function(e,t,n){var r,i,a;i=[n(121)],void 0===(a="function"==typeof(r=function(e){"use strict";var r=n(99);e=r(e),t.__esModule=!0;var i,a,o=function(){function t(e){this._storageType=e}return t.prototype.get=function(e){return this._storageType.getItem(e)},t.prototype.getAsJSON=function(e){var t=this.get(e);try{t=JSON.parse(t)}catch(e){return null}return t},t.prototype.set=function(e,t){try{this._storageType.setItem(e,t)}catch(e){}},t.prototype.setAsJSON=function(t,n){this.set(t,(0,e.default)(n))},t.prototype.remove=function(e){this._storageType.removeItem(e)},t}();t.StorageWrap=o,"undefined"!=typeof window&&(i=window.sessionStorage,a=window.localStorage),t.session=new o(i),t.local=new o(a)})?r.apply(t,i):r)||(e.exports=a)},function(e,t,n){e.exports=n(122)},function(e,t,n){e.exports=n(123)},function(e,t,n){n(124);var r=n(56);r.JSON||(r.JSON={stringify:JSON.stringify}),e.exports=function(e,t,n){return r.JSON.stringify.apply(null,arguments)}},function(e,t,n){var r=n(52),i=n(77),a=n(24),o=i("JSON","stringify"),s=/[\uD800-\uDFFF]/g,l=/^[\uD800-\uDBFF]$/,u=/^[\uDC00-\uDFFF]$/,c=function(e,t,n){var r=n.charAt(t-1),i=n.charAt(t+1);return l.test(e)&&!u.test(i)||u.test(e)&&!l.test(r)?"\\u"+e.charCodeAt(0).toString(16):e},d=a((function(){return'"\\udf06\\ud834"'!==o("\udf06\ud834")||'"\\udead"'!==o("\udead")}));o&&r({target:"JSON",stat:!0,forced:d},{stringify:function(e,t,n){var r=o.apply(null,arguments);return"string"==typeof r?r.replace(s,c):r}})},function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";t.__esModule=!0,t.default={getParameterByName:function(e){for(var t=decodeURIComponent(location.search).substr(1).split("&"),n=0;n<t.length;n++){var r=t[n].split("=");if(r[0]==e)return r[1]}return""}}})?r.apply(t,[]):r)||(e.exports=i)}],e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(e){return t[e]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=17)).default;function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var t,n}()},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));e.exports=function(e){return{addEvent:function(t){switch(t){case"__initPreAd":e.event.on("__initPreAd",this.initPreAd)}},initPreAd:function(){e.updateFlowStatus(r.default.PREAD)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(1)),i=d(n(2)),a=d(n(3)),o=d(n(325)),s=d(n(133)),l=d(n(61)),u=d(n(0)),c=d(n(12));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){var n=this;(0,r.default)(this,e),this.settings=t,this.emitter=this.settings.event,this.emitter.on("__initVideo",(function(){n.initVideo()})),this.emitter.on("__videoPlay",(function(){n.videoPlay()})),this.emitter.on("__onChangeStream",(function(e){n.onChangeStream(e)})),this.emitter.on("__onChangeVod",(function(e){n.onChangeVod(e)}))}return(0,i.default)(e,[{key:"initVideo",value:function(){var e=this.settings;if(e.flowStatus!==a.default.ERROR){if(e.supportAutoplay){var t=u.default.getStorage("volume-"+e.vid);t>=0&&t!==e.vol&&e.supportAutoplay&&(e.vol=t),parseFloat(e.volume)&&(e.vol=e.volume,u.default.setStorage("volume-"+e.vid,e.volume))}else{e.mute=!0;var n=new o.default(e);e.muteTipsPanel=n,e.plvContainerPanel.appendChild(n.createDom()),e.node.push(n)}e.guide||(0,s.default)(e).load(),l.default.init(e),e.videoPanel.init()}}},{key:"videoPlay",value:function(){var e=this.settings;e.flowStatus!==a.default.ERROR&&(e.updateFlowStatus(a.default.READY_PLAY),e.videoPanel.videoPlay())}},{key:"onChangeStream",value:function(e){var t=this.settings;if(t.videoPanel){t.liveUrl=e.url;var n=u.default.getFileExt(e.url);"mp4"!==n&&"m3u8"!==n||(t.isVodMode=!0,t.vodUrl=e.url,t.video.loop=e.loop||!1),t.autoPlay=!0,this.emitter.emit("__videoPlay")}}},{key:"onChangeVod",value:function(e){var t=this.settings;t.videoPanel&&(t.isVodMode=!0,t.vodsrc=t.vodUrl=e.url,t.videoId=e.videoId||"",e.statistics&&(t.param1=e.statistics.param1?e.statistics.param1:t.param1,t.param2=e.statistics.param2||e.statistics.viewerName?e.statistics.param2||e.statistics.viewerName:t.param2,t.param3=e.statistics.param3?e.statistics.param3:t.param3,t.param4=e.statistics.param4?e.statistics.param4:t.param4,t.param5=e.statistics.param5?e.statistics.param5:t.param5,t.session_id=e.statistics.sessionId||e.statistics.viewerId?e.statistics.sessionId||e.statistics.viewerId:t.session_id),(0,s.default)(t).changeMode("vod"),t.progress&&(t.progress.dom.style.display=""),t.time&&(t.time.dom.style.display=""),this.emitter.emit(c.default.CHANGE_LIVE_STATUS,{liveSatus:!1}),this.emitter.emit("__videoPlay"),t.s2j_onStartPlay())}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(1)),i=l(n(2)),a=l(n(3)),o=l(n(31)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var u={init:n(326)},c=function(){function e(t){(0,r.default)(this,e),this.s=t,this.showed=!1}return(0,i.default)(e,[{key:"createDom",value:function(){return this.dom=s.default.createDivFromString("plv-live-player-muteTips-none"),this.dom}},{key:"show",value:function(){var e=this;this.dom.className="plv-live-player-muteTips";var t=s.default.getLanguageTxt(o.default.tipsMsg,this.s.language),n=s.default.getLanguageTxt(o.default.tipsPlayAudioMsg,this.s.language),r=s.default.getLanguageTxt(o.default.tipsIgnoreMsg,this.s.language),i=u.init({tipsMsgText:t,tipsPlayAudioMsgText:n,tipsIgnoreMsgText:r});this.dom.innerHTML=i;var a=this.dom.querySelector(".plv-live-player-muteTips-btn-ignore");s.default.addHandler(a,"click",(function(){e.hide()}));var l=this.dom.querySelector(".plv-live-player-muteTips-btn-play-audio");s.default.addHandler(l,"click",(function(){e.s.volumeslide.setVolume(s.default.getStorage("volume-"+e.s.vid)||.5),e.hide()}))}},{key:"hide",value:function(){this.dom.className="plv-live-player-muteTips-none"}},{key:"updateFlow",value:function(){this.s.flowStatus!==a.default.PLAYING||!this.s.mute||this.s.pptMode||this.s.banMuteTips||this.showed||(this.show(),this.showed=!0)}}]),e}();t.default=c},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,n,r,i){var a=t.split("\n"),o=Math.max(r-3,0),s=Math.min(a.length,r+3),l=i(n),u=a.slice(o,s).map((function(e,t){var n=t+o+1;return(n==r?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div>\r\n  <span><%= tipsMsgText %></span>\r\n  <div class="plv-live-player-btn plv-live-player-muteTips-btn plv-live-player-muteTips-btn-play-audio"><%= tipsPlayAudioMsgText %></div>\r\n  <div class="plv-live-player-btn plv-live-player-muteTips-btn plv-live-player-muteTips-btn-ignore"><%= tipsIgnoreMsgText %></div>\r\n</div>\r\n',__filename="src\\js\\component\\templates\\muteTips.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append("<div>\r\n  <span>"),__line=2,__append(escapeFn(tipsMsgText)),__append('</span>\r\n  <div class="plv-live-player-btn plv-live-player-muteTips-btn plv-live-player-muteTips-btn-play-audio">'),__line=3,__append(escapeFn(tipsPlayAudioMsgText)),__append('</div>\r\n  <div class="plv-live-player-btn plv-live-player-muteTips-btn plv-live-player-muteTips-btn-ignore">'),__line=4,__append(escapeFn(tipsIgnoreMsgText)),__append("</div>\r\n</div>\r\n"),__line=6;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},function(e,t,n){"use strict";var r=p(n(107)),i=p(n(1)),a=p(n(2)),o=p(n(328)),s=p(n(3)),l=p(n(31)),u=p(n(0)),c=p(n(25)),d=p(n(42)),f=n(81),h=p(n(60));function p(e){return e&&e.__esModule?e:{default:e}}var v=function(){function e(t){var n=this;(0,i.default)(this,e),this.setting=t,this.vid=null,this.uid=null,this.code=null,t.event.on("__initMarquee",(function(){n.initMarquee()}))}return(0,a.default)(e,[{key:"initMarquee",value:function(){var e=this.setting;e.s2j_requestMarqueeAPI();var t=e.marqueeType,n=e.vid,r=e.uid,i=e.code,a=e.webappCustomDomain;this.vid=n,this.uid=r,this.code=i;var c=!1;a&&(c=a.split(",").includes(d.default.host)),t&&!c?("diyurl"===t?this.diyurl(e):this.nodiyurl(e)).then((function(t){if(t){var n=t;"off"!==t.show&&(e.marqueePanel=new o.default({s:e,marqueeData:n,recordCallback:function(){e.errorCode="LIVE-#022";var t=u.default.getLanguageTxt(l.default.marqueeErrorMsg,e.language)+" "+e.errorCode;e.error.showErrorByMsg(t),e.updateFlowStatus(s.default.ERROR);var r=0;n.username||(r=0),console.error(e.errorCode,"跑马灯被删除/修改",r)}})).setup(),e.event.emit("s2j_marqueeName",n),e.event.emit("__initPassword")}else e.errorCode="LIVE-#012",t.msg&&e.error.showErrorByMsg(t.msg),e.updateFlowStatus(s.default.ERROR),console.error(e.errorCode,"跑马灯加载失败/错误")})):e.event.emit("__initPassword")}},{key:"nodiyurl",value:function(e){var t=this,n=e.requestMarqueeAPI,r=e.marqueeType,i=e.marqueeSign,a=e.marquee,o=e.marqueeFontColor,s=e.marqueeFontSize,l=e.marqueeOpacity,h=e.marqueeSetting,p=e.param2,v=e.vid,g={},m=n;return g.marqueeType=r,g.marqueeSign=i,g.username=a,g.fontColor=o,g.fontSize=s,g.alpha=l,g.setting=h,g.show="on",new Promise((function(e){if(m&&"nickname"===r){var n="//"+d.default.host+"/watch/"+v+"/get-encrypted-name";(0,c.default)({url:n,dataType:"jsonp",data:{type:"nickname"},success:function(n){if(200===n.code){var r=u.default.aes128CbcDecrypt(n.data,"polyvliveplayer1","1111000011110000"),i=f.Base64.decode(r);t.checkSign(g,0,1)?(g.username=i,t.marqueeData=g,e(g)):e(!1)}else e(!1)},error:function(){e(!1)}})}else t.checkSign(g)?(t.marqueeData=g,"nickname"===r&&(t.marqueeData.username=p),e(g)):e(!1)}))}},{key:"diyurl",value:function(e){var t=this,n=e.vid,i=e.uid,a=e.withCredentials,o=e.marquee,s=(new Date).getTime()+Math.floor(1e9*Math.random()),l=this;return new Promise((function(e){!function(o){(0,c.default)({url:o,dataType:"jsonp",withCredentials:a||!1,data:{t:s,vid:n,uid:i,code:t.code},success:function(t){var n=void 0;try{n="object"===(void 0===t?"undefined":(0,r.default)(t))?l.marqueeData=t:l.marqueeData=JSON.parse(t)}catch(t){e(!1)}l.checkSign(n,s,0)?e(n):e(!1)},error:function(){e(!1)}})}(o)}))}},{key:"checkSign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e.username,i=e.msg,a=e.fontSize,o=e.fontColor,s=e.speed,l=e.filter,u=e.setting,c=e.alpha,d=e.filterAlpha,f=e.filterColor,p=e.blurX,v=e.blurY,g=e.interval,m=e.lifeTime,y=e.tweenTime,A=e.strength,_=e.show,b=e.sign,E=e.marqueeSign,w=e.marqueeType,S=void 0;S=0===n?"vid="+this.vid+"&uid="+this.uid+"&username="+r+"&code="+this.code+"&t="+t+"&msg="+i+"&fontSize="+a+"&fontColor="+o+"&speed="+s+"&filter="+l+"&setting="+u+"&alpha="+c+"&filterAlpha="+d+"&filterColor="+f+"&blurX="+p+"&blurY="+v+"&interval="+g+"&lifeTime="+m+"&tweenTime="+y+"&strength="+A+"&show="+_:r+o+a+c+w;var k=(0,h.default)(S);return b===k||E===k||(console.error("跑马灯签名错误"),!1)}}]),e}();e.exports=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(1)),i=o(n(2)),a=o(n(329));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){var n=this,i=t.s,o=t.marqueeData,s=t.recordCallback,l=void 0===s?function(){}:s;(0,r.default)(this,e),this.recordCallback=l,this.video=i.videoPanel.dom,this.wrap=i.plvContainer.dom;var u=new a.default({video:this.video,wrap:this.wrap,data:Object.assign({},o),marqueeCheck:function(){n.recordCallback(),n.destroy()}});this.marquee=u}return(0,i.default)(e,[{key:"setup",value:function(){this.marquee&&this.marquee.setup()}},{key:"destroy",value:function(){this.marquee&&this.marquee.destroy()}}]),e}();t.default=s},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var l=function(e){for(var t="",n=0;n<e;n++)t+=String.fromCharCode(122-Math.floor(26*Math.random()));return t},u=function(e){if("#"===e[0])return e;for(var t=Number(e).toString(16),n=6-t.length,r=0;r<n;r++)t="0"+t;return"#"+t},c={setting:1,requestData:{"font-size":"30px",color:"#000000",transition:"transform 20s linear","-webkit-transition":"-webkit-transform 20s linear",transform:"translateX(0)","-webkit-transform":"translateX(0)",opacity:"1",left:"100%",display:"inline-block"},initData:{margin:"0px",padding:"0px",position:"absolute",overflow:"visible",visibility:"visible",bottom:"auto",border:"0px solid transparent",animation:"none","-webkit-animation":"none","user-select":"none","-webkit-user-select":"none","white-space":"nowrap","pointer-events":"none","z-index":"auto"},parentData:{width:"100%",height:"100%",top:"0px",left:"0px",transform:"none","-webkit-transform":"none",display:"block",opacity:"1",overflow:"hidden"}},d=function(){function e(t){var n=t.video,r=t.wrap,i=t.data,a=t.marqueeCheck,o=t.vid;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lifeTime=5,this.interval=0,this.parentDataString="",this.hideParentDataString="",this.childrenDataString="",this.firstPlay=!1,this.legalRemove=!0,this.left=0,this.top=0,this.vid=o,this.video=n,this.wrap=r,this.check=!!a&&!!n,this.checkCallback="function"==typeof a?a:function(){},this.marqueeData=i,this.clock2,this.options={},this.options.style=c.requestData,this.fixMarqueeHideInterval=20}return function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,[{key:"checkExist",value:function(){var t=this;this.existClock&&clearInterval(this.existClock),this.existClock=setInterval((function(){if(t.video&&!t.video.paused&&t.marqueeChild&&t.marqueeWrap&&t.styleE2&&t.styleE1){var n=t.options.content&&t.options.content===t.marqueeChild.textContent,r=e.getStyleString(t.marqueeChild,t.legalString)===t.styleE2.textContent,i=e.getStyleString(t.marqueeWrap,t.legalPstring)===t.styleE1.textContent,a=t.marqueeWrap.getAttribute("style")||t.marqueeChild.getAttribute("style"),o=!(!t.styleE1.parentNode||!t.styleE2.parentNode),s=t.marqueeWrap.parentNode===t.wrap,l=!1,u=!1,c=!1,d=!0,f=!1;if(s){var h=t.marqueeWrap.offsetWidth;Math.abs(h-t.video.offsetWidth)>1&&(l=!0),Math.abs(t.marqueeWrap.offsetHeight-t.video.offsetHeight)>1&&(u=!0),d=!t.marqueeWrap.offsetTop&&!t.marqueeWrap.offsetLeft;var p=window.getComputedStyle(t.marqueeChild);c=t.checkStyle(p),t.checkPosition(p,h)||(d=!1),(t.video.offsetTop||t.video.offsetLeft)&&(d=!1),3!==t.setting&&(f=t.checkStyle(window.getComputedStyle(t.marqueeWrap),!1,!0))}if(l||u||f||!d||!o||a||!r||!i||c||!n||!s&&!t.legalRemove){var v=[];[l,u,f,!d,!o,a,!r,!i,c,!n,!s&&!t.legalRemove].forEach((function(e,t){e&&v.push(t)})),t.checkCallback(v),t.existClock&&clearInterval(t.existClock)}}}),5e3)}},{key:"checkPosition",value:function(e,t){var n=[2,5,7],r=parseInt(e.left),i=parseInt(e.top);return!(this.setting&&(Math.abs(i-this.top)>1||-1===n.indexOf(this.setting)&&Math.abs(r-t)>1&&this.video&&this.video.offsetWidth!==t||-1!==n.indexOf(this.setting)&&Math.abs(r-this.left)>1))}},{key:"checkStyle",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!(Number(e.opacity)<.01||"none"===e.display||"visible"!==e.visibility||t&&parseInt(e.fontSize)<12||parseInt(e.marginTop||"")||parseInt(e.marginBottom||"")||parseInt(e.marginLeft||"")||parseInt(e.marginRight||"")||parseInt(e.paddingLeft||"")||parseInt(e.paddingRight||"")||parseInt(e.paddingTop||"")||parseInt(e.paddingBottom||"")||parseInt(e.borderBottomWidth||"")||parseInt(e.borderTopWidth||"")||parseInt(e.borderLeftWidth||"")||parseInt(e.borderRightWidth||"")||"absolute"!==e.position||"auto"!==e.zIndex&&"0"!==e.zIndex||n&&parseInt(e.bottom||""))}},{key:"getEvents",value:function(){var e=this;return{play:function(){if(e.marqueeWrap&&(e.legalPstring=e.parentDataString,e.setStyle1Text(),!e.firstPlay))switch(e.firstPlay=!0,e.wrap.appendChild(e.marqueeWrap),e.legalRemove=!1,e.check&&e.checkExist(),e.setting){case 1:e.showStyle1();break;case 2:e.showStyle2();break;case 3:e.showStyle3();break;case 4:e.showStyle1(.3);break;case 5:e.showStyle2(.3);break;case 6:e.showStyle1();break;case 7:e.showStyle2();break;default:return}},pause:function(){e.legalPstring=e.hideParentDataString,e.setStyle1Text()},ended:function(){e.firstPlay=!1,e.removeMarqueeWrap(),e.clock&&clearInterval(e.clock),e.initElement()}}}},{key:"setup",value:function(){var t=this.video;this.styleE1=e.createStyle(),this.styleE2=e.createStyle(),this.wrap.appendChild(this.styleE1),this.wrap.appendChild(this.styleE2),this.setting=(this.marqueeData.setting||1)/1,this.lifeTime=(this.marqueeData.lifeTime||1)/1*1e3,this.interval=1e3*(this.marqueeData.interval/1||0),this.legalPstring=this.parentDataString=e.makeStyleString(c.initData)+e.makeStyleString(c.parentData),this.hideParentDataString=this.parentDataString.replace("opacity:1","opacity:0"),this.options.style=e.mixOption(this.options.style,this.marqueeData),this.options.content=this.marqueeData.username,this.options.speed=(this.marqueeData.speed?this.marqueeData.speed/10:20)/1,this.legalString=this.childrenDataString=e.makeStyleString(c.initData)+e.makeStyleString(this.options.style),this.marqueeWrap=e.createParentElement();var n=this.marqueeChild=e.createRandomElement();if(n.textContent=this.options.content,this.marqueeWrap.appendChild(n),this.childWidth=this.countChildWidth(),this.childHeight=parseInt(this.options.style["font-size"]),this.setStyle1Text(),this.setStyle2Text(),this.eventObject=this.getEvents(),t)for(var r in this.eventObject)"function"==typeof this.eventObject[r]&&t.addEventListener(r,this.eventObject[r]);(t&&!t.paused||!t)&&this.eventObject.play(),6!==this.setting&&7!==this.setting||(this.vid&&t?(this.showFixMarquee(),this.eventObject.timeupdate=this.timeupdate.bind(this),t.addEventListener("timeupdate",this.eventObject.timeupdate)):this.showLiveFixMarquee())}},{key:"setStyle1Text",value:function(){this.styleE1&&this.marqueeWrap&&(this.styleE1.textContent=e.getStyleString(this.marqueeWrap,this.legalPstring))}},{key:"setStyle2Text",value:function(){this.styleE2&&this.marqueeChild&&(this.styleE2.textContent=e.getStyleString(this.marqueeChild,this.legalString))}},{key:"countChildWidth",value:function(){var e=document.createElement("div");e.setAttribute("style",this.childrenDataString),e.textContent=this.options.content,e.style.visibility="hidden",e.style.position="fixed";var t=document.querySelector("body")||document.querySelector("html")||document;t.appendChild(e);var n=e.clientWidth;return setTimeout((function(){t.removeChild(e)}),16),n}},{key:"initElement",value:function(){var t=this.video&&this.video.paused?this.hideParentDataString:this.parentDataString;this.removeMarqueeWrap(),this.legalPstring=t,this.marqueeWrap=e.createParentElement(),this.marqueeChild=e.createRandomElement(),this.legalString=this.childrenDataString,this.marqueeChild.textContent=this.options.content,this.marqueeWrap.appendChild(this.marqueeChild),this.wrap.appendChild(this.marqueeWrap),this.setStyle1Text(),this.setStyle2Text(),this.legalRemove=!1}},{key:"timeupdate",value:function(){if(this.video){var t=this.fixMarqueeData,n=t.vidData,r=t.style,i=t.cycleTime,a=this.video.currentTime%i;if(-1!==t.index){var o=n[t.index].interval;if(a>=o[0]&&a<o[1])return}var s=n.findIndex((function(e){return a>=e.interval[0]&&a<e.interval[1]}));if(t.index!==s){if(this.removeFixMarquee(),-1!==s){var l=n[s];t.el=e.createFixMarquee(l.position,this.options.content,r),this.wrap.append(t.el)}t.index=s}}}},{key:"removeFixMarquee",value:function(){if(this.fixMarqueeData&&this.fixMarqueeData.el)try{e.removeChild(this.fixMarqueeData.el)}catch(e){console.warn(e)}}},{key:"showFixMarquee",value:function(){if(this.vid){var t=a({},c.initData);delete t.bottom;var n=e.convertVid(this.vid,this.fixMarqueeHideInterval),r=a({},this.marqueeData);r.alpha=.01,this.fixMarqueeData={style:e.makeStyleString(t)+e.makeStyleString(e.mixOption({},r)),index:-1,vidData:n,cycleTime:n.reduce((function(e,t){return e+t.seconds+20}),0)}}}},{key:"showLiveFixMarquee",value:function(){var t=this,n=a({},c.initData),r=a({},c.requestData,{alpha:.01,fontSize:"14",filter:"on",fontColor:"0xffffff"});this.liveFixMarquee={style:"",clock:NaN,el:e.createRandomElement(5),styleEl:e.createStyle(),clear:function(){t.liveFixMarquee.clock&&clearTimeout(t.liveFixMarquee.clock),t.liveFixMarquee.clock=NaN},append:function(){t.wrap.appendChild(t.liveFixMarquee.el),t.wrap.appendChild(t.liveFixMarquee.styleEl)},remove:function(){e.removeChild(t.liveFixMarquee.el),e.removeChild(t.liveFixMarquee.styleEl)},initElement:function(){(t.liveFixMarquee.el=e.createRandomElement(5)).textContent=t.options.content,t.liveFixMarquee.append()},countStyle:function(){var i=t.wrap,a=i.clientWidth,o=i.clientHeight,s=Math.floor(Math.random()*(a-16*t.options.content.length)),l=e.countTop(o,16,1),u=e.makeStyleString(n)+e.makeStyleString(e.mixOption({top:"".concat(l,"px"),left:"".concat(s,"px")},r));t.liveFixMarquee.styleEl.textContent=e.getStyleString(t.liveFixMarquee.el,u)}},this.showLiveFixMarqueeStyle()}},{key:"showLiveFixMarqueeStyle",value:function(){var e=this;this.liveFixMarquee.initElement(),this.liveFixMarquee.countStyle(),function t(){e.liveFixMarquee.clock=setTimeout((function(){e.liveFixMarquee.remove(),e.liveFixMarquee.initElement(),e.liveFixMarquee.countStyle(),t()}),e.interval||3e3)}()}},{key:"removeLiveFixMarquee",value:function(){this.liveFixMarquee&&(this.liveFixMarquee.clear(),this.liveFixMarquee.remove(),this.liveFixMarquee=null)}},{key:"showStyle1",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.countStyle1Position(t),this.clock=setInterval((function(){e.initElement(),e.countStyle1Position(t)}),1e3*(this.options.speed+2))}},{key:"showStyle2",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.countStyle2Position(t),this.clock2=setTimeout((function(){e.removeMarqueeWrap()}),this.lifeTime),this.clock=setInterval((function(){e.clock2&&clearTimeout(e.clock2),e.initElement(),e.countStyle2Position(t),e.clock2=setTimeout((function(){e.removeMarqueeWrap()}),e.lifeTime)}),this.interval+this.lifeTime)}},{key:"showStyle3",value:function(){var e=this;this.countStyle1Position(),this.clock=setInterval((function(){e.initElement(),e.countStyle1Position()}),this.interval+1e3*this.options.speed);var t=0;this.clock2=setInterval((function(){e.countStyle3Position(t),t=t?0:1}),3e3)}},{key:"initMarqueeWrap",value:function(){var e=this;this.marqueeWrap&&(this.marqueeWrap.onclick=function(){e.video&&e.video.click()})}},{key:"countStyle1Position",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.marqueeWrap&&this.childHeight&&this.childWidth){var n=this.marqueeWrap,r=n.clientWidth,i=n.clientHeight;this.top=e.countTop(i,this.childHeight,t),this.left=r,this.legalString="".concat(this.childrenDataString.replace(/translateX\(0\)/g,"translateX(-"+(r+this.childWidth)+"px)"),"top:").concat(this.top,"px"),this.setStyle2Text()}}},{key:"countStyle2Position",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.marqueeWrap&&this.childHeight&&this.childWidth){var n=this.marqueeWrap,r=n.clientWidth,i=n.clientHeight;this.left=Math.floor(Math.random()*(r-this.childWidth)),this.top=e.countTop(i,this.childHeight,t),this.legalString="".concat(this.childrenDataString.replace("left:100%","left:"+this.left+"px"),"top:").concat(this.top,"px"),this.setStyle2Text()}}},{key:"countStyle3Position",value:function(e){this.legalPstring=this.parentDataString.replace("opacity:1","opacity:".concat(e)),this.setStyle1Text()}},{key:"removeMarqueeWrap",value:function(){this.legalRemove=!0;try{e.removeChild(this.marqueeWrap)}catch(e){}}},{key:"removeStyle",value:function(){this.styleE1&&e.removeChild(this.styleE1),this.styleE2&&e.removeChild(this.styleE2)}},{key:"destroy",value:function(){var e=this.setting;if(this.existClock&&clearInterval(this.existClock),this.removeMarqueeWrap(),this.removeStyle(),this.removeFixMarquee(),this.removeLiveFixMarquee(),this.clock&&clearInterval(this.clock),3===e&&this.clock2&&clearInterval(this.clock2),2!==e&&5!==e&&7!==e||!this.clock2||clearTimeout(this.clock2),this.video)for(var t in this.eventObject)this.video.removeEventListener(t,this.eventObject[t])}}],[{key:"removeChild",value:function(e){if(e){var t=e.parentNode;t&&t.removeChild(e)}}},{key:"makeStyleString",value:function(e){var t="";for(var n in e)t+="".concat(n,":").concat(e[n]," !important;");return t}},{key:"createRandomElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return document.createElement(l(e))}},{key:"createParentElement",value:function(){return e.createRandomElement()}},{key:"parseColor",value:function(e){for(var t=(e/1).toString(16),n=6-t.length,r=0;r<n;r++)t="0"+t;return"#"+t}},{key:"mixOption",value:function(e,t){return t.fontSize&&(e["font-size"]=Math.max(t.fontSize/1,12)+"px"),t.fontColor&&(e.color=u(t.fontColor)),t.alpha&&("string"==typeof t.alpha&&"%"===t.alpha.slice(-1)?e.opacity=parseInt(t.alpha)/100+"":e.opacity=Math.max(t.alpha/1,.01)+""),t.speed&&(e.transition="transform ".concat(t.speed/10,"s linear"),e["-webkit-transition"]="-webkit-transform ".concat(t.speed/10,"s linear")),"on"===t.filter&&(e["text-shadow"]=t.filterColor?"0 0 2px ".concat(u(t.filterColor)):"0 0 2px #000000"),e}},{key:"createStyle",value:function(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}},{key:"getStyleString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(e.nodeName.toLowerCase(),"{").concat(t,"}")}},{key:"convertVid",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=e.slice(0,32),i=0;return r(new Array(8)).reduce((function(e,r,a){var o=n.slice(4*a,4*(a+1)),s=parseInt(o[2],16)+parseInt(o[3],16)+30,l=i+s;return e.push({content:o,seconds:s,position:parseInt(o.slice(0,2),16)%4,interval:[i,l]}),i=l+t,e}),[])}},{key:"createFixMarquee",value:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=e.createRandomElement();return a.setAttribute("style",i+e.makeStyleString((o(n={},t%2==0?"left":"right","20px"),o(n,t>1?"bottom":"top","20px"),n))),a.textContent=r,a}},{key:"countTop",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e-t,i=Math.floor(Math.random()*(r*n));return i<r*n/2?i:r*(1-n)+i}}]),e}();t.default=d}]).default},function(e,t,n){"use strict";e.exports=function(e){return{addEvent:function(t){switch(t){case"__initPassword":e.event.on("__initPassword",this.initPassword);break;case"__passwordDone":e.event.on("__passwordDone",this.passwordDone)}},initPassword:function(){e.password.init()},passwordDone:function(){e.event.emit("__initCutOff")}}}},function(e,t,n){"use strict";e.exports=function(e){return{addEvent:function(t){switch(t){case"__initCutOff":e.event.on("__initCutOff",this.initCutOff)}},initCutOff:function(){e.banWarnUp||e.vodsrc||e.cutOff.init(),e.banLogo||e.logo.init(),e.event.emit("__initVideo")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(1)),i=l(n(2)),a=l(n(12)),o=l(n(87)),s=l(n(61));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var n=this;(0,r.default)(this,e),this.settings=t,t.event.on("__onChangeLevel",(function(e){n.onChangeLevel(e)})),t.event.on(a.default.ON_LEVEL_CHANGED,(function(e){n.onLevelChanged(e)})),t.event.on("__onChangeRate",(function(e){n.onChangeRate(e)})),t.event.on(a.default.CHANGE_RATE_EVENT,(function(e){n.onRateChanged(e)})),t.event.on("__onChangeLine",(function(e){n.onChangeLine(e)})),t.event.on(a.default.ON_LINE_CHANGED,(function(e){n.onLineChanged(e)})),t.event.on("__onShowVolumePanel",(function(e){n.onShowVolumePanel(e)})),t.event.on("__onDestroy",(function(){n.onDestroy()}))}return(0,i.default)(e,[{key:"onChangeLevel",value:function(e){var t=this.settings;t.df=e;var n={2:"超清",1:"高清",0:"流畅"}[e];t.event.emit(a.default.CHANGE_LEVEL,{hd:n})}},{key:"onLevelChanged",value:function(e){var t=this.settings,n={"超清":2,"高清":1,"流畅":0}[e.definitionType];t.df=n,t.event.emit("s2j_onLevelsChanged",{hd:n,cid:t.vid})}},{key:"onChangeRate",value:function(e){this.settings.event.emit(a.default.CHANGE_RATE,{rate:e})}},{key:"onRateChanged",value:function(e){var t=this.settings,n=parseFloat(e.rate);t.event.emit("s2j_onRateChanged",{rate:n,cid:t.vid})}},{key:"onShowVolumePanel",value:function(e){var t=this.settings.volumePanel;t&&(e?t.show():t.hide())}},{key:"onChangeLine",value:function(e){var t=this.settings;e!==t.line&&(t.line=e,t.event.emit(a.default.API_CHANGE_LINE,{line:e}))}},{key:"onLineChanged",value:function(e){var t=this.settings,n=e.lineType;t.line=n,t.event.emit("onLineChanged",{line:n,cid:t.vid}),t.onPPTDelayTime()}},{key:"onDestroy",value:function(){var e=this.settings;e.event.removeAllListeners(),e.on=null,e.video=null,s.default.destroy(),e.videoPanel.destroy(),o.default.destroy(e)}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(1)),i=s(n(2)),a=s(n(12)),o=s(n(61));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){var n=this;(0,r.default)(this,e),this.settings=t,t.event.on(a.default.ERROR_DESTROY,(function(){n.onDestroy()}))}return(0,i.default)(e,[{key:"onDestroy",value:function(){var e=this.settings;e.onPlayerError(),e.event.emit(a.default.PLAYER_ERROR),e.event.removeAllListeners(),e.on=null,e.video=null,o.default.destroy(),e.videoPanel.destroy()}}]),e}();t.default=l}])}));